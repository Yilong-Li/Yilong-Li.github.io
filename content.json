{"meta":{"title":"Blog","subtitle":"MondayCha's","description":"","author":"DLee","url":"https://mondaycha.github.io","root":"/"},"posts":[{"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"https://mondaycha.github.io/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"é“¾è¡¨","slug":"é“¾è¡¨","permalink":"https://mondaycha.github.io/tags/%E9%93%BE%E8%A1%A8/"}],"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://mondaycha.github.io/categories/LeetCode/"}],"title":"LeetCode(86) åˆ†éš”é“¾è¡¨","date":"2021/01/03","text":"åŸºæœ¬æ€è·¯æ„Ÿè§‰å’Œå¿«é€Ÿæ’åºä¸­çš„Partitionå¾ˆæ¥è¿‘, ç›¸æ¯”æ•°ç»„çš„åˆ†å‰², é“¾è¡¨å¯ä»¥ç›´æ¥åˆ†åˆ«å‚¨å­˜å·¦æ”¯å’Œå³æ”¯, åœ¨æ€è·¯ä¸Šä¼šæ¸…æ™°å¾ˆå¤š. è€Œå¦‚æœä¾ç„¶æ˜¯é‡‡ç”¨å¿«æ’çš„æ–¹å¼, é‚£ä¹ˆå°±éœ€è¦åœ¨äº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹æ—¶ä¾æ¬¡æ›¿æ¢æ‰€æœ‰å…³è”èŠ‚ç‚¹, æ•ˆç‡ä¸å¦‚å‰è€…. Javaä»£ç class Solution { public ListNode partition(ListNode head, int x) { ListNode smallHead = new ListNode(0); ListNode smallEnd = smallHead; ListNode largeHead = new ListNode(0); ListNode largeEnd = largeHead; ListNode currentNode = head; while (currentNode != null) { if (currentNode.val < x) { smallEnd.next = currentNode; smallEnd = smallEnd.next; } else { largeEnd.next = currentNode; largeEnd = largeEnd.next; } currentNode = currentNode.next; } largeEnd.next = null; smallEnd.next = largeHead.next; return smallHead.next; }} æµ‹è¯•ä»£ç : public static void main(String[] args) { Solution solution = new PartitionList().new Solution(); ListNode n1 = new ListNode(1); ListNode n2 = new ListNode(2); ListNode n3 = new ListNode(3); ListNode n4 = new ListNode(4); n4.next = n3; n3.next = n1; n1.next = n2; System.out.println(solution.partition(n4, 2));} å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ éå†äº†é“¾è¡¨ä¸€æ¬¡ ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ è§£ç­”ç»“æœæ‰§è¡Œè€—æ—¶:0 ms,å‡»è´¥äº†100.00% çš„Javaç”¨æˆ·å†…å­˜æ¶ˆè€—:37.9 MB,å‡»è´¥äº†35.15% çš„Javaç”¨æˆ·","permalink":"https://mondaycha.github.io/2021/01/03/21-01-03/","photos":[]},{"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"https://mondaycha.github.io/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"åŒå‘é˜Ÿåˆ—","slug":"åŒå‘é˜Ÿåˆ—","permalink":"https://mondaycha.github.io/tags/%E5%8F%8C%E5%90%91%E9%98%9F%E5%88%97/"},{"name":"å•è°ƒé˜Ÿåˆ—","slug":"å•è°ƒé˜Ÿåˆ—","permalink":"https://mondaycha.github.io/tags/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/"}],"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://mondaycha.github.io/categories/LeetCode/"}],"title":"LeetCode(239) æ»‘åŠ¨çª—å£æœ€å¤§å€¼","date":"2021/01/02","text":"å‰æ®µæ—¶é—´çš„LeetCodeæ¯æ—¥æ‰“å¡ä¹Ÿè®¸å¯ä»¥è¯´åšæŒä½äº†, æ¥ä¸‹æ¥æœç€æ¯æ¬¡åšå®Œéƒ½è¾“å‡ºé¢˜è§£çš„ç›®æ ‡åŠªåŠ›å§. åŸºæœ¬æ€è·¯ä¹‹å‰æ²¡æœ‰åšè¿‡æ»‘åŠ¨çª—å£çš„é¢˜,çœ‹åˆ°å®ƒæˆ‘çš„ç¬¬ä¸€ååº”: DP! é‚£ä¹ˆå°±éœ€è¦ç»´æŠ¤å½“å‰çª—å£å†…çš„indexä¸æ•°å­—å¤§å°æ¬¡åº, ä½†æ˜¯è¦å¦‚ä½•æŠŠå·²ç»ä½äºçª—å£å·¦ä¾§çš„æ•°å­—å‰”é™¤å‘¢? æˆ‘æ²¡æœ‰å¾ˆå¥½çš„æ€è·¯. æœ€åçœ‹äº†é¢˜è§£â€¦â€¦åŸæ¥æ˜¯è¿™æ ·çš„å•Š.é˜Ÿé¦–çš„å…ƒç´ å¿…ç„¶æ˜¯çª—å£ä»¥åŠçª—å£ä¹‹å‰å…ƒç´ çš„æœ€å¤§å€¼, åœ¨å–å‡ºé˜Ÿé¦–å…ƒç´ æ—¶åˆ¤æ–­æ˜¯å¦å·²ç»è¿‡æœŸ, å¦‚æœè¿‡æœŸåˆ™å‡ºé˜Ÿ, å¦™è€¶. indexå’Œå¯¹åº”æ•°å­—éƒ½å°çš„å¿…ç„¶ä¸ä¼šè¢«é€‰æ‹©, æ‰€ä»¥å¯ä»¥å°†è¿™ä¸ªåŒå‘é˜Ÿåˆ—ä¼˜åŒ–ä¸ºå•è°ƒé˜Ÿåˆ—. Dequeæ•°æ®ç»“æ„è¦è¾¾åˆ°$O(n)$çº§åˆ«å¤æ‚åº¦çš„å…³é”®å°±åœ¨äºåŒå‘é˜Ÿåˆ—è¿™ä¸ªæ•°æ®ç»“æ„, å¯ä»¥åœ¨é˜Ÿåˆ—çš„é¦–å°¾è¿›è¡Œæ“ä½œ(è€Œä¸€èˆ¬çš„é˜Ÿåˆ—åªèƒ½ä»é˜Ÿå°¾å…¥é˜Ÿ, ä»é˜Ÿé¦–å‡ºé˜Ÿ). Dequeçš„APIå¦‚ä¸‹: æ’å…¥å…ƒç´ addFirst(): å‘é˜Ÿå¤´æ’å…¥å…ƒç´ ï¼Œå¦‚æœå…ƒç´ ä¸ºç©ºï¼Œåˆ™å‘ç”ŸNPE(NPEæ˜¯æŒ‡ç¼–ç¨‹è¯­è¨€ä¸­çš„ç©ºæŒ‡é’ˆå¼‚å¸¸)addLast(): å‘é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™å‘ç”ŸNPEofferFirst(): å‘é˜Ÿå¤´æ’å…¥å…ƒç´ ï¼Œå¦‚æœæ’å…¥æˆåŠŸè¿”å›trueï¼Œå¦åˆ™è¿”å›falseofferLast(): å‘é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œå¦‚æœæ’å…¥æˆåŠŸè¿”å›trueï¼Œå¦åˆ™è¿”å›false ç§»é™¤å…ƒç´ removeFirst(): è¿”å›å¹¶ç§»é™¤é˜Ÿå¤´å…ƒç´ ï¼Œå¦‚æœè¯¥å…ƒç´ æ˜¯nullï¼Œåˆ™å‘ç”ŸNoSuchElementExceptionremoveLast(): è¿”å›å¹¶ç§»é™¤é˜Ÿå°¾å…ƒç´ ï¼Œå¦‚æœè¯¥å…ƒç´ æ˜¯nullï¼Œåˆ™å‘ç”ŸNoSuchElementExceptionpollFirst(): è¿”å›å¹¶ç§»é™¤é˜Ÿå¤´å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—æ— å…ƒç´ ï¼Œåˆ™è¿”å›nullpollLast(): è¿”å›å¹¶ç§»é™¤é˜Ÿå°¾å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—æ— å…ƒç´ ï¼Œåˆ™è¿”å›null è·å–å…ƒç´ getFirst(): è·å–é˜Ÿå¤´å…ƒç´ ä½†ä¸ç§»é™¤ï¼Œå¦‚æœé˜Ÿåˆ—æ— å…ƒç´ ï¼Œåˆ™å‘ç”ŸNoSuchElementExceptiongetLast(): è·å–é˜Ÿå°¾å…ƒç´ ä½†ä¸ç§»é™¤ï¼Œå¦‚æœé˜Ÿåˆ—æ— å…ƒç´ ï¼Œåˆ™å‘ç”ŸNoSuchElementExceptionpeekFirst(): è·å–é˜Ÿå¤´å…ƒç´ ä½†ä¸ç§»é™¤ï¼Œå¦‚æœé˜Ÿåˆ—æ— å…ƒç´ ï¼Œåˆ™è¿”å›nullpeekLast(): è·å–é˜Ÿå°¾å…ƒç´ ä½†ä¸ç§»é™¤ï¼Œå¦‚æœé˜Ÿåˆ—æ— å…ƒç´ ï¼Œåˆ™è¿”å›null åŒºåˆ«ä¸»è¦åœ¨é‡åˆ°ç©ºå…ƒç´ æˆ–é˜Ÿåˆ—æ— å…ƒç´ æ—¶, æ˜¯æŠ›å¼‚å¸¸è¿˜æ˜¯è¿”å›falseæˆ–è€…null. æ‰€ä»¥æœ€å¸¸ç”¨çš„è¿˜æ˜¯offerå’Œpoll/peekå§. Javaä»£ç class Solution { public int[] maxSlidingWindow(int[] nums, int k) { Deque deque = new LinkedList(); for (int i = 0; i < k; i++) { while (!deque.isEmpty() && nums[i] >= nums[deque.peekLast()]) { deque.pollLast(); } deque.offerLast(i); } int n = nums.length; int[] ans = new int[n - k + 1]; ans[0] = nums[deque.peekFirst()]; for (int i = k; i < n; i++) { while (!deque.isEmpty() && nums[i] >= nums[deque.peekLast()]) { deque.pollLast(); } deque.offerLast(i); while (deque.peekFirst() < i - k + 1) { deque.pollFirst(); } ans[i - k + 1] = nums[deque.peekFirst()]; } return ans; }} å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ å…¶ä¸­næ˜¯æ•°ç»„ numsçš„é•¿åº¦ã€‚æ¯ä¸€ä¸ªä¸‹æ ‡æ°å¥½è¢«æ”¾å…¥é˜Ÿåˆ—ä¸€æ¬¡ï¼Œå¹¶ä¸”æœ€å¤šè¢«å¼¹å‡ºé˜Ÿåˆ—ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º O(n) ç©ºé—´å¤æ‚åº¦ä¸º$O(k)$ é˜Ÿåˆ—ä¸­æœ€å¤šä¸ä¼šæœ‰è¶…è¿‡ k+1ä¸ªå…ƒç´  è§£ç­”ç»“æœæ‰§è¡Œç”¨æ—¶: 35 mså†…å­˜æ¶ˆè€—: 58.2 MB","permalink":"https://mondaycha.github.io/2021/01/02/21-01-02/","photos":[]},{"tags":[{"name":"Vue","slug":"Vue","permalink":"https://mondaycha.github.io/tags/Vue/"},{"name":"Antd","slug":"Antd","permalink":"https://mondaycha.github.io/tags/Antd/"}],"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://mondaycha.github.io/categories/%E5%89%8D%E7%AB%AF/"}],"title":"åŸºäºVueçš„æ‰‹åŠç™¾ç§‘ä¸äº¤æ˜“å¹³å°","date":"2020/12/13","text":"é¡¹ç›®åœ°å€ï¼šhttps://github.com/MondayCha/FigureHub-Frontend ç½‘ç«™ä¸»é¡µç½‘ç«™åä¸ºâ€œFigure Hubâ€ï¼Œé€šè¿‡npm run serveæŒ‡ä»¤ï¼Œå°†å‰ç«¯éƒ¨ç½²åˆ°æœ¬åœ°æœåŠ¡å™¨åï¼Œå³å¯è¿›å…¥æ•°æ®åº“ç½‘ç«™ã€‚ç½‘ç«™æ•´ä½“é‡‡ç”¨æ–°æ‹Ÿæ€é£æ ¼ï¼Œæ•ˆæœä»‹äºæ‰å¹³åŒ–ä¸æŠ•å½±é£ä¹‹é—´ã€‚ å¯¹äºè®¿å®¢ç”¨æˆ·ï¼Œå¯ä»¥æµè§ˆé¦–é¡µçš„æ¨èä»¥åŠå•†åŸå¡ç‰‡ï¼Œéœ€è¦æ³¨å†Œç™»å½•æ‰èƒ½æµè§ˆç™¾ç§‘ã€å•†å“è¯¦æƒ…ï¼Œè¿›è¡Œè´­ä¹°ã€å‘å¸ƒå•†å“ç­‰æ“ä½œã€‚ ç”¨æˆ·æ³¨å†Œä¸ç™»å½•é€šè¿‡é¡¶éƒ¨æ çš„â€œç™»å½•â€æŒ‰é’®å¯ä»¥è¿›å…¥ç™»å½•ä»¥åŠæ³¨å†Œé¡µé¢ã€‚å‰ç«¯å®ç°äº†ç®€å•çš„æ•°æ®æ ¡éªŒï¼Œå¯†ç æ”¯æŒè‹±æ–‡ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œå½“æ£€éªŒåˆ°ç”¨æˆ·åå’Œå¯†ç ä¸ä¸ºç©ºæ—¶ï¼Œæ‰å‘é€ç™»å½•è¯·æ±‚ã€‚ ç‚¹å‡»æ³¨å†ŒæŒ‰é’®è¿›å…¥æ³¨å†Œé¡µé¢ï¼Œè¾“å…¥ç”¨æˆ·åã€å¯†ç ï¼Œä¸Šä¼ å¤´åƒå’Œç™»è®°æ˜µç§°åï¼Œåœ¨æ³¨å†Œé¡µé¢å¯ä»¥è¿›è¡Œç”¨æˆ·ç±»å‹çš„é€‰æ‹©ã€‚ å¯ä»¥æ³¨å†Œçš„ç”¨æˆ·ç±»å‹åŒ…æ‹¬ç®¡ç†å‘˜ã€å‚å•†ç”¨æˆ·ã€æ™®é€šç”¨æˆ·ã€‚é€šè¿‡å‰ç«¯çš„ä¸šåŠ¡é€»è¾‘ä»¥åŠåç«¯çš„tokenæ ¡éªŒï¼Œä¸ºä¸åŒç±»å‹çš„è®¿é—®è€…æä¾›å¯¹åº”çš„åŠŸèƒ½ã€‚ å•†å“ä¸äº¤æ˜“ç™»é™†åï¼Œé¡¶éƒ¨å¯¼èˆªæ æ˜¾ç¤ºç”¨æˆ·å¤´åƒï¼Œå¹¶åœ¨æœ€å³ä¾§æ˜¾ç¤ºâ€œå‘å¸ƒâ€æŒ‰é’®ï¼Œæ™®é€šç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œå‘å¸ƒè‡ªå·±çš„äºŒæ‰‹æˆ–å…¨æ–°æ‰‹åŠæ¨¡å‹ï¼Œåœ¨ä¸€æ¬¡äº¤æ˜“å‘èµ·åä»å•†åŸä¸‹æ¶ï¼Œå‚å•†ç”¨æˆ·åˆ™å¯ä»¥å‘å¸ƒä½™é‡å……è¶³çš„äº§å“ã€‚ åœ¨ä¸Šä¼ å•†å“æ—¶ï¼Œæœ€å¤šå¯ä»¥ä¸Šä¼ 9å¼ è¯¦æƒ…å›¾ç‰‡ã€‚ å‘å¸ƒæˆåŠŸåå°†å¼¹å‡ºæˆåŠŸæç¤ºï¼Œå¹¶åœ¨â€œè´­ç‰©â€æ ç›®ä¸‹æ˜¾ç¤ºå‘å¸ƒçš„æ‰‹åŠæ©±çª—ã€‚ä¸è¯¦æƒ…é¡µç›¸æ¯”ï¼Œæ©±çª—å¡ç‰‡æ˜¾ç¤ºäº†ä»·æ ¼ã€å‘å¸ƒè€…ç­‰ç®€è¦ä¿¡æ¯ã€‚ æ©±çª—æ•´ä½“é‡‡ç”¨ä¸‰æ å¸ƒå±€ï¼Œæ¯æ¬¡å¯¹å•†å“è¡¨è¿›è¡Œè®¡ç®—åæ’åˆ—ã€‚ æŠ„çš„Pixivicå’Œèˆå‹ä¿®æ”¹çš„ä»£ç  æºåœ°å€ï¼šhttps://github.com/cheer-fun/pixivic-pcgithub.com é¦–é¡µåŒæ ·å¯ä»¥ç‚¹å‡»å¡ç‰‡å¼•æµï¼Œè¿›å…¥è¯¦æƒ…é¡µé¢ã€‚ é¦–é¡µå‚è€ƒçš„æ˜¯Bilibili-Evgithub.com ç‚¹å‡»æ©±çª—å¡ç‰‡ï¼ˆæˆ–ä»é¦–é¡µè¿›å…¥ï¼‰åï¼Œä¼šæ˜¾ç¤ºåŠ¨ç”»æ•ˆæœå¹¶è·³è½¬åˆ°è¯¦æƒ…é¡µé¢ï¼Œé›†æˆäº†æµè§ˆè¯¦æƒ…å›¾ç‰‡ï¼ˆå¤šå¼ ï¼Œæ»šåŠ¨æ’­æ”¾ï¼‰ã€æ”¶è—ã€è´­ä¹°ã€ç™¾ç§‘ã€å‘å¸ƒè€…ä¸»é¡µã€ç›¸å…³æ¨èã€è¯„è®ºã€ç‚¹èµã€åˆ é™¤è¯„è®ºç­‰åŠŸèƒ½ã€‚ç”¨æˆ·å¯åœ¨ä¸ªäººä¸­å¿ƒä¸‹æ¶è‡ªå·±å‘å¸ƒçš„å•†å“ã€‚ ç‚¹å‡»è¯¦æƒ…é¡µé¢çš„â€œæ”¶è—â€æŒ‰é’®ï¼Œå¯ä»¥å°†å•†å“åŠ å…¥æ”¶è—ã€‚ ç‚¹å‡»â€œè´­ä¹°â€æŒ‰é’®ï¼Œå¯ä»¥ç¡®è®¤å½“å‰å•†å“ä¿¡æ¯ï¼Œæ‰§è¡Œå‡æ”¯ä»˜åå°†æäº¤äº¤æ˜“è®¢å•ï¼Œäº¤æ˜“çŠ¶æ€ä¸ºå¾…ç¡®è®¤ã€‚ é€šè¿‡é¡¶éƒ¨æ çš„â€œè®¢å•â€å¯ä»¥è¿›å…¥è®¢å•é¡µé¢ï¼Œæ˜¾ç¤ºç”¨æˆ·å‘å¸ƒã€å–å‡ºã€ä¹°å…¥ä¿¡æ¯ï¼Œç®¡ç†å‘˜è´¦æˆ·åˆ™å¢åŠ â€œäº¤æ˜“ç®¡ç†â€é¡µé¢ï¼Œå¯ä»¥åˆ é™¤è®¢å•ã€‚ åœ¨è®¢å•é¡µé¢ï¼Œå¯ä»¥ç¡®è®¤æ”¶è´§ï¼š æ”¶è´§åäº¤æ˜“çŠ¶æ€å˜æ›´ä¸ºå¾…è¯„ä»·ï¼ŒæŒ‰é’®å˜ä¸ºâ€œæˆ‘è¦è¯„ä»·â€ï¼š è¯„ä»·å®Œæˆåï¼Œå¯ä»¥æŸ¥çœ‹è‡ªå·±å‘å¸ƒçš„è¯„è®ºï¼š ç”¨æˆ·ä¹Ÿå¯ä»¥åˆ é™¤è‡ªå·±ä¹°å…¥å’Œå–å‡ºçš„è®¢å•ï¼š ç™¾ç§‘ä¿¡æ¯åœ¨ç®¡ç†ç•Œé¢ï¼Œç®¡ç†å‘˜ä»¥åŠå‚å•†ç”¨æˆ·å¯ä»¥å¯¹å‚å•†ä¿¡æ¯ã€è§’è‰²ä¿¡æ¯ã€æ‰‹åŠæ¨¡å‹ä¿¡æ¯ã€ä½œå“ä¿¡æ¯ä»¥åŠæ‰‹åŠä¸è§’è‰²å¯¹åº”å…³ç³»è¿›è¡Œå¢åˆ æŸ¥æ”¹ç­‰æ“ä½œã€‚å¯¹æ™®é€šç”¨æˆ·ï¼Œâ€œç™¾ç§‘ç®¡ç†â€å¹¶ä¸æ˜¾ç¤ºï¼ˆå¦‚ä¸Šå›¾æ¼”ç¤ºçš„ç®¡ç†ç•Œé¢ä¸­å°±æ²¡æœ‰æ­¤é¡µé¢ï¼‰ã€‚ é€šè¿‡å·¦ä¾§çš„ä¾§è¾¹æ é€‰æ‹©ä¸åŒçš„åˆ—è¡¨ã€‚åŒæ—¶é¡µé¢æ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒé¡µé¢å®½åº¦ï¼Œè‡ªè¡Œé€‚é…åˆé€‚çš„é¡µé¢å¸ƒå±€ã€‚ ä¸‹é¢è¿›è¡Œè¡¨æ ¼çš„å¢åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ã€ä¿®æ”¹æ“ä½œçš„æ¼”ç¤ºã€‚ 4.1 é¡µé¢åˆå§‹åŒ–å¼€å¯é¡µé¢æ—¶ï¼Œå‰ç«¯é€šè¿‡axioså‘åç«¯å‘é€è¯·æ±‚ï¼Œå¦‚æœä¸èƒ½æ­£å¸¸åŠ è½½æ•°æ®ï¼Œåˆ™æ˜¾ç¤ºåŠ è½½åŠ¨ç”»å’Œé”™è¯¯æç¤ºã€‚ åˆå§‹åŒ–æˆåŠŸï¼Œé¡µé¢ä»¥æ¯é¡µ4æ¡çš„æ ¼å¼æ¸²æŸ“æ•°æ®ï¼Œå¹¶æ˜¾ç¤ºå½“å‰çš„æ€»æ•°æ®é‡ã€‚ 4.2 æ·»åŠ é¡¹ç›®å•å‡»å·¦ä¸Šè§’çš„â€œæ·»åŠ â€æŒ‰é’®ï¼Œå³å¯å¼¹å‡ºæ·»åŠ æ–°é¡¹ç›®çš„è¡¨å•ã€‚ åœ¨è¡¨å•ä¸­ä¼šå¯¹é¡¹ç›®å†…å®¹åšåˆæ­¥éªŒè¯ï¼ˆå¦‚æ¨¡å‹åç§°ä¸èƒ½ä¸ºç©ºã€ä»·æ ¼é¡»ä¸ºæ•°å­—ç­‰ï¼‰ã€‚ æ·»åŠ æˆåŠŸåï¼Œå‰ç«¯å‘åç«¯å‘é€æ·»åŠ è¯·æ±‚ï¼Œé‡æ–°è·å–æ•°æ®åæ¸²æŸ“åˆ°é¡µé¢ï¼ŒåŒæ—¶åœ¨æ•°æ®åº“å¯æŸ¥è¯¢åˆ°æ·»åŠ çš„é¡¹ç›®ã€‚ 4.3 åˆ é™¤æ•°æ®éœ€è¦åˆ é™¤æŸä¸€æ¡æ•°æ®æ—¶ï¼Œå•å‡»æ“ä½œä¸­çš„â€œåˆ é™¤â€æŒ‰é’®ï¼Œå¼¹å‡ºæ°”æ³¡ç¡®è®¤æ¡†ã€‚ ç¡®å®šåï¼Œå‰ç«¯å‘åç«¯å‘é€åˆ é™¤è¯·æ±‚ï¼Œå¹¶åœ¨é‡æ–°è·å–æ•°æ®åå°†å…¶æ¸²æŸ“åˆ°é¡µé¢ï¼Œè‡ªåŠ¨è¿›è¡Œåˆ·æ–°ï¼ŒåŸæœ¬çš„æ¡ç›®å·²è¢«åˆ é™¤ã€‚ 4.4 æŸ¥æ‰¾æ•°æ®åœ¨å³ä¸Šè§’çš„è¾“å…¥æ¡†é€‰æ‹©ç­›é€‰çš„ç±»å‹ï¼ˆå¦‚ï¼šåå­—ã€æ€§åˆ«ç­‰ï¼‰ï¼Œå¯ä»¥è¿›è¡Œå…³é”®è¯æœç´¢ã€‚ 4.5 ä¿®æ”¹æ•°æ®å¯¹éœ€è¦ä¿®æ”¹çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ“ä½œï¼Œä¼šå¼¹å‡ºä¿®æ”¹é¡¹ç›®çš„è¡¨å•ï¼Œè¯¥è¡Œæ•°æ®çš„å†…å®¹å·²é¢„å¡«å…¥è¡¨å•ä¸­ï¼š åœ¨è¿™é‡Œæˆ‘ä»¬å°†æ¨¡å‹ç±»å‹ä¿®æ”¹æˆâ€œç²˜åœŸäººâ€ï¼Œåœ¨é€šè¿‡å­—å…¸è½¬æ¢æˆintå‹æ•°æ®åï¼Œå‘åç«¯å‘é€ä¿®æ”¹è¯·æ±‚å¹¶æ‹‰å–æ–°æ•°æ®ã€‚ 4.6 ä¸Šä¼ å›¾ç‰‡è§’è‰²å’Œæ‰‹åŠæ¨¡å‹éƒ½å¯¹åº”å¤šå¼ å›¾ç‰‡ï¼Œæ¯æ¬¡æœ€å¤šå¯ä»¥ä¸Šä¼ 9å¼ è¯¦æƒ…å›¾ç‰‡ã€‚ ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œå›¾ç‰‡åœ¨ç®¡ç†é¡µé¢ä¸­ä¸æ˜¾ç¤ºï¼Œå¯ä»¥åœ¨ç™¾ç§‘ä¸­æ˜¾ç¤ºã€‚ è¯„è®ºç®¡ç†ç”¨æˆ·é™¤äº†å‘å¸ƒè¯„ä»·ï¼Œè¿˜å¯ä»¥å¯¹æ‰‹åŠè¿›è¡Œè¯„è®ºã€‚åœ¨å•†å“é¡µé¢ï¼Œå°†è¯¥å•†å“å¯¹åº”çš„å‚å•†ä»¥åŠå…³é”®è¯ä»¥æ ‡ç­¾å½¢å¼å±•ç¤ºï¼Œç‚¹å‡»æ ‡ç­¾å³å¯è·³è½¬åˆ°å¯¹åº”çš„ç™¾ç§‘é¡µé¢ã€‚ è¯„è®ºæœ‰ä¸¤ä¸ªå…¥å£ï¼Œä¸€æ˜¯å•†å“é¡µé¢ç›´æ¥é“¾æ¥åˆ°è¯¥å•†å“å¯¹åº”æ‰‹åŠçš„è¯„è®ºåŒºï¼›ä¸€æ˜¯æ‰‹åŠçš„ç™¾ç§‘è¯¦æƒ…é¡µã€‚ è¾“å…¥è¯„è®ºåå³å¯å‘å¸ƒï¼Œå°†æ˜¾ç¤ºæ—¶é—´æˆ³ã€ç‚¹èµã€åˆ é™¤ï¼ˆç®¡ç†å‘˜æˆ–è€…è‡ªå·±å¯ä»¥åˆ é™¤ï¼‰æŒ‰é’®ã€‚è‡ªå·±æ— æ³•ç»™è‡ªå·±çš„è¯„è®ºç‚¹èµï¼Œé€šè¿‡å‰ç«¯å®ç°æ­¤é€»è¾‘ã€‚ æ—¶é—´æˆ³å°†è½¬æ¢ä¸ºæ—¶é—´èŒƒå›´ï¼Œé¼ æ ‡æµ®åŠ¨æ—¶æ˜¾ç¤ºå…·ä½“çš„æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚ ç‚¹å‡»åˆ é™¤åå°†åˆ é™¤æ­¤è¯„è®ºã€‚ å…¶ä»–ç”¨æˆ·å¯ä»¥ä¸ºè¯¥ç”¨æˆ·ç‚¹èµï¼Œç‚¹èµåæŒ‰é’®å˜ä¸ºç²‰è‰²ï¼Œæ˜¾ç¤ºç‚¹èµæ•°ï¼Œæ— æ³•ç»§ç»­ç‚¹èµã€‚ åœ¨å•†å“è¯¦æƒ…é¡µé¢å³ä¾§ï¼Œæ˜¾ç¤ºäº†å‘å¸ƒè€…çš„ä¿¡æ¯ï¼Œå¯ä»¥è¿›å…¥ä¸ªäººä¸»é¡µï¼š åœ¨ä¸ªäººä¸»é¡µï¼Œå¯ä»¥æŸ¥çœ‹è¯¥ç”¨æˆ·çš„ç”¨æˆ·ç±»å‹ã€æ”¶è—ä¸è¯„è®ºä¿¡æ¯ï¼š ä»¥ä¸Šï¼Œç½‘ç«™æºä»£ç è§å¼€å¤´ï¼Œåç«¯ä¸æ˜¯æˆ‘å†™çš„ï¼Œæ‰€ä»¥æ²¡ç»™ä»£ç ã€‚","permalink":"https://mondaycha.github.io/2020/12/13/20-12-13/","photos":["https://pic4.zhimg.com/v2-e68dbb098d5d0e5965cf6af3132eac72_r.jpg?source=172ae18b"]},{"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"https://mondaycha.github.io/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://mondaycha.github.io/tags/%E8%B4%AA%E5%BF%83/"},{"name":"å“ˆå¸Œè¡¨","slug":"å“ˆå¸Œè¡¨","permalink":"https://mondaycha.github.io/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/"}],"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://mondaycha.github.io/categories/LeetCode/"}],"title":"LeetCode(659) åˆ†å‰²æ•°ç»„ä¸ºè¿ç»­å­åºåˆ—","date":"2020/12/04","text":"åœ¨ç»è¿‡ä¸€ç•ªæŒ£æ‰ä¹‹å, æˆ‘çš„Hexoåšå®¢ç»ˆäºå†æ¬¡å¼€å¼ äº†.è¿™å‡ å¤©åˆæ²¡æœ‰åšæŒLeetCodeæ‰“å¡, ç®—æ³•ä½œä¸šä¹Ÿè¿˜æ²¡æœ‰åŠ¨ç¬”. ä»Šå¤©çš„æ¯æ—¥æˆ‘å…¶å®ä¹Ÿæ²¡æœ‰æ€è·¯, é‚£å°±æŠŠé¢˜è§£å°è¯•ä¸€ä¸‹å§. æ–¹æ³•1: å“ˆå¸Œè¡¨+æœ€å°å †åŸºæœ¬æ€è·¯ å“ˆå¸Œè¡¨: é”®ä¸ºå­åºåˆ—çš„æœ€åä¸€ä¸ªæ•°å­—, å€¼ä¸ºæœ€å°å † æœ€å°å †: é€šè¿‡é•¿åº¦+æœ€åä¸€ä¸ªå­—ç¬¦çš„å½¢å¼å¯ä»¥è¡¨ç¤ºä¸€ä¸ªè¿ç»­å­åºåˆ—, æ‰€ä»¥æœ€å°å †é¡¶éƒ¨å°±æ˜¯æœ€çŸ­çš„å­åºåˆ—é•¿åº¦. éå†ç»“æŸæ—¶, éå†æœ€å°å †çš„å †é¡¶å…ƒç´ , æ˜¯å¦éƒ½ä¸å°äº3. Javaä»£ç public class SplitArrayIntoConsecutiveSubsequences { public static void main(String[] args) { Solution solution = new SplitArrayIntoConsecutiveSubsequences().new Solution(); System.out.println(solution.isPossible(new int[]{1, 1, 2, 2, 3, 3, 3})); } class Solution { public boolean isPossible(int[] nums) { HashMap childMap = new HashMap(); for (int i : nums) { if (!childMap.containsKey(i)) { childMap.put(i, new PriorityQueue()); } if (childMap.containsKey(i - 1)) { int minLength = childMap.get(i - 1).poll(); if (childMap.get(i - 1).isEmpty()) { childMap.remove(i - 1); } childMap.get(i).offer(minLength + 1); } else { childMap.get(i).offer(1); } } for (PriorityQueue queue : childMap.values()) { if (queue.peek() < 3) { return false; } } return true; } }//leetcode submit region end(Prohibit modification and deletion)} å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ä¸º$O(n\\log n)$ éœ€è¦éå†æ•°ç»„ï¼Œå¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªæ•°ï¼Œéƒ½è¦å¯¹å“ˆå¸Œè¡¨å’Œæœ€å°å †è¿›è¡Œæ›´æ–°ã€‚æ¯ä¸ªæ•°å¯¹åº”çš„æœ€å°å †çš„é•¿åº¦ä¸è¶…è¿‡ nï¼Œå› æ­¤æ¯æ¬¡å¯¹æœ€å°å †çš„æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(\\log n)$ï¼Œæ•°ç»„é•¿åº¦ä¸º nï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n \\log n)$ã€‚ç„¶åéœ€è¦éå†å“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸€æ¡è®°å½•ï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¯ä¸ªå­åºåˆ—çš„é•¿åº¦éƒ½ä¸å°äº3ï¼Œå­åºåˆ—çš„æ•°é‡ä¸ä¼šè¶…è¿‡ nï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n)$ã€‚å› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n \\log n)$ ç©ºé—´å¤æ‚åº¦ä¸º$O(n)$ ç©ºé—´å¤æ‚åº¦ï¼šO(n)*ï¼Œå…¶ä¸­ *n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚éœ€è¦ä½¿ç”¨å“ˆå¸Œè¡¨å’Œæœ€å°å †å­˜å‚¨ä»¥æ¯ä¸ªæ•°ç»“å°¾çš„å„ä¸ªå­åºåˆ—çš„é•¿åº¦ï¼Œå“ˆå¸Œè¡¨å’Œæœ€å°å †ä¸­çš„å…ƒç´ æ•°é‡ä¸ä¼šè¶…è¿‡æ•°ç»„çš„é•¿åº¦ã€‚ è§£ç­”ç»“æœæ‰§è¡Œè€—æ—¶:84 ms,å‡»è´¥äº†12.12% çš„Javaç”¨æˆ·å†…å­˜æ¶ˆè€—:39.7 MB,å‡»è´¥äº†58.51% çš„Javaç”¨æˆ· æ–¹æ³•2: è´ªå¿ƒåŸºæœ¬æ€è·¯å°†xåŠ å…¥å·²æœ‰çš„å­åºåˆ—æ€»æ˜¯æ¯”æ–°å»ºä¸€ä¸ªé•¿åº¦ä¸º1 çš„å­åºåˆ—æ›´ä¼˜. ä½¿ç”¨ä¸¤ä¸ªå“ˆå¸Œè¡¨, ä¸€ä¸ªå­˜å‚¨æ¯ä¸ªæ•°å­—çš„å‰©ä½™æ¬¡æ•°, ä¸€ä¸ªå­˜å‚¨æ¯ä¸ªæ•°å­—ä½œä¸ºç»“å°¾çš„å­åºåˆ—(é•¿åº¦å¤§äºç­‰äº3)çš„æ•°é‡. å…ˆåˆå§‹åŒ–å‰©ä½™æ¬¡æ•° éå†æ•°ç»„, ç”±äºäº§ç”Ÿæ–°çš„å­åºåˆ—æ—¶ä¼šé¢„è¯», æ‰€ä»¥éœ€è¦åˆ¤æ–­è¯¥æ•°å­—çš„å‰©ä½™æ¬¡æ•°, ç»´æŠ¤è¿™ä¸¤ä¸ªå“ˆå¸Œè¡¨ Javaä»£ç class Solution { public boolean isPossible(int[] nums) { HashMap leftTimes = new HashMap(); HashMap subsCount = new HashMap(); // åˆå§‹åŒ–å‰©ä½™æ¬¡æ•° for (int i : nums) { leftTimes.put(i, leftTimes.getOrDefault(i, 0) + 1); } // éå†æ•°ç»„, ç”±äºäº§ç”Ÿæ–°çš„å­åºåˆ—æ—¶ä¼šé¢„è¯», æ‰€ä»¥éœ€è¦åˆ¤æ–­è¯¥æ•°å­—çš„å‰©ä½™æ¬¡æ•°, ç»´æŠ¤è¿™ä¸¤ä¸ªå“ˆå¸Œè¡¨ int xTime, lastLength; for (int x : nums) { if ((xTime = leftTimes.getOrDefault(x, 0)) > 0) { leftTimes.put(x, xTime - 1); if ((lastLength = subsCount.getOrDefault(x - 1, 0)) > 0) { // å–å‰ subsCount.put(x - 1, lastLength - 1); subsCount.put(x, subsCount.getOrDefault(x, 0) + 1); } else { // äº§ç”Ÿæ–°çš„å­åºåˆ— int yTime, zTime; if ((yTime = leftTimes.getOrDefault(x + 1, 0)) == 0 || (zTime = leftTimes.getOrDefault(x + 2, 0)) == 0) { return false; } leftTimes.put(x + 1, yTime - 1); leftTimes.put(x + 2, zTime - 1); subsCount.put(x + 2, subsCount.getOrDefault(x + 2, 0) + 1); } } } return true; }} å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦: O(n) ç©ºé—´å¤æ‚åº¦: O(n) è§£ç­”ç»“æœæ‰§è¡Œè€—æ—¶:37 ms,å‡»è´¥äº†36.70% çš„Javaç”¨æˆ·å†…å­˜æ¶ˆè€—:39.6 MB,å‡»è´¥äº†66.67% çš„Javaç”¨æˆ·","permalink":"https://mondaycha.github.io/2020/12/04/20201204/","photos":[]},{"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"https://mondaycha.github.io/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"åŸºæ•°æ’åº","slug":"åŸºæ•°æ’åº","permalink":"https://mondaycha.github.io/tags/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/"}],"categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://mondaycha.github.io/categories/LeetCode/"}],"title":"LeetCode(767) é‡æ„å­—ç¬¦ä¸²","date":"2020/11/30","text":"æ€è·¯åˆ†æä»£ç å®ç°//ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²Sï¼Œæ£€æŸ¥æ˜¯å¦èƒ½é‡æ–°æ’å¸ƒå…¶ä¸­çš„å­—æ¯ï¼Œä½¿å¾—ä¸¤ç›¸é‚»çš„å­—ç¬¦ä¸åŒã€‚ //// è‹¥å¯è¡Œï¼Œè¾“å‡ºä»»æ„å¯è¡Œçš„ç»“æœã€‚è‹¥ä¸å¯è¡Œï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ //// ç¤ºä¾‹ 1: //// //è¾“å…¥: S = \"aab\"//è¾“å‡º: \"aba\"// //// ç¤ºä¾‹ 2: //// //è¾“å…¥: S = \"aaab\"//è¾“å‡º: \"\"// //// æ³¨æ„: //// // S åªåŒ…å«å°å†™å­—æ¯å¹¶ä¸”é•¿åº¦åœ¨[1, 500]åŒºé—´å†…ã€‚ // // Related Topics å † è´ªå¿ƒç®—æ³• æ’åº å­—ç¬¦ä¸² // ğŸ‘ 167 ğŸ‘ 0package leetcode.editor.cn;import java.util.Arrays;import java.util.Comparator;import java.util.PriorityQueue;public class ReorganizeString { public static void main(String[] args) { Solution solution = new ReorganizeString().new Solution(); System.out.println(solution.reorganizeString(\"zqugrfbsznyiwbokwkpvpmeyvaosdkedbgjogzdpwawwl\")); } //leetcode submit region begin(Prohibit modification and deletion) class Solution { public String reorganizeString(String S) { int sLength = S.length(); if (sLength < 2) { return S; } int[] bucket = new int[26]; for (int i = 0; i < sLength; i++) { int index = S.charAt(i) - 'a'; bucket[index]++; } int maxIndex = 0; for (int i = 1; i < 26; i++) { if (bucket[i] > bucket[maxIndex]) { maxIndex = i; } } if (bucket[maxIndex] > (sLength + 1) / 2) { return \"\"; } char[] answer = new char[sLength]; int i = 0; while (bucket[maxIndex] > 0) { answer[i] = (char) (maxIndex + 'a'); i += 2; bucket[maxIndex]--; } for (int j = 0; j < 26; j++) { while(bucket[j] > 0){ if(i >= sLength){ i = 1; } answer[i] = (char) (j + 'a'); i += 2; bucket[j]--; } } return String.valueOf(answer); } }//leetcode submit region end(Prohibit modification and deletion)}","permalink":"https://mondaycha.github.io/2020/11/30/767/","photos":[]},{"tags":[{"name":"Vue","slug":"Vue","permalink":"https://mondaycha.github.io/tags/Vue/"},{"name":"Antd","slug":"Antd","permalink":"https://mondaycha.github.io/tags/Antd/"}],"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://mondaycha.github.io/categories/%E5%89%8D%E7%AB%AF/"}],"title":"æˆ‘çš„ç¬¬ä¸€ä¸ªVueç»ƒæ‰‹é¡¹ç›®","date":"2020/10/31","text":"My first Vue projectï¼Œä¸ºç½‘æ˜“æœ‰é“è¯å…¸ç¬”ç™¾æ—¥é˜…è¯»æ‰“å¡æ´»åŠ¨å†™çš„æ ¼å¼è§„èŒƒå·¥å…· èµ·å› å“ï¼Œå‚åŠ äº†ä¸€ä¸ªæ‰“å¡æ´»åŠ¨ï¼Œæœ‰ä¸ªå¤§ä½¬æœ¬æ¥å†™äº†ä¸ªå°ç¨‹åºï¼Œå¾ˆæ–¹ä¾¿ï¼Œä¸è¿‡åæ¥åˆæ˜¯å¹¿å‘Šåˆæ˜¯è§†é¢‘çš„ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±è¯•ç€å†™äº†ä¸€ä¸ªã€‚ é¡¹ç›®åœ°å€https://github.com/MondayCha/Youdao-Dictionary-Pen-Assistant ãŒã‚“ã°ã‚Œ!","permalink":"https://mondaycha.github.io/2020/10/31/20-10-31/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"2020 OO ç¬¬å››å•å…ƒæ€»ç»“","date":"2020/06/14","text":"é’ˆå¯¹ç¬¬å››å•å…ƒå’Œæœ¬å­¦æœŸæ‰€å­¦çš„å†…å®¹ï¼Œåœ¨ç‹¬ç«‹æ€è€ƒçš„å‰æä¸‹åœ¨åšå®¢å›­å®ŒæˆæŠ€æœ¯åšå®¢çš„æ’°å†™ï¼š ï¼ˆ1ï¼‰æ€»ç»“æœ¬å•å…ƒä¸‰æ¬¡ä½œä¸šçš„æ¶æ„è®¾è®¡ ï¼ˆ2ï¼‰æ€»ç»“è‡ªå·±åœ¨å››ä¸ªå•å…ƒä¸­æ¶æ„è®¾è®¡åŠOOæ–¹æ³•ç†è§£çš„æ¼”è¿› ï¼ˆ3ï¼‰æ€»ç»“è‡ªå·±åœ¨å››ä¸ªå•å…ƒä¸­æµ‹è¯•ç†è§£ä¸å®è·µçš„æ¼”è¿› ï¼ˆ4ï¼‰æ€»ç»“è‡ªå·±çš„è¯¾ç¨‹æ”¶è· ï¼ˆ5ï¼‰ç«‹è¶³äºè‡ªå·±çš„ä½“ä¼šç»™è¯¾ç¨‹æä¸‰ä¸ªå…·ä½“æ”¹è¿›å»ºè®® ï¼ˆ6ï¼‰è°ˆä¸€è°ˆçº¿ä¸Šå­¦ä¹ ooè¯¾ç¨‹çš„ä½“ä¼š 1. æœ¬å•å…ƒä¸‰æ¬¡ä½œä¸šçš„æ¶æ„è®¾è®¡æœ¬å•å…ƒçš„ä»£ç ç¼–å†™ä¸ç¬¬ä¸‰å•å…ƒæœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œè¯¾ç¨‹ç»„å·²ç»æä¾›äº†ç›¸åº”çš„æ¥å£ï¼Œæˆ‘ä»¬åªéœ€è¦æ»¡è¶³å…·ä½“çš„å®ç°ã€‚åœ¨æ¶æ„è®¾è®¡ä¸Šæˆ‘é€‰æ‹©äº†å»ºç«‹MyUmlClassç­‰ç±»ï¼Œé‡‡ç”¨é€‚é…å™¨æ¨¡å¼ä»¥ç®¡ç†UMLå¯¹è±¡ï¼Œå¹¶é…ç½®ç›¸åº”çš„æ–¹æ³•çš„æ–¹å¼ï¼Œæ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡çš„è®¾è®¡æ€ç»´ã€‚ 1.1 ç¬¬ä¸€æ¬¡ä½œä¸šåœ¨ç¬¬ä¸€æ¬¡ä½œä¸šå…¶å®è¿˜æ²¡æœ‰è€ƒè™‘å¥½è¿­ä»£å¼€å‘ï¼Œåœ¨UMLå¯¹è±¡çš„å­˜å‚¨æ–¹å¼ä¸Šæ¯”è¾ƒæ··ä¹±ï¼Œæœ‰çš„é‡‡ç”¨Arraylistã€æœ‰çš„å»ºç«‹äº†ä»idåˆ°å…ƒç´ çš„æ˜ å°„mapã€æœ‰çš„å»ºç«‹äº†ä»nameåˆ°å…ƒç´ çš„æ˜ å°„mapï¼Œå¯¼è‡´ä¹‹åç¬¬ä¸‰æ¬¡ä½œä¸šå¤„ç†å¼‚å¸¸è¾“å…¥æ—¶èŠ±äº†å¾ˆå¤šæ—¶é—´é‡æ„ã€‚åšçš„è¿˜å¯ä»¥çš„æ˜¯è®¾ç½®äº†ç±»å›¾å•ç‹¬çš„ç®¡ç†å™¨ï¼Œæ ¸å¿ƒç±»ç›´æ¥è°ƒç”¨ç®¡ç†å™¨çš„ç›¸å…³æ–¹æ³•ï¼Œä¾¿äºä¹‹åä¸¤æ¬¡ä½œä¸šçš„è¿­ä»£ã€‚ ç¬¬ä¸€æ¬¡ä½œä¸šæ²¡æœ‰é‡åˆ°Bugï¼Œæ„ŸåŠ¨ã€‚ 1.2 ç¬¬äºŒæ¬¡ä½œä¸šç¬¬äºŒæ¬¡ä½œä¸šå¢åŠ äº†UMLçŠ¶æ€å›¾å’Œæ—¶åºå›¾ï¼Œæˆ‘åˆ†åˆ«å»ºç«‹äº†ç®¡ç†å¯¹åº”å›¾åƒçš„ç®¡ç†å™¨ç±»ï¼Œæ ¸å¿ƒç±»è°ƒç”¨ç®¡ç†å™¨çš„ç›¸å…³æ–¹æ³•ã€‚ ç¬¬äºŒæ¬¡ä½œä¸šæ²¡æœ‰é‡åˆ°Bugï¼Œå¾ˆæ„ŸåŠ¨ã€‚ 1.3 ç¬¬ä¸‰æ¬¡ä½œä¸šç¬¬ä¸‰æ¬¡ä½œä¸šå¢åŠ äº†å¤šç§æ¨¡å‹æœ‰æ•ˆæ€§æ£€æŸ¥ï¼Œç°åœ¨æƒ³æ¥æˆ‘å¯¹å¼‚å¸¸è¾“å…¥çš„å¤„ç†è¿˜ä¸åˆ°ä½ï¼Œè¿›è¡Œäº†å¾ˆå¤šé‡æ„ã€‚ ç¬¬ä¸‰æ¬¡ä½œä¸šæ²¡æœ‰é‡åˆ°Bugï¼Œæ„ŸåŠ¨åˆ°å·®ç‚¹å¿ä¸ä½æµæ³ªã€‚ ç¬¬ä¸‰æ¬¡ä½œä¸šç±»å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š 2. å››ä¸ªå•å…ƒä¸­æ¶æ„è®¾è®¡åŠOOæ–¹æ³•ç†è§£çš„æ¼”è¿›2.1 ç¬¬ä¸€å•å…ƒåœ¨ç¬¬ä¸€å•å…ƒï¼Œæˆ‘é€šè¿‡é¢„ä¹ å¯¹äºJavaçš„åŸºæœ¬è¯­æ³•å’Œç»§æ‰¿å…³ç³»æœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œä¸è¿‡æ¯æ¬¡å†™ä»£ç æ—¶å¹¶æ²¡æœ‰è€ƒè™‘åˆ°ä¸‹ä¸€æ¬¡çš„è¿­ä»£ï¼Œç®—æ˜¯æ¬¡æ¬¡é‡æ„ã€‚ç¬¬ä¸‰æ¬¡ä½œä¸šè®¾è®¡çš„ç»“æ„æœ‰ç€æ¯”è¾ƒå¥½çš„æ‰©å±•æ€§ï¼Œå°†å› å­å’Œå› å­è¿ç®—æ–¹å¼æŠ½è±¡ä¸ºå¯¹è±¡ï¼Œå®ç°äº†æ±‚å¯¼æ¥å£ã€‚å¦‚æœä¹‹åè¿˜è¦å¢åŠ æ–°éœ€æ±‚ï¼Œå¯¹äºæ¯ä¸€ç§æ–°å‡½æ•°åªè¦åœ¨å†…éƒ¨é…ç½®æ±‚å¯¼æ–¹æ³•ï¼Œå¯¹äºæ¯ä¸€ç§æ–°çš„è¿ç®—æ–¹å¼åªéœ€è¦åœ¨å†…éƒ¨é…ç½®è¿ç®—è§„åˆ™ï¼Œå±‚æ¬¡åŒ–çš„è¡¨è¾¾å¼å­˜å‚¨æ–¹å¼å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„æ¥å£è¿›è¡Œå› å­ç±»å‹çš„è½¬æ¢ã€‚ åœ¨è¿™ä¸€å•å…ƒï¼Œæˆ‘è¿›ä¸€æ­¥å®è·µäº†ç»§æ‰¿ã€æ¥å£ç­‰Javaçš„ç‰¹æ€§ï¼Œä¸è¿‡ä»£ç è¿˜æ˜¯ä»¥é¢å‘è¿‡ç¨‹ä¸ºä¸»ã€‚ 2.2 ç¬¬äºŒå•å…ƒç¬¬äºŒå•å…ƒä»ç¬¬äºŒæ¬¡ä½œä¸šå¼€å§‹å¢åŠ äº†å¤šç”µæ¢¯å’Œå¯¹å¤šçº¿ç¨‹çš„è€ƒå¯Ÿã€‚è¿™ä¸€æ¬¡ä¸€å¼€å§‹å°±å¸Œæœ›èƒ½ä¸ºåç»­çš„æ‰©å±•ç•™å¥½è¿­ä»£ç©ºé—´ï¼Œç”µæ¢¯è®¾è®¡ä¸ºæœ‰é™çŠ¶æ€æœºï¼Œä¸‰æ¬¡ä½œä¸šéƒ½æ˜¯é‡‡ç”¨ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼ã€‚å…¶ä¸­â€œç”Ÿäº§è€…â€ä¸ºè¾“å…¥çº¿ç¨‹ï¼Œå°†è¯»å–åˆ°çš„è¯·æ±‚æ”¾åˆ°â€œè´§æ¶â€ä¸Šï¼›â€œæ¶ˆè´¹è€…â€åˆ™æ˜¯æ¯ä¸ªç”µæ¢¯çº¿ç¨‹ï¼Œä»¥ä¸€ç§ç±»ä¼¼è§‚å¯Ÿè€…æ¨¡å¼çš„æ–¹å¼è¿½è¸ªâ€œè´§æ¶â€çš„å˜åŒ–ã€‚ä¹‹æ‰€ä»¥è¯´æ˜¯ç±»ä¼¼ï¼Œæ˜¯å› ä¸ºæˆ‘æ¯æ¬¡éƒ½æ˜¯åœ¨ç”µæ¢¯è‡ªèº«çŠ¶æ€å‘ç”Ÿæ”¹å˜åè·å–å½“å‰çš„â€œè´§æ¶â€å†…å®¹ï¼Œè€Œä¸æ˜¯â€œè´§æ¶â€ä¸€æœ‰æ›´æ–°å°±é€šçŸ¥ç”µæ¢¯ï¼Œæˆ‘åªæœ‰â€œè´§æ¶â€ç±»çš„æ–¹æ³•æ˜¯ä¸Šé”çš„ï¼Œå…¶ä»–ç±»è°ƒç”¨æ—¶ä¸éœ€è¦è€ƒè™‘æ˜¯å¦ä¼šå¼•å‘çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Œå†™èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚ è¿™ä¸€å•å…ƒçš„é¢å‘å¯¹è±¡æ„è¯†æœ‰æ‰€æå‡ï¼Œä¸åŒç±»ååŒåˆä½œï¼Œå®ç°é«˜é€Ÿè½½äººã€‚ 2.3 ç¬¬ä¸‰å•å…ƒç¬¬ä¸‰å•å…ƒæˆ‘è§‰å¾—åœ¨æ¶æ„è®¾è®¡ä¸Šè¯¾ç¨‹ç»„ç»™çš„è§„æ ¼å·²ç»ç»™äº†å¾ˆå¤šæç¤ºï¼Œè‡ªå·±ä¹Ÿæ²¡æœ‰å¤ªå¤šå‘æŒ¥ç©ºé—´ã€‚ä¸»è¦çš„éš¾ç‚¹æ˜¯å‡ ä¸ªç®—æ³•çš„å®ç°ã€‚å®éªŒè¯¾å€’æ˜¯å­¦ä¹ äº†åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œç»“åˆè®¨è®ºåŒºæŸ¥çœ‹äº†HashMapç›¸å…³çš„åº•å±‚å®ç°ï¼Œåœ¨ä½œä¸šä¸­åˆ™è¡¨ç°ä¸ºè¿›è€Œé€‰æ‹©ä¸ºå…¶è®¾ç½®åˆå§‹å®¹é‡ã€‚ 2.4 ç¬¬å››å•å…ƒå»ºç«‹MyUmlClassç­‰ç±»ï¼Œé‡‡ç”¨é€‚é…å™¨æ¨¡å¼ä»¥ç®¡ç†UMLå¯¹è±¡ï¼Œå¹¶é…ç½®ç›¸åº”çš„æ–¹æ³•ã€‚ 3. å››ä¸ªå•å…ƒä¸­æµ‹è¯•ç†è§£ä¸å®è·µçš„æ¼”è¿›ç¬¬ä¸€å•å…ƒæ˜¯éšæœºæ•°æ®+è®¨è®ºåŒºæ•°æ®å¯¹æ‹ï¼Œç¬¬äºŒå•å…ƒå¤šçº¿ç¨‹è€—æ—¶é•¿ï¼Œæ‰€ä»¥ç”¨äº†Pbçš„å¤šçº¿ç¨‹è¯„æµ‹æœºï¼›ç¬¬ä¸‰å•å…ƒå‘ç”Ÿå¤±è¯¯ï¼Œåœ¨ç¬¬äºŒæ¬¡ä½œä¸šæ¼æµ‹äº†ä¸€æ¡æŒ‡ä»¤ï¼Œç»“æœæ­£å¥½å‡ºé”™ï¼Œå¼ºæµ‹çˆ†ç‚¸ï¼Œä¹‹åç¬¬ä¸‰æ¬¡å°±è€è€å®å®Junitå•å…ƒæµ‹è¯•äº†ï¼›ç¬¬å››æ¬¡ä½œä¸šä»¥æ‰‹åŠ¨æ„é€ æ ·ä¾‹ä¸ºä¸»ã€‚ é‚£ä¹ˆå½“æˆ‘ä»¬åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨åšä»€ä¹ˆï¼Ÿæœ€ç®€å•æ¥è¯´å°±æ˜¯è€ƒè™‘æ‰€æœ‰è¾“å…¥çš„ç»“æœï¼Œå¹¶ä¸”ä¿è¯æ¯ç§éƒ½ä¼šæœ‰æ­£ç¡®çš„äº¤äº’ï¼Œç»“æœã€‚ä½†æ˜¯åœ¨å®é™…è¿‡ç¨‹ä¸­è¦å®Œå…¨è¦†ç›–æ‰€æœ‰çš„å¯èƒ½æ€§æ˜¾ç„¶æ˜¯åšä¸åˆ°çš„ï¼Œæ‰€ä»¥è¯´åœ¨æµ‹è¯•çš„æ—¶å€™æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½åœ°å–å‡ºå…¸å‹æ ·ä¾‹ï¼Œè€Œè¿™å°±æ˜¯ä¸¤ç§æ–¹æ³•â€”â€”éšæœºç”Ÿæˆæ•°æ®æˆ–è€…æ‰‹åŠ¨æ„é€ é’ˆå¯¹æ€§æ•°æ®ã€‚ è€Œå¯¹äºäº’æµ‹æ¥è¯´ï¼Œè¦åŒæ—¶æ£€æŸ¥7ä¸ªäººçš„é”™è¯¯ï¼Œå•å•é åœ¨æ§åˆ¶å°è¾“å…¥è¾“å‡ºæ˜¾ç„¶æ˜¯ä½æ•ˆçš„ï¼Œå› æ­¤ä¹Ÿéœ€è¦ç»“åˆè„šæœ¬ç»Ÿä¸€æµ‹è¯•ã€‚åœ¨å››æ¬¡ä½œä¸šæˆ‘éƒ½æ˜¯ä½¿ç”¨æ‰‹åŠ¨æ„é€ æ•°æ®+è¯„æµ‹æœºå¯¹æ‹æµ‹è¯•çš„æ–¹å¼ï¼ˆå«–æ¥çš„ä¸œè¥¿çœŸé¦™ï¼‰ï¼Œæˆ‘è‡ªå·±ä¹Ÿå­¦ä¹ äº†Pythonè¯­æ³•ï¼Œå†™äº†å¯¹æ‹ç¨‹åºï¼Œæ¥ä¸‹æ¥æ‰“ç®—å­¦ä¹ ä¸‹æŸä½å¤§ä½¬çš„å¯è§†åŒ–è¯„æµ‹æœºæ˜¯å’‹å†™çš„ã€‚ 4. è¯¾ç¨‹æ”¶è· ä¸€å®šä¸€å®šè¦åšå¥½æµ‹è¯•ï¼å†™å®Œä»£ç ä¸æµ‹è¯•å°±åƒæ™šä¸Šå¼€è½¦ä¸å¼€ç¯ å­¦ä¹ äº†Gitçš„ä½¿ç”¨ã€Java/Pythonçš„åŸºæœ¬è¯­æ³•ã€å¤šçº¿ç¨‹ã€å¥‘çº¦å¼ç¼–ç¨‹ã€UMLç­‰çŸ¥è¯† ç®—æ³•æ— è®ºä½•æ—¶éƒ½éå¸¸å…³é”®ï¼Œæ¥ä¸‹æ¥å¯ä»¥ç»§ç»­åŠ å¼ºè¿™æ–¹é¢çš„ç»ƒä¹  5. æ”¹è¿›å»ºè®® é¦–å…ˆæ˜¯å…³äºå®éªŒè¯¾ï¼Œå’Œæ¯æ¬¡ä½œä¸šéƒ½ä¼šæœ‰éå¸¸å¿«é€Ÿä¸”ç§¯æçš„åé¦ˆç›¸æ¯”ï¼Œå®éªŒè¯¾ä¸å…¬å¸ƒæˆç»©ï¼Œåªé€šè¿‡åä¸€æ¬¡è¯¾ä»¶çš„pptå±•ç¤ºæ•´ä½“çš„å®Œæˆæƒ…å†µï¼Œè®©äººä¸çŸ¥é“è‡ªå·±åšçš„åˆ°åº•å¯¹ä¸å¯¹ï¼Œè®­ç»ƒæ•ˆæœæœ‰æ‰€æŠ˜æ‰£ã€‚å¦å¤–æŸå‡ æ¬¡å®éªŒè¯¾çš„éš¾åº¦ç¡®å®æœ‰äº›å¤§ï¼Œè™½ç„¶ä¹Ÿè®©æˆ‘å¯¹GCåƒåœ¾å›æ”¶æœºåˆ¶ç­‰æœ‰äº†ä¸€å®šäº†è§£ï¼Œä½†é‚£æ¬¡æ‰¾BugçœŸçš„æ˜¯ç¾éš¾â€¦â€¦æ”¹è¿›ä¸Šæˆ‘è§‰å¾—å¯ä»¥é™ä½å®éªŒè¯¾æ‰€å åˆ†æ•°æ¯”ï¼ˆè™½ç„¶æˆ‘å¾ˆå¸Œæœ›è¢«æï¼‰ï¼Œå¢åŠ è®¨è®ºå æ¯”ï¼Œæ¯æ¬¡ç»“æŸåä¸ä½œä¸šä¸€æ ·å…¬å¸ƒç»“æœã€‚ ç„¶åæ˜¯å…³äºç ”è®¨è¯¾ï¼Œçœ‹äº†æˆ‘å¥½å‡ ä¸ªåŒå­¦çš„åšå®¢éƒ½åœ¨æ‰¹è¯„ç ”è®¨è¯¾åæœŸå¤ªæ°´ï¼Œæˆ‘å…¶å®è§‰å¾—Rè€å¸ˆçš„ç ”è®¨è¯¾è¿˜æ˜¯å®‰æ’å¾—æ¯”è¾ƒå¥½çš„ã€‚å…¶å®æˆ‘æ„Ÿè§‰æŒ‰ç…§å½“å‰ç ”è®¨è¯¾æŠ¥åæ–¹å¼ï¼ŒåæœŸç ”è®¨è¯¾å­˜åœ¨çŒæ°´ç°è±¡æ˜¯éå¸¸æ­£å¸¸çš„ã€‚OOç»™æˆ‘çš„æ„Ÿè§‰æ˜¯ä¸€é—¨ä¸‹çº¿å¾ˆé«˜,ä¸Šé™æ— ç©·æ— å°½çš„è¯¾ç¨‹ï¼Œä½ æ°¸è¿œä¸çŸ¥é“éš”å£çš„å¤§ä½¬ä¸ºäº†å†™è¯„æµ‹æœºå’Œä¼˜åŒ–ç®—æ³•éƒ½ç”¨äº†ä»€ä¹ˆé«˜æ·±çš„æŠ€å·§ã€‚ç„¶è€Œå¤§ä½¬çš„æ•°é‡æ˜¯æœ‰æé™çš„ï¼ŒæŒ‰ç…§ä¸¤å‘¨ä¸€æ¬¡æ¯æ¬¡3-4ä¸ªäººçš„é¢‘æ¬¡ï¼Œè‡ªç„¶ä¸å¯èƒ½æ‰€æœ‰äººéƒ½æ‹¿å‡ºâ€œå¹²è´§â€ã€‚è¿™ä¸€ç‚¹æˆ‘è§‰å¾—Rè€å¸ˆåæœŸç ”è®¨è¯¾ä¼šå®‰æ’åŒå­¦åšä½œä¸šæ€»ç»“å°±éå¸¸å¥½ï¼Œè¯´çš„ä¹Ÿæ˜¯æˆ‘ä»¬æˆ‘è§‰å¾—å¦‚æœæŠŠè¿™ä¸ªå½“ä½œæ¯æ¬¡ç ”è®¨è¯¾çš„ä¿ç•™é¡¹ç›®ï¼Œè®©æ‰€æœ‰åŒå­¦è®¨è®ºä¸åŒæ¶æ„å’Œå„è‡ªçš„ä¼˜åŠ¿ï¼Œä¹Ÿæ¯”è¾ƒæ–¹ä¾¿å¤§å®¶ä¼˜åŒ–è‡ªå·±çš„ä»£ç ï¼Œé¿å…å¤§ä½¬å¾ˆå¿«è®²å®Œæ— è¯å¯è®²çš„æƒ…å†µã€‚ æœ€åå…³äºä½œä¸šï¼Œæˆ‘è§‰å¾—JMLå¯ä»¥æ”¾åœ¨ç¬¬ä¸€ç« ï¼ˆPreä¹‹åï¼‰ï¼Œå‰ä¸¤å•å…ƒå¯¹JMLå·¥ç¨‹ä½“ç³»çš„å¸®åŠ©å¯èƒ½å¹¶ä¸å¤§ï¼ŒçŸ­æœŸå†…JMLå·¥å…·é“¾åº”è¯¥è¿˜æ˜¯ä¸å®Œå¤‡çš„ï¼Œï¼ˆå½“ç„¶ä¸æ’é™¤å¤§ä½¬æš‘å‡è‡´åŠ›äºä¸ºä¸‹ä¸€å±Šå¸¦æ¥èˆ¹æ–°çš„JMLä½“éªŒçš„å¯èƒ½ï¼‰ï¼Œæ‰€ä»¥ä¸‹ä¸€å±Šåº”è¯¥ä¹Ÿå’Œæˆ‘ä»¬çš„ä½“éªŒå·®ä¸å¤šï¼Œå°†JMLå¯ä»¥æ”¾åœ¨ç¬¬ä¸€ç« ï¼Œå¯ä»¥ä¸€å¼€å§‹å°±ç»™å¤§å®¶ä¸€ä¸ªå…³äºå¥‘çº¦å¼ç¼–ç¨‹çš„ç²—æµ…ç†è§£ï¼Œæ›´æ—©åœ°æ„Ÿå—åˆ°è§„æ ¼åŒ–æè¿°å’Œè¿­ä»£å¼€å‘çš„é‡è¦æ€§ï¼Œåœ¨å¤šé¡¹å¼å’Œå¤šçº¿ç¨‹ç”µæ¢¯ä¹Ÿèƒ½å°‘åƒä¸€ç‚¹è‹¦å¤´ã€‚ çº¿ä¸Šå­¦ä¹ OOè¯¾ç¨‹çš„ä½“ä¼šä¸OSã€èˆªæ¦‚ç­‰ç›¸æ¯”ï¼Œæˆ‘è§‰å¾—æœ¬å­¦æœŸOOæ˜¯æ”¶åˆ°ç–«æƒ…å½±å“æœ€å°çš„ä¸€é—¨è¯¾ç¨‹ï¼Œæœ¬èº«ä¹Ÿæ²¡æœ‰è€ƒè¯•ï¼ˆè€Œæ˜¯æ„‰å¿«çš„å‘¨å‘¨ä¹ï¼‰ï¼ŒæœŸæœ«å—åˆ°çš„å½±å“ä¹Ÿä¸å¤§ã€‚è€Œä¸”æ…•è¯¾å¯ä»¥éšæ—¶å›æ”¾ï¼Œç ”è®¨è¯¾è™½ç„¶æœ‰ç‚¹å†·æ¸…ä½†çº¿ä¸‹ä¹Ÿæœªå¿…æ›´å¥½ï¼Œæ‰€ä»¥çº¿ä¸Šå­¦ä¹ OOæˆ‘æ„Ÿè§‰å¾ˆæ˜¯å¾ˆæ„‰æ‚¦çš„ä¸€é—¨è¯¾ç¨‹ã€‚ è®°å¾—åœ¨ä¸ŠOOè¿™é—¨è¯¾ä¹‹å‰æˆ‘è¿˜ä¸ŠXä¹çœ‹äº†å¾€å±Šå­¦é•¿ä»¬å¯¹è¯¾ç¨‹çš„è¯„ä»·ï¼Œçœ‹åˆ°æ›¾ç»çš„åæ§½ï¼Œçœ‹åˆ°Xä¹ä¸Šå­¦é•¿å…³äºOOè¯¾ç¨‹æ”¹é©çš„å›ç­”ï¼Œè¿™ä¸€å­¦æœŸæˆ‘ä¹Ÿäº²èº«ä½“éªŒäº†OOï¼Œè¿˜æ˜¯ä¸çŸ¥å¤šå°‘å¹´ä¸€é‡çš„çº¿ä¸Šç‰¹ä¾›ç‰ˆï¼ˆç¬‘å“­ï¼‰ï¼ŒOOè®©æˆ‘æœ‰äº†è·å¾—çŸ¥è¯†çš„å……å®æ„Ÿï¼Œä¸€æ¬¡æ¬¡çš„è®­ç»ƒä½œä¸šä¹Ÿæ˜¯å¾ªåºæ¸è¿›ï¼ŒåŠ©æ•™ä¹Ÿå¾ˆè®¤çœŸè´Ÿè´£ã€‚æ„Ÿè°¢orz","permalink":"https://mondaycha.github.io/2020/06/14/614-1/","photos":[]},{"tags":[{"name":"é©¬å…‹æ€ä¸»ä¹‰","slug":"é©¬å…‹æ€ä¸»ä¹‰","permalink":"https://mondaycha.github.io/tags/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"é©¬åŸæ¢è®¨ï¼šå„æ–­äº§ç”Ÿæ¶ˆé™¤äº†ç«äº‰ï¼Ÿ","date":"2020/06/03","text":"è¯·åˆ¤æ–­æ­£è¯¯å¹¶è¯´æ˜åŸå› ã€‚ 1ã€ä½œä¸ºè‡ªç”±ç«äº‰çš„å¯¹ç«‹é¢ï¼Œå„æ–­äº§ç”Ÿæ¶ˆé™¤äº†ç«äº‰ 2ã€å„æ–­åˆ©æ¶¦å½’æ ¹åˆ°åº•æ¥æºäºå„æ–­èµ„æœ¬å®¶åˆ¶å®šçš„å„æ–­ä»·æ ¼ã€‚ 1ï¼‰é”™è¯¯ã€‚ ç«äº‰æ˜¯å•†å“ç»æµå›ºæœ‰çš„è§„å¾‹ï¼Œå•†å“ç»æµäº§ç”Ÿå’Œå­˜åœ¨çš„å†³å®šæ€§æ¡ä»¶æ˜¯ç”Ÿäº§èµ„æ–™ç§æœ‰åˆ¶ï¼Œè€Œå„æ–­æ²¡æœ‰æ”¹å˜ç”Ÿäº§èµ„æ–™ç§æœ‰åˆ¶ï¼Œå› æ­¤æ— æ³•æ¶ˆé™¤ç«äº‰ã€‚ç°å®ä¸–ç•Œä¹Ÿä¸å¯èƒ½å‡ºç°å„æ–­å…¨éƒ¨ç¤¾ä¼šç”Ÿäº§çš„ç»„ç»‡ï¼Œå„æ–­ç»„ç»‡å†…éƒ¨ã€å„æ–­ç»„ç»‡ä¹‹é—´ç­‰éƒ½ä¼šå­˜åœ¨ç«äº‰ã€‚ 2ï¼‰é”™è¯¯ã€‚ å„æ–­åˆ©æ¶¦å½’æ ¹åˆ°åº•æ¥æºäºæ— äº§é˜¶çº§åŠå…¶ä»–åŠ³åŠ¨äººæ°‘åˆ›é€ çš„å‰©ä½™ä»·å€¼ã€‚å„æ–­åˆ©æ¶¦æœ‰ä»¥ä¸‹å››ç§æ¥æºï¼šâ‘ é€šè¿‡åŠ å¼ºå¯¹å›½å†…æ— äº§é˜¶çº§å’Œå…¶ä»–åŠ³åŠ¨äººæ°‘çš„å‰¥å‰Šè·å¾—çš„åˆ©æ¶¦ã€‚â‘¡é€šè¿‡æ§åˆ¶å¸‚åœºå æœ‰éå„æ–­ä¼ä¸šçš„åˆ©æ¶¦ã€‚â‘¢é€šè¿‡åŠ å¼ºå¯¹å…¶ä»–å›½å®¶åŠ³åŠ¨äººæ°‘çš„å‰¥å‰Šå’Œæ å¤ºè·å–çš„å›½å¤–åˆ©æ¶¦ã€‚â‘£åˆ©ç”¨æ‰€æ§åˆ¶çš„å›½å®¶æœºå™¨ï¼Œé€šè¿‡è´¢æ”¿è¡¥è´´ã€å‡å…ç¨æ”¶ç­‰å†åˆ†é…æ‰‹æ®µï¼ŒæŠŠåŠ³åŠ¨äººæ°‘åˆ›é€ çš„å›½æ°‘æ”¶å…¥çš„ä¸€éƒ¨åˆ†è½¬åŒ–ä¸ºé«˜é¢å„æ–­åˆ©æ¶¦ã€‚å› æ­¤ï¼Œå„æ–­åˆ©æ¶¦å½’æ ¹åˆ°åº•æ¥æºäºæ— äº§é˜¶çº§åŠå…¶ä»–åŠ³åŠ¨äººæ°‘åˆ›é€ çš„å‰©ä½™ä»·å€¼ã€‚ åœ¨åˆ¶å®šå„æ–­ä»·æ ¼æ—¶ï¼Œå„æ–­ä»·æ ¼ä¸å¯èƒ½å®Œå…¨è„±ç¦»å•†å“çš„ä»·å€¼ï¼Œå„æ–­ç»„ç»‡ä¹Ÿä¸å¯èƒ½ä»»æ„æé«˜æˆ–é™ä½å•†å“çš„ä»·æ ¼ï¼Œå®ƒçš„å˜åŒ–ä»ç„¶åœ¨ä¸åŒç¨‹åº¦ä¸Šå—ç«äº‰å’Œä¾›æ±‚å…³ç³»çš„åˆ¶çº¦ï¼Œæ‰€ä»¥å„æ–­ä»·æ ¼å¹¶éå„æ–­åˆ©æ¶¦çš„æ ¹æºã€‚","permalink":"https://mondaycha.github.io/2020/06/03/603-1/","photos":[]},{"tags":[{"name":"é©¬å…‹æ€ä¸»ä¹‰","slug":"é©¬å…‹æ€ä¸»ä¹‰","permalink":"https://mondaycha.github.io/tags/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šå…±äº§å…šå®£è¨€ã€‹å¸¦ç»™æˆ‘çš„ä¸¤ç‚¹ç–‘æƒ‘","date":"2020/05/30","text":"åœ¨é˜…è¯»ã€Šå…³äºè´¹å°”å·´å“ˆçš„æçº²ã€‹å’Œã€Šå…±äº§å…šå®£è¨€ã€‹æ—¶ï¼Œå…³äºè´¹å°”å·´å“ˆçš„æé«˜æ˜¯é©¬å…‹æ€çš„æ‰‹ç¨¿å†…å®¹ï¼Œä¹Ÿæ¯”è¾ƒæ™¦æ¶©ï¼Œå“²å­¦ä¹¦éœ€ï¼Œè®©äººè™½ç„¶éš¾çœ‹çš„éƒ½ä¹°ä¸ªå­—çš„æ„æ€å´ä¸æ¸…æ¥šå…·ä½“çš„å†…æ¶µï¼Œè€Œå…±äº§å…šå®£è¨€åˆ™ç”³ä¸œè´¤ç›¸çš„æ˜¯æ‰˜ã€‚ è€Œé˜…è¯»å®Œã€Šå…±äº§å…šå®£è¨€ã€‹ï¼Œæˆ‘æœ€å¤§çš„ç–‘æƒ‘å°±æ˜¯ï¼Œä¸ºä»€ä¹ˆåœ¨ä¸€ç™¾å¤šå¹´åçš„ä»Šå¤©ï¼Œèµ„æœ¬ä¸»ä¹‰ä¾ç„¶æ²¡æœ‰ç­äº¡ï¼Œ ç°å®çš„ç¤¾ä¼šä¸»ä¹‰å›½å®¶åœ¨å»ºè®¾ä¹‹åˆé€šå¸¸é¢ä¸´ç€è¦åœ¨çŸ­æ—¶é—´å†…å®Œæˆç¤¾ä¼šæ”¹é€ çš„è‡ªæˆ‘è¦æ±‚ï¼Œå¾€å¾€å¯¼è‡´ä¼ ç»Ÿç¤¾ä¼šä¸»ä¹‰å»ºè®¾æ¨¡å¼å¿½è§†ç”Ÿäº§åŠ›å®é™…æ°´å¹³å’Œäººçš„ç°å®éœ€æ±‚ï¼Œè®¤ä¸ºåªè¦åœ¨ç¤¾ä¼šä¸­æ¶ˆç­äº†ä¸åˆ†ä»€ä¹ˆæ ·çš„ç§æœ‰åˆ¶ï¼Œå»ºç«‹èµ·çº¯è€Œåˆçº¯çš„å…¬æœ‰åˆ¶ã€‚ ã€Šå…±äº§å…šå®£è¨€ã€‹æœ‰ä¸€ä¸ªæ¥”å­ã€å››ç« æ­£æ–‡ã€ä¸€å¥ç»“è¯­,å› ä¸ºä¸æ–­å†ç‰ˆå’Œç¿»è¯‘æˆå…¶å®ƒè¯­è¨€,å¢åŠ äº†ä¸ƒä¸ªåºè¨€,è¿™äº›åºè¨€ä¹Ÿå·²æˆä¸ºå…¶ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†ã€‚å®£è¨€å¯¹èµ„æœ¬ä¸»ä¹‰è¿›è¡Œäº†æ·±åˆ»çš„åˆ†æ,æ­ç¤ºäº†èµ„æœ¬ä¸»ä¹‰çš„å†…åœ¨çŸ›ç›¾,è®ºè¯äº†èµ„æœ¬ä¸»ä¹‰ã€‚ 1833å¹´ï¼Œå·´é»çš„å¾·å›½æµäº¡è€…æˆç«‹äº†ä¸€ä¸ªç§˜å¯†ç»„ç»‡â€”â€”â€”â€œäººæ°‘åŒç›Ÿâ€ï¼Œ1834å¹´æ”¹ç»„ä¸ºâ€œæµäº¡è€…åŒç›Ÿâ€ï¼Œå¤§çº¦æœ‰å‡ ç™¾åæˆå‘˜ã€‚1836å¹´ï¼Œâ€œæµäº¡è€…åŒç›Ÿâ€ä¸­è¾ƒä¸ºæ¿€è¿›çš„æˆå‘˜ç‹¬ç«‹å‡ºæ¥æˆç«‹äº†â€œæ­£ä¹‰è€…åŒç›Ÿâ€ï¼Œä»–ä»¬å¯†è°‹å»ºç«‹","permalink":"https://mondaycha.github.io/2020/05/30/530-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://mondaycha.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab5 å®éªŒç¬”è®°","date":"2020/05/24","text":"OS Lab5 å®éªŒç¬”è®°æ–‡ä»¶ç³»ç»Ÿæ¦‚è¿°Thinking 5.1æŸ¥é˜…èµ„æ–™ï¼Œäº†è§£ Linux/Unix çš„ /proc æ–‡ä»¶ç³»ç»Ÿæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ Windows æ“ä½œç³»ç»Ÿåˆæ˜¯å¦‚ä½•å®ç°è¿™äº›åŠŸèƒ½çš„ï¼Ÿproc æ–‡ä»¶ç³»ç»Ÿè¿™æ ·çš„è®¾è®¡æœ‰ä»€ä¹ˆå¥½å¤„å’Œå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Ÿ ç­”ï¼š /proc æ–‡ä»¶ç³»ç»Ÿæ˜¯ä»€ä¹ˆï¼Ÿ procæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¼ªæ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒåªå­˜åœ¨å†…å­˜å½“ä¸­ï¼Œè€Œä¸å ç”¨å¤–å­˜ç©ºé—´ã€‚å®ƒä»¥æ–‡ä»¶ç³»ç»Ÿçš„æ–¹å¼ä¸ºè®¿é—®ç³»ç»Ÿå†…æ ¸æ•°æ®çš„æ“ä½œæä¾›æ¥å£ï¼Œä¸€èˆ¬æŒ‚è½½åœ¨â€œ/procâ€ç›®å½•ï¼Œå…¶ä¸­çš„å¤§éƒ¨åˆ†å†…å®¹æ˜¯åªè¯»çš„ã€‚ æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ procæ–‡ä»¶ç³»ç»Ÿæä¾›äº†ä»ç”¨æˆ·ç©ºé—´é€šå¾€å†…æ ¸ç©ºé—´çš„ä¸€ä¸ªå…¥å£ï¼Œé€šè¿‡è¯»å–å…¶ä¸­çš„æ–‡ä»¶æ¥åŠ¨æ€åœ°è·å¾—å†…æ ¸çš„çŠ¶æ€ã€‚å¾ˆå¤šLinuxç³»ç»Ÿå‘½ä»¤ï¼Œæ¯”å¦‚lsmodã€psï¼Œéƒ½æ˜¯é€šè¿‡ç›´æ¥è®¿é—®procæ–‡ä»¶ç³»ç»Ÿæ¥è·å¾—æ•°æ®ã€‚æ­¤å¤–è¿˜å¯ä»¥é€šè¿‡ä¿®æ”¹æŸäº›æ–‡ä»¶çš„å†…å®¹æ¥æ”¹å˜å†…æ ¸å‚æ•°ã€‚ Windowså¦‚ä½•å®ç°è¿™äº›åŠŸèƒ½ï¼Ÿ åœ¨windowså¹³å°ä¸‹ï¼Œå¾®è½¯ä¸ºäº†ä¿æŠ¤æ“ä½œç³»ç»Ÿçš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ï¼ŒæŠŠç³»ç»Ÿåˆ†ä¸ºå†…æ ¸å±‚å’Œç”¨æˆ·å±‚ï¼Œéœ€è¦å€ŸåŠ©native API å’Œwin32 APIè®¿é—®ç³»ç»Ÿå†…æ ¸æ•°æ®ã€‚ /procæ–‡ä»¶ç³»ç»Ÿè¿™æ ·çš„è®¾è®¡æœ‰ä»€ä¹ˆå¥½å¤„å’Œå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Ÿ å¥½å¤„ï¼šå¯ä»¥å°†å¯¹è™šæ‹Ÿæ–‡ä»¶çš„è¯»å†™ä½œä¸ºä¸å†…æ ¸ä¸­å®ä½“è¿›è¡Œé€šä¿¡ æ”¹è¿›ï¼šsysfsæ¯”/procæœ‰ç€æ›´å¥½çš„ç»„ç»‡ï¼›å¯¹æ–‡ä»¶çš„ä¿®æ”¹åœ¨é‡å¯åä¼šå¤±æ•ˆ åœ¨æœ¬æ¬¡å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†è¦å®ç°ä¸€ä¸ªç®€å•ä½†ç»“æ„å®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿã€‚æ•´ä¸ªæ–‡ä»¶ç³»ç»ŸåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š å¤–éƒ¨å‚¨å­˜è®¾å¤‡é©±åŠ¨ é€šå¸¸ï¼Œå¤–éƒ¨è®¾å¤‡çš„æ“ä½œéœ€è¦é€šè¿‡æŒ‰ç…§ä¸€å®šæ“ä½œåºåˆ—è¯»å†™ç‰¹å®šçš„å¯„å­˜å™¨æ¥å®ç°ã€‚ä¸ºäº†å°†è¿™ç§æ“ä½œè½¬åŒ–ä¸ºå…·æœ‰é€šç”¨ã€æ˜ç¡®è¯­ä¹‰çš„æ¥å£ï¼Œæˆ‘ä»¬å¿…é¡»å®ç°ç›¸åº”çš„é©±åŠ¨ç¨‹åºã€‚åœ¨æœ¬éƒ¨åˆ†ï¼Œæˆ‘ä»¬å®ç°äº†IDEç£ç›˜çš„ç”¨æˆ·æ€é©±åŠ¨ç¨‹åºã€‚ æ–‡ä»¶ç³»ç»Ÿç»“æ„ åœ¨æœ¬éƒ¨åˆ†ï¼Œæˆ‘ä»¬å®ç°ç£ç›˜ä¸Šå’Œæ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶ç³»ç»Ÿç»“æ„ï¼Œå¹¶é€šè¿‡é©±åŠ¨ç¨‹åºå®ç°æ–‡ä»¶ç³»ç»Ÿæ“ä½œç›¸å…³å‡½æ•°ã€‚ æ–‡ä»¶ç³»ç»Ÿçš„ç”¨æˆ·æ¥å£ åœ¨æœ¬éƒ¨åˆ†ï¼Œæˆ‘ä»¬æä¾›æ¥å£å’Œæœºåˆ¶ä½¿å¾—ç”¨æˆ·ç¨‹åºèƒ½å¤Ÿä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™ä¸»è¦é€šè¿‡ä¸€ä¸ªç”¨æˆ·æ€çš„æ–‡ä»¶ç³»ç»ŸæœåŠ¡æ¥å®ç°ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¼•å…¥äº†æ–‡ä»¶æè¿°ç¬¦ç­‰ç»“æ„ä½¿æ“ä½œç³»ç»Ÿå’Œç”¨æˆ·ç¨‹åºå¯ä»¥æŠ½è±¡åœ°æ“ä½œæ–‡ä»¶è€Œå¿½ç•¥å…¶å®é™…çš„ç‰©ç†è¡¨ç¤ºã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€ä¸€è¯¦ç»†è§£è¯»è¿™äº›éƒ¨åˆ†çš„å®ç°ã€‚ IDEç£ç›˜é©±åŠ¨Thinking 5.2å¦‚æœæˆ‘ä»¬é€šè¿‡ kseg0 è¯»å†™è®¾å¤‡ï¼Œæˆ‘ä»¬å¯¹äºè®¾å¤‡çš„å†™å…¥ä¼šç¼“å­˜åˆ° Cache ä¸­ã€‚é€šè¿‡ kseg0 è®¿é—®è®¾å¤‡æ˜¯ä¸€ç§é”™è¯¯çš„è¡Œä¸ºï¼Œåœ¨å®é™…ç¼–å†™ä»£ç çš„æ—¶å€™è¿™ä¹ˆåšä¼šå¼•å‘ä¸å¯é¢„çŸ¥çš„é—®é¢˜ã€‚è¯·ä½ æ€è€ƒï¼šè¿™ä¹ˆåšè¿™ä¼šå¼•èµ·ä»€ä¹ˆé—®é¢˜ï¼Ÿå¯¹äºä¸åŒç§ç±»çš„è®¾å¤‡ï¼ˆå¦‚ æˆ‘ä»¬æåˆ°çš„ä¸²å£è®¾å¤‡å’Œ IDE ç£ç›˜ï¼‰çš„æ“ä½œä¼šæœ‰å·®å¼‚å—ï¼Ÿå¯ä»¥ä»ç¼“å­˜çš„æ€§è´¨å’Œç¼“å­˜åˆ·æ–°çš„ç­–ç•¥æ¥è€ƒè™‘ã€‚ ç­”ï¼š å¦‚æœé€šè¿‡kseg0 è®¿é—®è®¾å¤‡ï¼Œåœ¨å†™å…¥æ—¶ä¼šç¼“å­˜åˆ°Cacheä¸­ï¼Œå½“æ•°æ®å—è¦è¢«æ›¿æ¢æ—¶æ‰å†™å›åˆ°ç©ºé—´ä¸­ã€‚ å¯¹äºå¦‚Consoleçš„ä¸²å£è®¾å¤‡ï¼Œè¿›è¡Œé€šä¿¡æ—¶æ˜¯å®æ—¶çš„ï¼Œè€Œå€ŸåŠ©Cacheæ•°æ®ä½•æ—¶è¢«å†™å…¥å¤–è®¾å¹¶ä¸ç¡®å®šï¼Œå› æ­¤æ— æ³•é¢„æµ‹é€šä¿¡çš„ç»“æœ å¯¹äºIDEç£ç›˜ç­‰ï¼Œè®¿é—®ç£ç›˜ä¸è®¿é—®å†…å­˜çš„æœºåˆ¶ç›¸ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨Cacheæœºåˆ¶æé«˜è®¿é—®é€Ÿåº¦ã€‚ Exercise5.1è¯·æ ¹æ®lib/syscall_all.cä¸­çš„è¯´æ˜ï¼Œå®Œæˆsys_write_devå‡½æ•°å’Œsys_read_dev å‡½æ•°ï¼Œå¹¶ä¸”åœ¨ user/lib.h,user/syscall_lib.c ä¸­å®Œæˆç”¨æˆ·æ€çš„ç›¸åº”ç³»ç»Ÿè°ƒç”¨çš„æ¥å£ã€‚ ç¼–å†™è¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨æ—¶éœ€è¦æ³¨æ„ç‰©ç†åœ°å€ã€ç”¨æˆ·è¿›ç¨‹è™šæ‹Ÿåœ°å€åŒå†…æ ¸è™šæ‹Ÿåœ°å€ ä¹‹é—´çš„è½¬æ¢ã€‚ åŒæ—¶è¿˜è¦æ£€æŸ¥ç‰©ç†åœ°å€çš„æœ‰æ•ˆæ€§ï¼Œåœ¨å®éªŒä¸­å…è®¸è®¿é—®çš„åœ°å€èŒƒå›´ä¸º: console: [0x10000000, 0x10000020), disk: [0x13000000, 0x13004200), rtc: [0x15000000, 0x15000200)ï¼Œå½“å‡ºç°è¶Šç•Œæ—¶ï¼Œåº”è¿”å›æŒ‡å®šçš„é”™è¯¯ç ã€‚ Exercise 5.2å‚è€ƒå†…æ ¸æ€é©±åŠ¨ï¼Œå®Œæˆ fs/ide.c ä¸­çš„ ide_write å‡½æ•°ï¼Œä»¥åŠ ide_read å‡½æ•°ï¼Œå®ç°å¯¹ç£ç›˜çš„è¯»å†™æ“ä½œã€‚ Text Input with Hints and Feedbackè¯¦ç»†é˜…è¯»å®éªŒæŒ‡å¯¼ä¹¦, å›ç­”ä»¥ä¸‹é—®é¢˜ï¼šå¾€ç£ç›˜å†™å…¥æ•°æ®, å†™å…¥å†…å­˜çš„é¦–åœ°å€ä¸º: ç­”ï¼š Gxemul æä¾›çš„Simulated IDE disk çš„åœ°å€æ˜¯0x13000000ã€‚ æ³¨æ„ï¼Œæ‰€æœ‰çš„åœ°å€æ“ä½œéƒ½éœ€è¦å°†ç‰©ç†åœ°å€è½¬æ¢æˆè™šæ‹Ÿåœ°å€ã€‚æ­¤å¤„è®¾å¤‡åŸºåœ°å€å¯¹åº”çš„kseg1 çš„å†…æ ¸è™šæ‹Ÿåœ°å€æ˜¯0xB3000000ã€‚ 0x13000000åŠ ä¸Š0xA0000000ï¼Œç­”æ¡ˆå°±æ˜¯0xB3000000ã€‚ æ–‡ä»¶ç³»ç»Ÿç»“æ„Exercise 5.3æ–‡ä»¶ç³»ç»Ÿéœ€è¦è´Ÿè´£ç»´æŠ¤ç£ç›˜å—çš„ç”³è¯·å’Œé‡Šæ”¾ï¼Œåœ¨å›æ”¶ä¸€ä¸ªç£ç›˜å—æ—¶ï¼Œéœ€ è¦æ›´æ”¹ä½å›¾ä¸­çš„æ ‡å¿—ä½ã€‚å¦‚æœè¦å°†ä¸€ä¸ªç£ç›˜å—è®¾ç½®ä¸º freeï¼Œåªéœ€è¦å°†ä½å›¾ä¸­å¯¹åº”çš„ ä½çš„å€¼è®¾ç½®ä¸º 1 å³å¯ã€‚è¯·å®Œæˆ fs/fs.c ä¸­çš„ free_block å‡½æ•°ï¼Œå®ç°è¿™ä¸€åŠŸèƒ½ã€‚åŒæ—¶ æ€è€ƒä¸ºä»€ä¹ˆå‚æ•° blockno çš„å€¼ä¸èƒ½ä¸º 0 ï¼Ÿ Thinking 5.3ä¸€ä¸ªç£ç›˜å—æœ€å¤šå­˜å‚¨ 1024 ä¸ªæŒ‡å‘å…¶ä»–ç£ç›˜å—çš„æŒ‡é’ˆï¼Œè¯•è®¡ç®—ï¼Œæˆ‘ä»¬ çš„æ–‡ä»¶ç³»ç»Ÿæ”¯æŒçš„å•ä¸ªæ–‡ä»¶çš„æœ€å¤§å¤§å°ä¸ºå¤šå¤§ï¼Ÿ ç­”ï¼š æ¯ä¸ªç£ç›˜å—çš„å¤§å°ä¸º4KBï¼Œä¸€ä¸ªç£ç›˜å—æœ€å¤šå­˜å‚¨ 1024 ä¸ªæŒ‡å‘å…¶ä»–ç£ç›˜å—çš„æŒ‡é’ˆï¼Œå› æ­¤å•ä¸ªæ–‡ä»¶çš„æœ€å¤§å¤§å°ä¸ºï¼š$$1024Ã—4KB=4MB$$ Thinking 5.4æŸ¥æ‰¾ä»£ç ä¸­çš„ç›¸å…³å®šä¹‰ï¼Œè¯•å›ç­”ä¸€ä¸ªç£ç›˜å—ä¸­æœ€å¤šèƒ½å­˜å‚¨å¤šå°‘ä¸ªæ–‡ä»¶æ§åˆ¶å—ï¼Ÿä¸€ä¸ªç›®å½•ä¸‹æœ€å¤šèƒ½æœ‰å¤šå°‘ä¸ªæ–‡ä»¶ï¼Ÿ ç­”ï¼š ä¸€ä¸ªç£ç›˜å—ä¸­æœ€å¤šèƒ½å­˜å‚¨FILE2BLKä¸ªæ–‡ä»¶æ§åˆ¶å—ï¼Œå³16ä¸ªæ–‡ä»¶æ§åˆ¶å—ã€‚$$FILE2BLK = \\frac{BY2BLK}{BY2FILE}=16$$ Exercise 5.4è¯·å‚ç…§æ–‡ä»¶ç³»ç»Ÿçš„è®¾è®¡ï¼Œå®Œæˆ fsformat.c ä¸­çš„ create_fileå‡½æ•°ï¼Œå¹¶æŒ‰ ç…§ä¸ªäººå…´è¶£å®Œæˆ write_directory å‡½æ•°ï¼ˆä¸ä½œä¸ºè€ƒå¯Ÿç‚¹ï¼‰ï¼Œå®ç°å°†ä¸€ä¸ªæ–‡ä»¶æˆ–æŒ‡å®š ç›®å½•ä¸‹çš„æ–‡ä»¶æŒ‰ç…§ç›®å½•ç»“æ„å†™å…¥åˆ° fs/fs.img çš„æ ¹ç›®å½•ä¸‹çš„åŠŸèƒ½ã€‚å…³äºå¦‚ä½•åˆ›å»ºäºŒ è¿›åˆ¶æ–‡ä»¶çš„é•œåƒï¼Œè¯·å‚è€ƒ fs/Makefileã€‚ åœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥å°†ä½ çš„å®ç°åŒæˆ‘ä»¬ç»™å‡ºçš„å‚è€ƒå¯æ‰§è¡Œæ–‡ä»¶tools/fsformat è¿›è¡Œå¯¹æ¯”ã€‚å…·ä½“æ¥è®²ï¼Œä½ å¯ä»¥é€šè¿‡ Linux æä¾›çš„ xxd å‘½ä»¤å°†ä¸¤ä¸ª fsformat äº§ç”Ÿçš„äºŒ è¿›åˆ¶é•œåƒè½¬åŒ–ä¸ºå¯é˜…è¯»çš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ‰‹å·¥è¿›è¡ŒæŸ¥çœ‹æˆ–ä½¿ç”¨ diff ç­‰å·¥å…·è¿›è¡Œå¯¹æ¯”ã€‚ Thinking 5.5è¯·æ€è€ƒï¼Œåœ¨æ»¡è¶³ç£ç›˜å—ç¼“å­˜çš„è®¾è®¡çš„å‰æä¸‹ï¼Œæˆ‘ä»¬å®éªŒä½¿ç”¨çš„å†…æ ¸æ”¯æŒçš„æœ€å¤§ç£ç›˜å¤§å°æ˜¯å¤šå°‘ï¼Ÿ ç­”ï¼š /* Maximum disk size we can handle (1GB) */#define DISKMAX 0x40000000 æˆ‘ä»¬å®éªŒä½¿ç”¨çš„å†…æ ¸æ”¯æŒçš„æœ€å¤§ç£ç›˜å¤§å°æ˜¯DISKMAXï¼Œå¤§å°ä¸º1Gã€‚ Thinking 5.6å¦‚æœå°† DISKMAX æ”¹æˆ 0xC0000000, è¶…è¿‡ç”¨æˆ·ç©ºé—´ï¼Œæˆ‘ä»¬çš„æ–‡ä»¶ç³»ç»Ÿè¿˜èƒ½æ­£å¸¸å·¥ä½œå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ ç­”ï¼š ä¸èƒ½ã€‚æˆ‘ä»¬çš„æ–‡ä»¶ç³»ç»Ÿå°†DISKMAPåˆ°DISKMAP+DISKMAX è¿™ä¸€æ®µè™šå­˜åœ°å€ç©ºé—´ä½œä¸ºç¼“å†²åŒºï¼Œå¦‚æœDISKMAX æ”¹æˆ 0xC0000000ï¼Œé‚£ä¹ˆç¼“å†²åŒºå°±åŒ…æ‹¬äº†å†…æ ¸ç©ºé—´ã€‚ç”¨æˆ·æ€è¿›ç¨‹è‹¥æ˜¯ç›´æ¥è¯»å†™å†…æ ¸è™šæ‹Ÿåœ°å€å°†ä¼šç”±å¤„ç†å™¨å¼•å‘ä¸€ä¸ªåœ°å€é”™è¯¯ï¼Œå› æ­¤ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚ Exercise 5.5fs/fs.c ä¸­çš„ diskaddr å‡½æ•°ç”¨æ¥è®¡ç®—æŒ‡å®šç£ç›˜å—å¯¹åº”çš„è™šå­˜åœ°å€ã€‚å®Œæˆ diskaddr å‡½æ•°ï¼Œæ ¹æ®ä¸€ä¸ªå—çš„åºå· (block number)ï¼Œè®¡ç®—è¿™ä¸€ç£ç›˜å—å¯¹åº”çš„ 512 bytes è™šå­˜çš„èµ·å§‹åœ°å€ã€‚ï¼ˆæç¤ºï¼šfs/fs.h ä¸­çš„å® DISKMAP å’Œ DISKMAX å®šä¹‰äº†ç£ç›˜æ˜ å°„è™šå­˜çš„åœ°å€ç©ºé—´ï¼‰ã€‚ Exercise 5.6å®ç° map_block å‡½æ•°ï¼Œæ£€æŸ¥æŒ‡å®šçš„ç£ç›˜å—æ˜¯å¦å·²ç»æ˜ å°„åˆ°å†…å­˜ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ†é…ä¸€é¡µå†…å­˜æ¥ä¿å­˜ç£ç›˜ä¸Šçš„æ•°æ®ã€‚å¯¹åº”åœ°ï¼Œå®Œæˆ unmap_block å‡½æ•°ï¼Œç”¨äºè§£é™¤ç£ç›˜å—å’Œç‰©ç†å†…å­˜ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œå›æ”¶å†…å­˜ã€‚ï¼ˆæç¤ºï¼šæ³¨æ„ç£ç›˜è™šæ‹Ÿå†…å­˜åœ°å€ ç©ºé—´å’Œç£ç›˜å—ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼‰ã€‚ Exercise 5.7è¡¥å…¨ dir_lookup å‡½æ•°ï¼ŒæŸ¥æ‰¾æŸä¸ªç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„æ–‡ä»¶ã€‚ï¼ˆæç¤ºï¼š ä½¿ç”¨file_get_blockå¯ä»¥å°†æŸä¸ªæŒ‡å®šæ–‡ä»¶æŒ‡å‘çš„ç£ç›˜å—è¯»å…¥å†…å­˜ï¼‰ã€‚ Thinking 5.7é˜…è¯» user/file.c ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šå‡½æ•°ä¸­éƒ½ä¼šå°†ä¸€ä¸ª struct Fd * å‹çš„ æŒ‡é’ˆè½¬æ¢ä¸º struct Filefd * å‹çš„æŒ‡é’ˆï¼Œè¯·è§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·çš„è½¬æ¢å¯è¡Œã€‚ ç­”ï¼š åœ¨user/fd.hä¸­å¯ä»¥æ‰¾åˆ°Fdå’ŒFilefdçš„å®šä¹‰ï¼š // file descriptorstruct Fd { u_int fd_dev_id; u_int fd_offset; u_int fd_omode;};// file descriptor + filestruct Filefd { struct Fd f_fd; u_int f_fileid; struct File f_file;}; å¯ä»¥çœ‹åˆ°Filefdç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜å°±æ˜¯Fdç»“æ„ä½“ï¼Œä»æŒ‡é’ˆè§’åº¦ï¼Œ struct Fd * å‹çš„æŒ‡é’ˆä¸struct Filefd * å‹çš„æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ•°æ®çš„èµ·å§‹éƒ¨åˆ†æ˜¯ç›¸åŒçš„ï¼Œè½¬æ¢åå¯ä»¥å¢åŠ Filefdä¸­çš„æ–°å±æ€§ã€‚ Thinking 5.8è¯·è§£é‡Š Fd, Filefd, Open ç»“æ„ä½“åŠå…¶å„ä¸ªåŸŸçš„ä½œç”¨ã€‚æ¯”å¦‚å„ä¸ªç»“æ„ä½“ ä¼šåœ¨å“ªäº›è¿‡ç¨‹ä¸­è¢«ä½¿ç”¨ï¼Œæ˜¯å¦å¯¹åº”ç£ç›˜ä¸Šçš„ç‰©ç†å®ä½“è¿˜æ˜¯å•çº¯çš„å†…å­˜æ•°æ®ç­‰ã€‚è¯´æ˜å½¢å¼è‡ªå®šï¼Œè¦æ±‚ç®€æ´æ˜äº†ï¼Œå¯å¤§è‡´å‹¾å‹’å‡ºæ–‡ä»¶ç³»ç»Ÿæ•°æ®ç»“æ„ä¸ç‰©ç†å®ä½“çš„å¯¹åº”å…³ç³» ä¸è®¾è®¡æ¡†æ¶ã€‚ ç­”ï¼š Fdç»“æ„ä½“ï¼š // file descriptorstruct Fd { u_int fd_dev_id; // è®¾å¤‡idï¼šç”¨äºæ ¡éªŒç­‰æ“ä½œ u_int fd_offset; // æ–‡ä»¶æŒ‡é’ˆåç§»ï¼šåœ¨write/readæ—¶æ ‡è®°å½“å‰è¯»å†™ä½ç½® u_int fd_omode; // æ–‡ä»¶æƒé™ï¼šåœ¨è¿›è¡Œæ–‡ä»¶çš„writeæ“ä½œæ—¶éœ€è¦æ ¡éªŒæ˜¯å¦å¯å†™ // ä½ä¸¤ä½00è¡¨ç¤ºåªè¯»ï¼Œ01è¡¨ç¤ºåªå†™ï¼Œ10è¡¨ç¤ºè¯»å†™å‡å¯}; Filefdç»“æ„ä½“ï¼š // file descriptor + filestruct Filefd { struct Fd f_fd; // æ–‡ä»¶æè¿°ç¬¦ï¼šåŒä¸Š u_int f_fileid; // æ–‡ä»¶idï¼šç”¨äºfsipc_closeç­‰æ ¹æ®idä¿®æ”¹æ–‡ä»¶çš„æ“ä½œ struct File f_file; // æ–‡ä»¶æ§åˆ¶å—ï¼šå¯¹åº”ç£ç›˜ä¸Šçš„ç‰©ç†å®ä½“}; Openç»“æ„ä½“ï¼š struct Open { struct File *o_file; // æ˜ å°„æ–‡ä»¶æ§åˆ¶å—çš„æŒ‡é’ˆï¼šå¯¹åº”ç£ç›˜ä¸Šçš„ç‰©ç†å®ä½“ u_int o_fileid; // æ–‡ä»¶idï¼šåŒä¸Š int o_mode; // æ–‡ä»¶è¯»å†™æƒé™ï¼šåŒä¸Š struct Filefd *o_ff; // æ–‡ä»¶æè¿°ç¬¦ï¼šåŒä¸Š};","permalink":"https://mondaycha.github.io/2020/05/24/524-1/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"2020 OO JMLè¯­è¨€ç†è®ºåŸºç¡€ä¸å·¥å…·é“¾æ€»ç»“","date":"2020/05/21","text":"ç¬¬ä¸‰å•å…ƒç»ˆäºç»“æŸäº†ï¼Œè¿™æ˜¯æˆ‘ç›®å‰ä¸ºæ­¢æœ€æƒ¨çš„ä¸€å•å…ƒï¼Œç¬¬åæ¬¡ä½œä¸šå¼ºæµ‹20åˆ†ï¼Œäº’æµ‹æ€æˆç‹—â€¦â€¦è™½ç„¶éƒ½çŸ¥é“åªå…³æ³¨åˆ†æ•°æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œæˆ‘æ›´åº”è¯¥å»ä½“ä¼šçš„æ˜¯é€šè¿‡JMLå­¦ä¹ å¯¹äºç¨‹åºè®¾è®¡ç†å¿µçš„è®¤çŸ¥ï¼Œä½†æ˜¯â€¦â€¦å¿ƒçœŸçš„å¾ˆç—›ã€‚ ä¸‹é¢å°±è¿›å…¥å•å…ƒæ€»ç»“ï¼š 1. JMLè¯­è¨€ç†è®ºåŸºç¡€ä¸å·¥å…·é“¾1.1 JMLè¯­è¨€æ˜¯ä»€ä¹ˆå‚è€ƒè¯¾ç¨‹ç»„ä¸‹å‘çš„ã€ŠJML(Level 0)ä½¿ç”¨æ‰‹å†Œã€‹ï¼ŒJMLè¯­è¨€çš„å®šä¹‰å¦‚ä¸‹ï¼š JML(Java Modeling Language)æ˜¯ç”¨äºå¯¹Javaç¨‹åºè¿›è¡Œè§„æ ¼åŒ–è®¾è®¡çš„ä¸€ç§è¡¨ç¤ºè¯­è¨€ã€‚JMLæ˜¯ä¸€ç§è¡Œä¸ºæ¥å£è§„æ ¼è¯­è¨€ï¼ˆBehavior Interface Specification Languageï¼ŒBISLï¼‰ï¼ŒåŸºäºLarchæ–¹æ³•æ„å»ºã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒJMLæ˜¯ä¸€ç§å¯¹ä»£ç è¯­è¨€çš„æŠ½è±¡â€”â€”ä¸åŒçš„è¯­è¨€æœ‰ç€ä¸åŒçš„è¯­æ³•ï¼Œè€ŒJMLé€šè¿‡è‡ªå·±çš„è§„åˆ™å¯¹ä»£ç è¿›è¡Œäº†å½¢å¼åŒ–çš„è¡¨è¿°ï¼Œä¸€æ—¦è§„æ ¼ç¡®å®šï¼Œé™¤éæ¶‰åŠå¤æ‚çš„ç®—æ³•è¦æ±‚ï¼Œå®ç°ä»£ç å°±å˜æˆäº†ä¸€ä¸ªç›¸å¯¹ç®€å•çš„äº‹æƒ…ã€‚ 1.2 JMLè¯­è¨€åŸºæœ¬è¯­æ³•JMLçš„æ ¸å¿ƒåœ¨äºç”¨è¡¨è¾¾å¼å¯¹è§„æ ¼è¿›è¡Œæè¿°ï¼Œé¦–å…ˆä»å¸¸è§çš„è¡¨è¾¾å¼è¯´èµ·ï¼Œç»™äººçš„æ„Ÿè§‰ç±»ä¼¼ç¦»æ•£æ•°å­¦ï¼š è¡¨è¾¾å¼ å«ä¹‰ \\result æ–¹æ³•çš„è¿”å›å€¼ï¼ˆévoidç±»å‹ï¼‰ \\old(expr) è¡¨è¾¾å¼expråœ¨æ–¹æ³•æ‰§è¡Œå‰çš„å–å€¼ \\not_assigned(x, y, â€¦) æ‹¬å·ä¸­çš„å˜é‡æ˜¯å¦åœ¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æœªè¢«èµ‹å€¼ \\not_modified(x, y, â€¦) é™åˆ¶æ‹¬å·ä¸­çš„å˜é‡åœ¨æ–¹æ³•æ‰§è¡ŒæœŸé—´çš„å–å€¼æœªå‘ç”Ÿå˜åŒ– \\forall å…¨ç§°é‡è¯ \\exists å­˜åœ¨é‡è¯ \\sum è¿”å›ç»™å®šèŒƒå›´å†…çš„è¡¨è¾¾å¼çš„å’Œ \\product è¿”å›ç»™å®šèŒƒå›´å†…çš„è¡¨è¾¾å¼çš„è¿ä¹˜ç»“æœ \\max è¿”å›ç»™å®šèŒƒå›´å†…çš„è¡¨è¾¾å¼çš„æœ€å¤§å€¼ \\min è¿”å›ç»™å®šèŒƒå›´å†…çš„è¡¨è¾¾å¼çš„æœ€å°å€¼ \\num_of è¿”å›æŒ‡å®šå˜é‡ä¸­æ»¡è¶³ç›¸åº”æ¡ä»¶çš„å–å€¼ä¸ªæ•° æ¨ç†æ“ä½œç¬¦ \\everything å…¨é›† \\nothing ç©ºé›† è¡¨è¾¾å¼ä¸­å®¹æ˜“é”™çš„åœ°æ–¹åœ¨äº\\old(expr)è¡¨è¾¾å¼ï¼Œä½œä¸ºä¸€èˆ¬è§„åˆ™ï¼Œä»»ä½•æƒ…å†µä¸‹ï¼Œéƒ½åº”è¯¥ä½¿ç”¨\\oldæŠŠå…³å¿ƒçš„è¡¨è¾¾å¼å–å€¼æ•´ä½“æ‹¬èµ·æ¥ã€‚ æ–¹æ³•è§„æ ¼ å«ä¹‰ requires è¡¨è¾¾çš„æ„æ€æ˜¯â€œè¦æ±‚è°ƒç”¨è€…ç¡®ä¿Pä¸ºçœŸâ€ ensures è¡¨è¾¾çš„æ„æ€æ˜¯â€œæ–¹æ³•å®ç°è€…ç¡®ä¿æ–¹æ³•æ‰§è¡Œè¿”å›ç»“æœä¸€å®šæ»¡è¶³è°“è¯Pçš„è¦æ±‚ï¼Œå³ç¡®ä¿Pä¸ºçœŸâ€ assignable/modifiable å‰¯ä½œç”¨èŒƒå›´é™å®šï¼Œå‰¯ä½œç”¨æŒ‡æ–¹æ³•åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šä¿®æ”¹å¯¹è±¡çš„å±æ€§æ•°æ®æˆ–è€…ç±»çš„é™æ€æˆå‘˜æ•°æ®ï¼Œä»è€Œç»™åç»­æ–¹æ³•çš„æ‰§è¡Œå¸¦æ¥å½±å“ã€‚assignbleè¡¨ç¤ºå¯èµ‹å€¼ï¼Œè€Œmodifiableåˆ™è¡¨ç¤ºå¯ä¿®æ”¹ pure çº¯ç²¹è®¿é—®æ€§çš„æ–¹æ³•ï¼Œä¸ä¼šå¯¹å¯¹è±¡çš„çŠ¶æ€è¿›è¡Œä»»ä½•æ”¹å˜ï¼Œä¹Ÿä¸éœ€è¦æä¾›è¾“å…¥å‚æ•° public normal_behavior æ­£å¸¸åŠŸèƒ½ï¼Œä¸€èˆ¬æŒ‡è¾“å…¥æˆ–æ–¹æ³•å…³è”thiså¯¹è±¡çš„çŠ¶æ€åœ¨æ­£å¸¸èŒƒå›´å†…æ—¶æ‰€æŒ‡å‘çš„åŠŸèƒ½ã€‚ public exceptional_behavior ä¸æ­£å¸¸åŠŸèƒ½ç›¸å¯¹ signals ç»“æ„ä¸ºsignals (***Exception e) b_expr;ï¼Œæ„æ€æ˜¯å½“b_exprä¸ºtrueæ—¶ï¼Œæ–¹æ³•ä¼šæŠ›å‡ºæ‹¬å·ä¸­ç»™å‡ºçš„ç›¸åº”å¼‚å¸¸e æœ€åæ˜¯ç±»å‹è§„æ ¼ï¼ŒæŒ‡é’ˆå¯¹ç±»æˆ–æ¥å£æ‰€è®¾è®¡çš„çº¦æŸè§„åˆ™ã€‚ ç±»å‹è§„æ ¼ å«ä¹‰ invariant ä¸å˜å¼ï¼Œåªé’ˆå¯¹å¯è§çŠ¶æ€(å³å½“ä¸‹å¯è§çŠ¶æ€)çš„å–å€¼è¿›è¡Œçº¦æŸ constraint çŠ¶æ€å˜åŒ–çº¦æŸï¼Œå¯¹å‰åºå¯è§çŠ¶æ€å’Œå½“å‰å¯è§çŠ¶æ€çš„å…³ç³»è¿›è¡Œçº¦æŸ 1.3 åº”ç”¨å·¥å…·é“¾æƒ…å†µåœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾JMLå·¥å…·é“¾ï¼Œæœç´¢åˆ°çš„å¤§å¤šæ˜¯OOåšå®¢çš„å†…å®¹ã€‚å·¥å…·ä¸»è¦åŒ…æ‹¬OpenJMLã€JMLUnitNGç­‰ã€‚ OpenJML: http://www.openjml.org/ JMLUnitNG: http://insttech.secretninjaformalmethods.org/software/jmlunitng/ åœ¨ç¼–å†™ä¸‰æ¬¡ä½œä¸šæ—¶ï¼Œæˆ‘ç”¨çš„javaç‰ˆæœ¬æ˜¯JDK13ï¼Œæ— æ³•ä½¿ç”¨ç›¸å…³å·¥å…·é“¾ï¼Œäºæ˜¯ä¹Ÿåœ¨ä½œä¸šä¸­å¹¶æ²¡æœ‰ä½¿ç”¨ï¼›æ’°å†™æœ¬æ¬¡åšå®¢æ—¶é‡æ–°å®‰è£…äº†JRE1.8ï¼Œå…·ä½“ä½¿ç”¨åœ¨ä¸‹é¢çš„éƒ¨åˆ†æè¿°ã€‚ 2. SMT SolveréªŒè¯å‚è€ƒäº†Jå“¥çš„æ•™ç¨‹ï¼ˆhttps://www.cnblogs.com/pekopekopeko/p/12920417.html#4581709ï¼‰ï¼Œè¿›è¡ŒOpenJMLçš„åŸºç¡€ç»„ä»¶SMT SolveréªŒè¯ï¼Œæ–‡ä»¶æ ‘å¦‚ä¸‹ï¼š PS G:\\STUDY\\BUAA-2020-OO\\Week12> tree /Få· åŠå…¬ çš„æ–‡ä»¶å¤¹ PATH åˆ—è¡¨å·åºåˆ—å·ä¸º AA85-2D30G:.â”‚ Group.javaâ”‚ Person.javaâ”‚â””â”€openjml-0.8.44-20200413 â”‚ epl-v10.html â”‚ jml-reference-manual.pdf â”‚ jmlruntime.jar â”‚ jmlspecs.jar â”‚ LICENSE.rtf â”‚ openjml-template.properties â”‚ openjml.jar â”‚ OpenJMLUserGuide.pdf â”‚ VERSION_INFO â”‚ â”œâ”€Solvers-linux â”‚ cvc4-1.6 â”‚ z3-4.3.0 â”‚ z3-4.3.1 â”‚ z3-4.7.1 â”‚ â”œâ”€Solvers-macos â”‚ cvc4-1.6 â”‚ z3-4.3.1 â”‚ z3-4.5.0 â”‚ z3-4.6.0 â”‚ z3-4.7.1 â”‚ â””â”€Solvers-windows cvc4-1.6.exe z3-4.3.2.exe z3-4.7.1.exe å…ˆè¿è¡Œé™æ€éªŒè¯æŒ‡ä»¤ï¼šjava -jar .\\openjml.jar -exec .\\Solvers-windows\\z3-4.7.1.exe -esc ..\\Group.javaï¼Œå¾—åˆ°åˆæ­¥ç»“æœï¼š public class Person { ^..\\Group.java:34: è­¦å‘Š: A non-pure method is being called where it is not permitted: Person.isLinked(Person) @ (\\sum int j; 0","permalink":"https://mondaycha.github.io/2020/05/21/521-1/","photos":[]},{"tags":[{"name":"é©¬å…‹æ€ä¸»ä¹‰","slug":"é©¬å…‹æ€ä¸»ä¹‰","permalink":"https://mondaycha.github.io/tags/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"å¯¹é©¬å…‹æ€ã€Šå“²å­¦çš„è´«å›°ã€‹çš„ç†è§£","date":"2020/05/20","text":"ç¬¬åä¸‰å‘¨ä½œä¸šé©¬å…‹æ€åœ¨ã€Šå“²å­¦çš„è´«å›°ã€‹ä¸­è®²åˆ°ï¼šâ€œæ¯ä¸ªå†å²é˜¶æ®µå’Œå†å²äº‹å˜ä¸­çš„ä¸»è¦äººç‰©ï¼Œæ—¢æ˜¯å†å²å‰§çš„â€˜å‰§ä½œè€…â€™ï¼Œåˆæ˜¯å†å²å‰§çš„â€˜å‰§ä¸­äººâ€™â€ã€‚ç»“åˆæœ¬è®²å†…å®¹ï¼Œè°ˆè°ˆä½ å¯¹è¿™å¥è¯çš„ç†è§£ã€‚ ç­”ï¼š çœ‹åˆ°è¿™å¥è¯ï¼Œæˆ‘æœ€å…ˆæƒ³åˆ°çš„æ˜¯åœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸è¿™æ¬¡è¯¾ç¨‹éƒ½æ›¾æåˆ°çš„è‹±é›„å²è§‚ï¼šä¸»è§‚å”¯å¿ƒä¸»ä¹‰å†å²è§‚æŠŠè‹±é›„äººç‰©çš„æ„å¿—å’ŒåŠ›é‡çœ‹ä½œå†å²çš„å†³å®šåŠ›é‡ã€‚æŒ‰ç…§è¿™ç§è§‚ç‚¹ï¼Œè‹±é›„äººç‰©ä»¬æˆ–è®¸æ­£æ˜¯â€œå‰§ä½œè€…â€ã€‚ è€Œåœ¨é©¬å…‹æ€çš„çœ¼ä¸­ï¼Œâ€œå‰§ä½œè€…â€ä¸â€œå‰§ä¸­äººâ€çš„éšå–»äº‰æ­ç¤ºäº†æ¯ä¸ªå†å²é˜¶æ®µå’Œå†å²äº‹å˜ä¸­çš„ä¸»è¦äººç‰©ä¸å†å²çš„å…³ç³»ã€‚ä¸€æ–¹é¢ï¼Œä¸»è¦äººç‰©ä»¬å‡­å€Ÿç€è‡ªå·±çš„æ„å¿—ä»äº‹æ´»åŠ¨ï¼Œè¿›è€Œå½±å“å†å²çš„å‘å±•è¿›ç¨‹ï¼Œæ˜¯å†å²çš„ä½œè€…ï¼›å¦ä¸€æ–¹é¢ï¼Œå¦‚æ©æ ¼æ–¯æ‰€æŒæœ‰çš„â€œå†å²äº‹ä»¶ä¼¼ä¹æ€»çš„è¯´æ¥åŒæ ·æ˜¯ç”±å¶ç„¶æ€§æ”¯é…ç€çš„ã€‚ä½†è¿™ç§å¶ç„¶æ€§å§‹ç»ˆæ˜¯å—å†…éƒ¨çš„éšè”½çš„è§„å¾‹æ”¯é…ç€â€çš„è§‚ç‚¹ï¼Œä¸ç®¡ä»€ä¹ˆæ ·çš„äººç‰©ï¼Œä¹Ÿä¼šå—åˆ°ç¤¾ä¼šå‘å±•å®¢è§‚è§„å¾‹çš„åˆ¶çº¦ï¼Œä¹Ÿå°±æ˜¯â€œå‰§ä¸­äººâ€ã€‚ è¿™ä¹Ÿè¯æ˜äº†ä¸»è§‚å”¯å¿ƒä¸»ä¹‰å†å²è§‚çš„é”™è¯¯ï¼šå³ä½¿æ²¡æœ‰å¼ ä¸‰çš„æ­ç«¿è€Œèµ·ï¼Œä¹Ÿä¼šæœ‰æå››çš„å¥‹å‹‡æŠ—äº‰ã€‚ç”±æ­¤å¯è§ï¼Œæ—¶åŠ¿é€ è‹±é›„ï¼Œæ¯ä¸ªå†å²é˜¶æ®µå’Œå†å²äº‹å˜ä¸­çš„ä¸»è¦äººç‰©ï¼Œæ­£æ˜¯å¿…ç„¶æ€§ä¸å¶ç„¶æ€§çš„ç»Ÿä¸€ã€‚","permalink":"https://mondaycha.github.io/2020/05/20/520-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://mondaycha.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab4 å®éªŒæŠ¥å‘Š","date":"2020/05/10","text":"OS Lab4 å®éªŒæŠ¥å‘Šä¸€ã€å®éªŒæ€è€ƒé¢˜Thinking 4.1æ€è€ƒå¹¶å›ç­”ä¸‹é¢çš„é—®é¢˜ï¼š å†…æ ¸åœ¨ä¿å­˜ç°åœºçš„æ—¶å€™æ˜¯å¦‚ä½•é¿å…ç ´åé€šç”¨å¯„å­˜å™¨çš„ï¼Ÿ ç³»ç»Ÿé™·å…¥å†…æ ¸è°ƒç”¨åå¯ä»¥ç›´æ¥ä»å½“æ—¶çš„$a0-$a3 å‚æ•°å¯„å­˜å™¨ä¸­å¾—åˆ°ç”¨æˆ·è°ƒç”¨msyscall ç•™ä¸‹çš„ä¿¡æ¯å—ï¼Ÿ æˆ‘ä»¬æ˜¯æ€ä¹ˆåšåˆ°è®©sys å¼€å¤´çš„å‡½æ•°â€œè®¤ä¸ºâ€æˆ‘ä»¬æä¾›äº†å’Œç”¨æˆ·è°ƒç”¨msyscall æ—¶åŒæ ·çš„å‚æ•°çš„ï¼Ÿ å†…æ ¸å¤„ç†ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹å¯¹Trapframe åšäº†å“ªäº›æ›´æ”¹ï¼Ÿè¿™ç§ä¿®æ”¹å¯¹åº”çš„ç”¨æˆ·æ€çš„å˜åŒ–æ˜¯ï¼Ÿ ç­”ï¼š 1ï¼‰å†…æ ¸ä¼šé€šè¿‡å®SAVE_ALLä»¥ä¸struct Trapframeç­‰åŒçš„ç»“æ„å°†è¿è¡Œç°åœºä¿å­˜åˆ°å†…æ ¸ç©ºé—´ä¸­ï¼ŒTrapframeåŒ…æ‹¬32ä¸ªé€šç”¨å¯„å­˜å™¨ã€éƒ¨åˆ†CP0å¯„å­˜å™¨ã€HI/LOä¹˜é™¤æ³•å¯„å­˜å™¨å’ŒPCæŒ‡ä»¤è®¡æ•°å™¨çš„å€¼ã€‚ 2ï¼‰ä¸å¯ä»¥ï¼Œç³»ç»Ÿé™·å…¥å†…æ ¸è°ƒç”¨åå¯èƒ½ä¼šç ´å$a0-$a3 å‚æ•°å¯„å­˜å™¨çš„å€¼ï¼ˆè™½ç„¶æœ¬æ¬¡å®éªŒå¥½åƒæ²¡æœ‰ç ´åï¼‰ 3ï¼‰åœ¨MIPS çš„è°ƒç”¨è§„èŒƒä¸­ï¼Œå¦‚æœå‡½æ•°å‚æ•°ä¸ªæ•°â‰¤4ï¼Œåˆ™å°†å‚æ•°ä¾æ¬¡å­˜å…¥a0-a3å¯„å­˜å™¨ä¸­ï¼Œå¹¶åœ¨æ ˆå¸§åº•éƒ¨ä¿ç•™16å­—èŠ‚çš„ç©ºé—´ï¼ˆå³spçš„å€¼å‡å»16ï¼‰ï¼Œä½†å¹¶ä¸ä¸€å®šä½¿ç”¨è¿™äº›ç©ºé—´ã€‚å¦‚æœå‡½æ•°å‚æ•°ä¸ªæ•°>4ï¼Œåˆ™å‰4ä¸ªå‚æ•°ä¾æ¬¡å­˜å…¥a0-a3å¯„å­˜å™¨ä¸­ï¼Œä»ç¬¬5ä¸ªå‚æ•°å¼€å§‹ï¼Œä¾æ¬¡åœ¨å‰4ä¸ªå‚æ•°é¢„ç•™ç©ºé—´ä¹‹å¤–çš„ç©ºé—´å†…å­˜å‚¨ï¼Œå³æ²¡æœ‰å¯„å­˜å™¨å»ä¿å­˜è¿™äº›å€¼ã€‚åœ¨handle_sysä¸­ï¼Œæˆ‘ä»¬ä»spä¸­å–å‡ºa0-a3çš„å€¼ï¼Œä»ç”¨æˆ·æ€æ ˆæŒ‡é’ˆå–å‡ºå…¶ä»–å‚æ•°ï¼Œè®©sys å¼€å¤´çš„å‡½æ•°â€œè®¤ä¸ºâ€æˆ‘ä»¬æä¾›äº†å’Œç”¨æˆ·è°ƒç”¨msyscall æ—¶åŒæ ·çš„å‚æ•°ã€‚ 4ï¼‰å°†Trapframeä¸­EPCçš„å€¼+4åå­˜å›ï¼Œå½“ç¨‹åºè¿”å›ç”¨æˆ·æ€æ—¶ä»å¯¼è‡´é™·å…¥å†…æ ¸æ€çš„ä¸‹ä¸€æ¡æŒ‡ä»¤å¼€å§‹æ‰§è¡Œï¼›å°†ç³»ç»Ÿè°ƒç”¨çš„è¿”å›å€¼å­˜å…¥v0å¯„å­˜å™¨ä¸­ï¼Œç”±ç”¨æˆ·æ€å‡½æ•°è°ƒç”¨ã€‚ Thinking 4.2æ€è€ƒä¸‹é¢çš„é—®é¢˜ï¼Œå¹¶å¯¹è¿™ä¸¤ä¸ªé—®é¢˜è°ˆè°ˆä½ çš„ç†è§£ï¼š å­è¿›ç¨‹å®Œå…¨æŒ‰ç…§fork() ä¹‹åçˆ¶è¿›ç¨‹çš„ä»£ç æ‰§è¡Œï¼Œè¯´æ˜äº†ä»€ä¹ˆï¼Ÿ ä½†æ˜¯å­è¿›ç¨‹å´æ²¡æœ‰æ‰§è¡Œfork() ä¹‹å‰çˆ¶è¿›ç¨‹çš„ä»£ç ï¼Œåˆè¯´æ˜äº†ä»€ä¹ˆï¼Ÿ ç­”ï¼š 1ï¼‰è¯´æ˜å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹æœ‰ç›¸åŒçš„ä»£ç æ®µã€‚ 2ï¼‰è¯´æ˜fork()åå­è¿›ç¨‹çš„PCå€¼ä¸çˆ¶è¿›ç¨‹æ‰§è¡Œfork()åçš„PCå€¼ç›¸åŒã€‚ Thinking 4.3å…³äºfork å‡½æ•°çš„ä¸¤ä¸ªè¿”å›å€¼ï¼Œä¸‹é¢è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆCï¼‰ â€‹ A. fork åœ¨çˆ¶è¿›ç¨‹ä¸­è¢«è°ƒç”¨ä¸¤æ¬¡ï¼Œäº§ç”Ÿä¸¤ä¸ªè¿”å›å€¼ â€‹ B. fork åœ¨ä¸¤ä¸ªè¿›ç¨‹ä¸­åˆ†åˆ«è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œäº§ç”Ÿä¸¤ä¸ªä¸åŒçš„è¿”å›å€¼ â€‹ C. fork åªåœ¨çˆ¶è¿›ç¨‹ä¸­è¢«è°ƒç”¨äº†ä¸€æ¬¡ï¼Œåœ¨ä¸¤ä¸ªè¿›ç¨‹ä¸­å„äº§ç”Ÿä¸€ä¸ªè¿”å›å€¼ â€‹ D. fork åªåœ¨å­è¿›ç¨‹ä¸­è¢«è°ƒç”¨äº†ä¸€æ¬¡ï¼Œåœ¨ä¸¤ä¸ªè¿›ç¨‹ä¸­å„äº§ç”Ÿä¸€ä¸ªè¿”å›å€¼ Thinking 4.4å¦‚æœä»”ç»†é˜…è¯»ä¸Šè¿°è¿™ä¸€æ®µè¯, ä½ åº”è¯¥å¯ä»¥å‘ç°, æˆ‘ä»¬å¹¶ä¸æ˜¯å¯¹æ‰€æœ‰çš„ç”¨æˆ·ç©ºé—´é¡µéƒ½ä½¿ç”¨duppage è¿›è¡Œäº†ä¿æŠ¤ã€‚é‚£ä¹ˆç©¶ç«Ÿå“ªäº›ç”¨æˆ·ç©ºé—´é¡µå¯ä»¥ä¿æŠ¤ï¼Œå“ªäº›ä¸å¯ä»¥å‘¢ï¼Œè¯·ç»“åˆinclude/mmu.h é‡Œçš„å†…å­˜å¸ƒå±€å›¾è°ˆè°ˆä½ çš„çœ‹æ³•ã€‚ ç­”ï¼š /*o UTOP,UENVS -----> +----------------------------+------------0x7f40 0000 |o UXSTACKTOP -/ | user exception stack | BY2PG |o +----------------------------+------------0x7f3f f000 |o | Invalid memory | BY2PG |o USTACKTOP ----> +----------------------------+------------0x7f3f e000 |o | normal user stack | BY2PG |o +----------------------------+------------0x7f3f d000 |*/ åœ¨[0,UTOP)çš„ç”¨æˆ·ç©ºé—´ä¸­ï¼Œ[USTACKTOP,USTACKTOP+BY2PG)æ˜¯æ— æ•ˆå†…å­˜ï¼Œå­è¿›ç¨‹ç¼ºé¡µä¸­æ–­æ—¶ä½œä¸ºä¸´æ—¶ç©ºé—´ï¼Œä¸éœ€è¦ä¿æŠ¤ï¼›[USTACKTOP+BY2PG,UXSTACKTOP)æ˜¯é”™è¯¯æ ˆï¼Œä¸éœ€è¦ä¿æŠ¤ï¼Œå¦åˆ™çˆ¶å­è¿›ç¨‹é”™è¯¯æ ˆç›¸åŒï¼Œä¼šé™·å…¥æ­»å¾ªç¯ä¸­ã€‚ å¦å¤–åœ¨duppageå‡½æ•°å†…éƒ¨ï¼Œå¯¹ä¸åŒæƒé™çš„é¡µæœ‰ç€ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚å¯¹äºåªè¯»ã€å…±äº«ã€å†™æ—¶å¤åˆ¶ä¿æŒå…¶åŸæœ‰çš„æƒé™å³å¯ï¼Œå¯¹äºå¯å†™é¡µé¢åˆ™éœ€è¦å¯¹çˆ¶å­è¿›ç¨‹çš„é¡µè¡¨é¡¹åŠ ä¸ŠPTE_COW æ ‡è®°ã€‚ Thinking 4.5åœ¨éå†åœ°å€ç©ºé—´å­˜å–é¡µè¡¨é¡¹æ—¶ä½ éœ€è¦ä½¿ç”¨åˆ°vpd å’Œvpt è¿™ä¸¤ä¸ªâ€œæŒ‡é’ˆçš„æŒ‡é’ˆâ€ï¼Œè¯·æ€è€ƒå¹¶å›ç­”è¿™å‡ ä¸ªé—®é¢˜ï¼š vpt å’Œvpd çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ€æ ·ä½¿ç”¨å®ƒä»¬ï¼Ÿ ä»å®ç°çš„è§’åº¦è°ˆä¸€ä¸‹ä¸ºä»€ä¹ˆèƒ½å¤Ÿé€šè¿‡è¿™ç§æ–¹å¼æ¥å­˜å–è¿›ç¨‹è‡ªèº«é¡µè¡¨ï¼Ÿ å®ƒä»¬æ˜¯å¦‚ä½•ä½“ç°è‡ªæ˜ å°„è®¾è®¡çš„ï¼Ÿ è¿›ç¨‹èƒ½å¤Ÿé€šè¿‡è¿™ç§å­˜å–çš„æ–¹å¼æ¥ä¿®æ”¹è‡ªå·±çš„é¡µè¡¨é¡¹å—ï¼Ÿ ç­”ï¼š 1ï¼‰åœ¨user/entry.Sä¸­å¯ä»¥çœ‹åˆ°å®šä¹‰ï¼š .globl vptvpt: .word UVPT .globl vpdvpd: .word (UVPT+(UVPT>>12)*4) å› æ­¤*vptæ˜¯æŒ‡å‘ç”¨æˆ·é¡µè¡¨çš„æŒ‡é’ˆï¼Œè€Œæ ¹æ®é¡µè¡¨çš„è‡ªæ˜ å°„æœºåˆ¶ï¼Œ*vpdæ˜¯æŒ‡å‘ç”¨æˆ·é¡µç›®å½•çš„æŒ‡é’ˆã€‚ ä½¿ç”¨æ–¹å¼ï¼šå¯ä»¥å°†å…¶ä½œä¸ºæ•°ç»„ä½¿ç”¨ï¼Œè·å¾—è™šæ‹Ÿåœ°å€vaå¯¹åº”çš„é¡µè¡¨é¡¹å’Œé¡µç›®å½•é¡¹ã€‚ (*vpt)[va >> PGSHIFT] // è·å¾—å¯¹åº”çš„é¡µè¡¨é¡¹(*vpd)[va >> PDSHIFT] // è·å¾—å¯¹åº”çš„é¡µç›®å½•é¡¹ 2ï¼‰åœ¨forkå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥é¡µè¡¨é¡¹æ˜¯å¦æœ‰æ•ˆï¼Œè¿›è€Œè¿›è¡Œduppageçš„æ“ä½œã€‚é€šè¿‡vpt å’Œvpdè®¿é—®çš„æ–¹å¼ï¼Œä¸ºç”¨æˆ·æ€æä¾›äº†è®¿é—®é¡µè¡¨çš„é€”å¾„ã€‚ 3ï¼‰vpdçš„åœ°å€ä¸º(UVPT+(UVPT>>12)*4)ï¼Œæ˜¯é¡µè¡¨é¡¹ï¼Œä¹Ÿæ˜¯é¡µç›®å½•é¡¹ï¼Œä½“ç°äº†è‡ªæ˜ å°„è®¾è®¡ã€‚ 4ï¼‰ä¸èƒ½ï¼Œè¿™é‡Œåªèƒ½é€šè¿‡è¿™ç§æ–¹å¼è¯»å–é¡µè¡¨ä¿¡æ¯ï¼Œè¿›è€Œåˆ¤æ–­æ˜¯å¦æœ‰æ•ˆï¼Œï¥§å¯ä»¥ä¿®æ”¹é¡µè¡¨ã€‚ Thinking 4.6page_fault_handler å‡½æ•°ä¸­ï¼Œä½ å¯èƒ½æ³¨æ„åˆ°äº†ä¸€ä¸ªå‘å¼‚å¸¸å¤„ç†æ ˆå¤åˆ¶Trapframe è¿è¡Œç°åœºçš„è¿‡ç¨‹ï¼Œè¯·æ€è€ƒå¹¶å›ç­”è¿™å‡ ä¸ªé—®é¢˜ï¼š è¿™é‡Œå®ç°äº†ä¸€ä¸ªæ”¯æŒç±»ä¼¼äºâ€œä¸­æ–­é‡å…¥â€çš„æœºåˆ¶ï¼Œè€Œåœ¨ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°è¿™ç§â€œä¸­æ–­é‡å…¥â€ï¼Ÿ å†…æ ¸ä¸ºä»€ä¹ˆéœ€è¦å°†å¼‚å¸¸çš„ç°åœºTrapframe å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ï¼Ÿ ç­”ï¼š 1ï¼‰åœ¨å¤„ç†ç¼ºé¡µä¸­æ–­æ—¶æ¥å—äº†æ—¶é’Ÿä¸­æ–­ï¼Œå°±ä¼šå‡ºç°è¿™ç§â€œä¸­æ–­é‡å…¥â€ã€‚ 2ï¼‰å°†å¼‚å¸¸çš„ç°åœºTrapframe å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ï¼Œä¹‹åå¯ä»¥åœ¨ç”¨æˆ·æ€çš„pgfaultå‡½æ•°è¿›è¡Œç¼ºé¡µå¤„ç†ï¼Œæ¢å¤äº‹å…ˆä¿å­˜å¥½çš„ç°åœºä¸spå¯„å­˜å™¨çš„å€¼ï¼Œä½¿å¾—å­è¿›ç¨‹æ¢å¤æ‰§è¡Œã€‚ Thinking 4.7åˆ°è¿™é‡Œæˆ‘ä»¬å¤§æ¦‚çŸ¥é“äº†è¿™æ˜¯ä¸€ä¸ªç”±ç”¨æˆ·ç¨‹åºå¤„ç†å¹¶ç”±ç”¨æˆ·ç¨‹åºè‡ªèº«æ¥æ¢å¤è¿è¡Œç°åœºçš„è¿‡ç¨‹ï¼Œè¯·æ€è€ƒå¹¶å›ç­”ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š ç”¨æˆ·å¤„ç†ç›¸æ¯”äºåœ¨å†…æ ¸å¤„ç†å†™æ—¶å¤åˆ¶çš„ç¼ºé¡µä¸­æ–­æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ ä»é€šç”¨å¯„å­˜å™¨çš„ç”¨é€”è§’åº¦è®¨è®ºç”¨æˆ·ç©ºé—´ä¸‹è¿›è¡Œç°åœºçš„æ¢å¤æ˜¯å¦‚ä½•åšåˆ°ä¸ç ´åé€šç”¨å¯„å­˜å™¨çš„ï¼Ÿ ç­”ï¼š 1ï¼‰å‡å°‘äº†é™·å…¥å†…æ ¸æ€åçš„å·¥ä½œé‡ï¼Œä½“ç°äº†å¾®å†…æ ¸çš„æ€æƒ³ï¼Œå°†é€šå¸¸ä¸å†…æ ¸é›†æˆåœ¨ä¸€èµ·çš„ç³»ç»ŸæœåŠ¡å±‚è¢«åˆ†ç¦»å‡ºæ¥ï¼Œå˜æˆå¯ä»¥æ ¹æ®éœ€æ±‚åŠ å…¥çš„é€‰ä»¶ï¼Œæä¾›æ›´å¥½çš„å¯æ‰©å±•æ€§å’Œæ›´åŠ æœ‰æ•ˆçš„åº”ç”¨ç¯å¢ƒã€‚ 2ï¼‰æ¢å¤ç°åœºæ—¶ï¼Œæ ˆæŒ‡é’ˆæ˜¯ç”±å†…æ ¸è®¾ç½®çš„åœ¨å¼‚å¸¸å¤„ç†æ ˆçš„æ ˆæŒ‡é’ˆï¼Œè€Œä¸”æŒ‡å‘ä¸€ä¸ªç”±å†…æ ¸å¤åˆ¶å¥½çš„Trapframe ç»“æ„ä½“çš„åº•éƒ¨ï¼Œä»æ ˆä¸­å–å‡ºé™¤äº†spä»¥å¤–çš„é€šç”¨å¯„å­˜å™¨çš„å€¼ï¼Œæœ€ååˆ©ç”¨äº†MIPS çš„å»¶æ—¶æ§½ç‰¹æ€§è·³è½¬çš„åŒæ—¶æ¢å¤äº†æ ˆæŒ‡é’ˆã€‚ Thinking 4.8è¯·æ€è€ƒå¹¶å›ç­”ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆéœ€è¦å°†set_pgfault_handler çš„è°ƒç”¨æ”¾ç½®åœ¨syscall_env_alloc ä¹‹å‰ï¼Ÿ å¦‚æœæ”¾ç½®åœ¨å†™æ—¶å¤åˆ¶ä¿æŠ¤æœºåˆ¶å®Œæˆä¹‹åä¼šæœ‰æ€æ ·çš„æ•ˆæœï¼Ÿ å­è¿›ç¨‹éœ€ä¸éœ€è¦å¯¹åœ¨entry.S å®šä¹‰çš„å­—__pgfault_handler èµ‹å€¼ï¼Ÿ ç­”ï¼š 1ï¼‰åœ¨syscall_env_allocæ—¶ä¼šäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œéœ€è¦å…ˆè®¾ç½®å¥½å¤„ç†å‡½æ•°ã€‚ 2ï¼‰å†™æ—¶å¤åˆ¶ä¿æŠ¤è®¾ç½®ä¸­syscall_mem_mapä¹Ÿè¦ç”¨åˆ°ç¼ºé¡µä¸­æ–­ï¼Œä¼šå¯¼è‡´duppageæ— æ³•æ­£å¸¸æ‰§è¡Œã€‚ 3ï¼‰ä¸éœ€è¦ï¼Œçˆ¶è¿›ç¨‹è®¾ç½®çš„set_pgfault_handleræ”¹å˜çš„__pgfault_handlerä¸å­è¿›ç¨‹å…±äº«ã€‚ äºŒã€å®éªŒéš¾ç‚¹å›¾ç¤ºåœ¨è¿™æ¬¡å®éªŒï¼Œéœ€è¦å®ç°ç³»ç»Ÿè°ƒç”¨æœºåˆ¶ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šå®ç°è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰æœºåˆ¶å’Œä¸€ä¸ªé‡è¦çš„ç³»ç»Ÿè°ƒç”¨forkã€‚ é¦–å…ˆçš„éš¾ç‚¹åœ¨äºMIPSä¼ å‚æœºåˆ¶ï¼ˆåœ¨Extraï¼Œæˆ‘ç”±äºæ²¡æœ‰æ·±å…¥ç†è§£è¿™ä¸€ç‚¹è€Œåƒäº†å¾ˆå¤§çš„è‹¦å¤´ï¼‰ï¼Œè€Œforkå‡½æ•°åŒæ ·æ˜¯ä¸€å¤§éš¾ç‚¹ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™è¦ä¸ºçˆ¶å­è¿›ç¨‹è®¾ç½®ä»€ä¹ˆã€è¿”å›ä»€ä¹ˆï¼Œè¯¾ç¨‹ç»„å¾ˆè´´å¿ƒçš„ç»™äº†ä¸€å¼ æµç¨‹å›¾ï¼š è€Œæˆ‘è‡ªå·±çš„éš¾ç‚¹æ ‘å¦‚ä¸‹ï¼š ![](G:\\OneDrive\\OneDrive - buaa.edu.cn\\MWD\\å­¦ä¹ \\æ“ä½œç³»ç»Ÿ\\ä½œä¸š\\Refer\\Lab4 ä¸ªäººéš¾ç‚¹.png) ä¸‰ã€ä½“ä¼šä¸æ„Ÿæƒ³Lab4éš¾åº¦è¯„ä»·ï¼šâ˜…â˜…â˜…â˜…â˜† Lab4-extraéš¾åº¦è¯„ä»·ï¼šâ˜…â˜…â˜…â˜…â˜… èŠ±è´¹æ—¶é—´ï¼šLab4 10hï¼ŒLab4-extra 10h ä½“ä¼šå’Œæ„Ÿæƒ³ï¼š Lab4-extraåŸºç¡€ä¹Ÿå¤ªéš¾äº†â€¦â€¦å¥½ä¹…æ²¡æœ‰å†™æ±‡ç¼–ï¼Œæˆ‘deäº†äº”ä¸ªå°æ—¶çš„Bugï¼Œå¬åŒå­¦è¯´è¿™æ˜¯å»å¹´çš„Exam-1ï¼Œæˆ‘æ„Ÿè§‰æ˜¯ä¸æ˜¯åº”è¯¥åº†å¹¸ä»Šå¹´æ˜¯ç½‘è¯¾â€¦â€¦ åœ¨è¿™è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ä¸€äº›ä¹‹å‰å®ç°è¿‡çš„å‡½æ•°è¿˜å­˜åœ¨ç€ä¸€äº›Bugï¼Œä¹‹åå¯ä»¥çš„è¯å¸Œæœ›é‡æ–°è¿‡ä¸€éä¹‹å‰çš„Labï¼Œé¡ºä¾¿æ‰“ä¸Šä¸­æ–‡æ³¨é‡Šâ€¦â€¦ æœ€åæ„Ÿè°¢å¥½å¤šå­¦é•¿çš„åšå®¢ï¼ˆæ˜¯çš„æˆ‘å°±æ˜¯çŒæ°´ç¾¤é‡Œåˆ†äº«äº†ä¸€å †åšå®¢çš„é‚£ä½ï¼‰ï¼Œåœ¨ä¸€æ­¥æ­¥ç†è§£çš„æ—¶å€™ï¼ŒæŒ‡å¯¼ä¹¦å’Œæ³¨é‡Šè¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡çš„ï¼Œæ„Ÿè°¢å­¦é•¿ä»¬çš„åšå®¢ï¼ˆä¸è¿‡å¤§å®¶æƒ³çš„éƒ½ä¸ä¸€æ ·hhhï¼‰","permalink":"https://mondaycha.github.io/2020/05/10/510-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week10","date":"2020/05/08","text":"å­¦å ‚åœ¨çº¿ 11åœ¨è¿™ä¸€ç« æˆ‘å­¦ä¹ äº†ç©ºé—´ç«™ä¸èˆªå¤©é£æœºçš„ç›¸å…³çŸ¥è¯†ã€‚ç©ºé—´ç«™ä¸€èˆ¬ç”±å·¥ä½œèˆ±ã€ç”Ÿæ´»èˆ±ã€è¿‡æ¸¡èˆ±ç»„æˆï¼Œå·¥ä½œèˆ±æ˜¯ç©ºé—´ç«™çš„ä¸­å¿ƒã€‚æˆªè‡³åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸–ç•Œä¸Šä¸€å…±å‘å°„äº†10ä¸ªç©ºé—´ç«™ã€‚èˆªå¤©é£æœºç”±ç«ç®­åŠ©æ¨å™¨ã€å¤–æŒ‚å‚¨ç®±ã€è½¨é“å™¨ç»„æˆã€‚ å­¦å ‚åœ¨çº¿ 9åœ¨è¿™ä¸€å•å…ƒæˆ‘å­¦ä¹ äº†éšèº«é£æœºçš„ç›¸å…³çŸ¥è¯†ã€‚å¯¹äºé£æœºæ¥è¯´ï¼Œé›·è¾¾ä¿¡å·ã€çº¢å¤–ä¿¡å·ã€å£°éŸ³ä¿¡å·ã€è¾å°„ä¿¡å·ç­‰éƒ½å¯èƒ½ä½¿é£æœºè¢«å¯¹æ–¹æ¢æµ‹åˆ°ï¼Œé€šè¿‡æœ‰æºå¯¹æ¶ˆæŠ€æœ¯ã€å¤–å½¢éšèº«ã€é‡‡ç”¨éšèº«ææ–™ã€ç­‰ç¦»å­ä½“æŠ€æœ¯ç­‰ï¼Œå¯ä»¥å‡ç¼©ç›®æ ‡RCSã€‚ ç©ºé—´ç«™æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿç©ºé—´ç«™æ˜¯ä¸€ä¸ªå¤§å‹çš„ã€è½½äººçš„ã€åœ¨å¤ªç©ºèƒ½é•¿æœŸè¿è¡Œçš„äººé€ å«æ˜Ÿï¼Œæ˜¯ç¯ç»•åœ°çƒè¿åŠ¨çš„åŠæ°¸ä¹…æ€§ç©ºé—´åŸºåœ°ã€‚ç©ºé—´ç«™çš„ä½œç”¨æœ‰ï¼š ç©ºé—´ç«™æ˜¯æ•´ä¸ªèˆªå¤©ä½“ç³»ä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚å¯ä»¥æ¥é€æ¥å¾€çš„äººå‘˜å’Œç‰©èµ„ï¼Œå¹¶æ‹…è´Ÿé€šä¿¡ä»»åŠ¡ï¼› ç©ºé—´ç«™å¯ä»¥å¯¹å…¶ä»–èˆªå¤©å™¨è¿›è¡Œåå‹¤ä¿éšœã€ç»´ä¿®ä¸ä¿å…»ï¼› ç©ºé—´ç«™å¯ä»¥ä½œä¸ºå‘å°„å¹³å°ï¼ŒæŠŠæ–°çš„äººé€ å¤©ä½“é€å…¥å¤ªç©ºï¼› ç©ºé—´ç«™å¯ä»¥åˆ©ç”¨å¤ªç©ºçš„ç‰¹æ®Šç¯å¢ƒä»äº‹ç§‘å­¦ç ”ç©¶ï¼Œè¿›è¡Œææ–™åŠ å·¥ï¼Œå®Œæˆå¯¹åœ°ç›‘å›æµ‹ã€èµ„æºå‹˜æŸ¥ã€å¤©æ°”é¢„æŠ¥ä»¥åŠå¤©æ–‡è§‚æµ‹ç­‰ä»»åŠ¡ï¼› ç©ºé—´ç«™å¯ä»¥ä¸å…¶ä»–èˆªå¤©å™¨åœ¨å¤ªç©ºå¯¹æ¥ï¼Œç»„åˆæˆæ›´å¤§çš„è½¨é“è”åˆä½“ï¼Œä¸ºå®‡èˆªå‘˜åœ¨å¤ªç©ºé•¿æœŸå·¥ä½œå’Œç”Ÿæ´»åˆ›é€ è‰¯å¥½çš„æ¡ä»¶ã€‚ ï¼ˆå‚è€ƒèµ„æ–™ï¼šç™¾åº¦çŸ¥é“ï¼‰ é£è¡Œå™¨éšèº«çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿä»å¹¿ä¹‰ä¸Šè®²ï¼Œå¯ä»¥æŠŠå„ç§åæ¢æµ‹çš„æŠ€æœ¯ç»Ÿç§°ä¸ºéšèº«æŠ€æœ¯ï¼Œåœ¨è‹±æ–‡ä¸­ç§°ä¹‹ä¸ºStealth Technologyã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰äººç§°ä¹‹ä¸ºä½å¯è§åº¦æŠ€æœ¯ï¼Œæºäºè‹±æ–‡Low Observable Technologyã€‚ ç”±æ­¤å¯è§ï¼Œé£è¡Œå™¨éšèº«äº‹å®ä¸Šå°±æ˜¯åœ¨å¢åŠ é£è¡Œå™¨è¢«æ¢æµ‹çš„éš¾åº¦ã€‚åœ¨å½“ä¸‹ï¼Œéšèº«æŠ€æœ¯ä½œä¸ºä¸€é¡¹é‡è¦çš„çªé˜²æŠ€æœ¯æ‰‹æ®µï¼Œå¯ä»¥å¤§å¤§ç¼©çŸ­é˜²å¾¡ç³»ç»Ÿçš„é¢„è­¦æ—¶é—´ï¼Œæå‡å…¶æ‹¦æˆªéš¾åº¦ï¼Œé™ä½å…¶æ‹¦æˆªæ¦‚ç‡ï¼Œä»è€Œä¿æŒé£è¡Œå™¨çªé˜²èƒ½åŠ›ä¼˜åŠ¿ï¼›å¦ä¸€æ–¹é¢ï¼Œä¹Ÿä½¿å¾—é˜²å¾¡æ–¹çš„æ¢æµ‹ã€æ‹¦æˆªæˆæœ¬å¤§å¤§å¢åŠ ï¼Œå…·æœ‰å¾ˆé«˜çš„å†›äº‹åº”ç”¨ä»·å€¼ã€‚","permalink":"https://mondaycha.github.io/2020/05/08/508-1/","photos":[]},{"tags":[{"name":"é©¬å…‹æ€ä¸»ä¹‰","slug":"é©¬å…‹æ€ä¸»ä¹‰","permalink":"https://mondaycha.github.io/tags/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"è°ˆè°ˆå¯¹ã€Šå…³äºè´¹å°”å·´å“ˆçš„æçº²ã€‹ç¬¬ä¸‰æ¡çš„ç†è§£","date":"2020/05/06","text":"ç¬¬åä¸€å‘¨ä½œä¸šä¸€ã€è¾¨æå¯¹é”™ï¼Œå¹¶è¯´æ˜åŸå› ã€‚ ä¸€åˆ‡å†å²éƒ½æ˜¯æ€æƒ³å²ã€‚ ç­”ï¼š è¿™ç§è§‚ç‚¹æ˜¯é”™è¯¯çš„ã€‚è®¤ä¸ºâ€ä¸€åˆ‡å†å²éƒ½æ˜¯æ€æƒ³å²â€œï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§ä¸»è§‚å”¯å¿ƒä¸»ä¹‰ï¼ŒæŠŠäººçš„æ„å¿—ã€æ€æƒ³ã€è§‚å¿µè¯´æˆæ˜¯å†å²çš„å†³å®šå› ç´ ã€‚ å›ºç„¶ï¼Œç¤¾ä¼šå†å²ç°è±¡æ˜¯äººçš„æ´»åŠ¨çš„è¿‡ç¨‹å’Œäº§ç‰©ï¼Œè€Œäººçš„æ´»åŠ¨éƒ½æ˜¯å—ç€ä¸€å®šçš„æ„è¯†å’Œæ€æƒ³æ”¯é…çš„ï¼Œäººç±»å†å²ä¸­ä¹ŸåŒ…å«ç€æ€æƒ³å²ã€‚ä½†å”¯ç‰©å²è§‚è®¤ä¸ºï¼Œç‰©è´¨ç”Ÿäº§åŠç”Ÿäº§æ–¹å¼å†³å®šç€ç¤¾ä¼šçš„ç»“æ„ã€æ€§è´¨å’Œé¢è²Œï¼Œåˆ¶çº¦ç€äººä»¬çš„ç»æµç”Ÿæ´»ã€æ”¿æ²»ç”Ÿæ´»å’Œç²¾ç¥ç”Ÿæ´»ç­‰å…¨éƒ¨ç¤¾ä¼šç”Ÿæ´»ã€‚æœ‰ä»€ä¹ˆæ ·çš„ç”Ÿäº§æ–¹å¼ä¾¿æœ‰ä»€ä¹ˆæ ·çš„ç¤¾ä¼šå½¢æ€ã€‚ å› æ­¤è®¤ä¸ºâ€ä¸€åˆ‡å†å²éƒ½æ˜¯æ€æƒ³å²â€œçš„è§‚ç‚¹æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å”¯å¿ƒå²è§‚ï¼Œæ˜¯é”™è¯¯çš„ã€‚ äºŒã€è¯·ç»“åˆé©¬å…‹æ€ä¸»ä¹‰å®è·µè§‚åŠä»Šå¤©ç›¸å…³å†…å®¹ï¼Œè°ˆè°ˆå¯¹ã€Šå…³äºè´¹å°”å·´å“ˆçš„æçº²ã€‹ç¬¬ä¸‰æ¡çš„ç†è§£ã€‚ ç¬¬ä¸‰æ¡ å…³äºç¯å¢ƒå’Œæ•™è‚²èµ·æ”¹å˜ä½œç”¨çš„å”¯ç‰©ä¸»ä¹‰å­¦è¯´å¿˜è®°äº†âˆ¶ç¯å¢ƒæ˜¯ç”±äººæ¥æ”¹å˜çš„ï¼Œè€Œæ•™è‚²è€…æœ¬äººä¸€å®šæ˜¯å—æ•™è‚²çš„ã€‚å› æ­¤ï¼Œè¿™ç§å­¦è¯´å¿…ç„¶æŠŠç¤¾ä¼šåˆ†æˆä¸¤éƒ¨ä»½ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†å‡Œé©¾äºç¤¾ä¼šä¹‹ä¸Šã€‚ ç¯å¢ƒçš„æ”¹å˜å’Œäººçš„æ´»åŠ¨æˆ–è‡ªæˆ‘æ”¹å˜äººçš„æ´»åŠ¨çš„ä¸€è‡´ï¼Œåªèƒ½è¢«çœ‹åšæ˜¯å¹¶åˆç†åœ°ç†è§£ä¸ºé©å‘½çš„å®è·µã€‚ ç­”ï¼š åœ¨ã€Šå…³äºè´¹å°”å·´å“ˆçš„æçº²ã€‹ç¬¬ä¸‰æ¡ï¼Œé©¬å…‹æ€æ‰€é˜è¿°çš„æ˜¯äººä¸ç¯å¢ƒçš„å…³ç³»ï¼Œæ‰¹åˆ¤äº†æ—§ç©ºæƒ³ç¤¾ä¼šä¸»ä¹‰è€…å’Œå”¯ç‰©ä¸»ä¹‰è€…çš„ç¯å¢ƒå†³å®šè®ºä»¥åŠå”¯å¿ƒä¸»ä¹‰çš„è‹±é›„å²è§‚çš„è§‚ç‚¹ã€‚ åœ¨è¿™ä¸€èŠ‚è¯¾çš„å†…å®¹é‡Œï¼Œæˆ‘ä»¬å­¦åˆ°äº†åå…«ä¸–çºªæ³•å›½çš„æ—§å”¯ç‰©ä¸»ä¹‰è€…æ›¾æŒæœ‰è¿™æ ·çš„è§‚ç‚¹ï¼šäººæ˜¯ç¯å¢ƒçš„äº§ç‰©ï¼Œæ„è§æ”¯é…ä¸–ç•Œï¼Œè¿›è€Œå°†å¸Œæœ›å¯„æ‰˜åœ¨å¤©æ‰ä¸Šï¼›ä¹Ÿå­¦åˆ°äº†å”¯å¿ƒä¸»ä¹‰è€…æŠŠè‹±é›„äººç‰©çš„æ„å¿—å’ŒåŠ›é‡çœ‹ä½œå†å²çš„å†³å®šåŠ›é‡çš„è‹±é›„å²è§‚ã€‚è¿™ä¸¤ç§è§‚ç‚¹éƒ½æ˜¯ç‰‡é¢çš„ï¼Œè€Œé©¬å…‹æ€ã€Šå…³äºè´¹å°”å·´å“ˆçš„æçº²ã€‹ç¬¬ä¸‰æ¡å°±æ˜¯å¯¹è¿™äº›é”™è¯¯è§‚ç‚¹çš„æ‰¹åˆ¤ï¼Œå¹¶é˜è¿°äº†é©¬å…‹æ€ä¸»ä¹‰å…³äºè¿™ä¸€å…³ç³»çš„æ€æƒ³ã€‚ é¦–å…ˆï¼Œæ—§å”¯ç‰©ä¸»ä¹‰è¿‡åˆ†å¼ºè°ƒç¯å¢ƒçš„ä½œç”¨ï¼Œä½†äººä¸ç¯å¢ƒçš„å…³ç³»ä¹Ÿæ˜¯ä¸»ä½“å’Œå®¢ä½“çš„å…³ç³»ï¼Œç¯å¢ƒå½±å“äº†äººï¼Œäººä¹Ÿå½±å“äº†ç¯å¢ƒï¼Œäººä¸ç¯å¢ƒä¹‹é—´æ˜¯ç›¸äº’å½±å“ã€ç›¸äº’åè°ƒçš„å…³ç³»ï¼›å…¶æ¬¡ï¼Œä»é©¬å…‹æ€ä¸»ä¹‰å®è·µè§‚çš„è§’åº¦ï¼Œå®è·µæ´»åŠ¨æ­£æ˜¯åè°ƒäººå’Œç¯å¢ƒå…³ç³»çš„åŸºç¡€ï¼Œæ­£æ˜¯é€šè¿‡äººçš„å®è·µæ´»åŠ¨æ”¹é€ äº†ç¯å¢ƒï¼Œåˆåœ¨äººå®è·µçš„è¿‡ç¨‹ä¸­ï¼Œç¯å¢ƒå¡‘é€ äº†äººã€‚ å› æ­¤ï¼Œæˆ‘ä»¬è¦è¾©è¯åœ°çœ‹å¾…äººä¸ç¯å¢ƒçš„å…³ç³»ï¼Œå……åˆ†è®¤è¯†ç¤¾ä¼šå®è·µåœ¨äººçš„å‘å±•ä¸­çš„é‡è¦ä½œç”¨ã€‚","permalink":"https://mondaycha.github.io/2020/05/06/506-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://mondaycha.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab4-extra å­¦ä¹ ç¬”è®°","date":"2020/05/06","text":"Lab4-extra å­¦ä¹ ç¬”è®°Extraï¼Œå¹²å·´çˆ¹ã€‚ ï¼ˆ5/9ï¼Œåˆšåˆšæ‰çŸ¥é“ä»Šå¹´çš„ExtraåŸºç¡€æ˜¯å»å¹´çš„Exam1ï¼Œæˆ‘bissâ€¦â€¦ï¼‰ åŸºç¡€æµ‹è¯•1é¢˜ç›®è¦æ±‚å®ç°å¯å˜å‚æ•°çš„ç³»ç»Ÿè°ƒç”¨å‚æ•°ä¼ é€’ã€‚ é¢˜ç›®è§£æä¹‹å‰æåˆ°è¿‡ï¼Œsyscall å¼€å¤´çš„å‡½æ•°ä¸å†…æ ¸ä¸­çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°ï¼ˆsys å¼€å¤´çš„å‡½æ•°ï¼‰æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚è°ƒç”¨è¿‡ç¨‹å¦‚ä¸‹ï¼š intsyscall_mem_map(u_int srcid, u_int srcva, u_int dstid, u_int dstva, u_int perm){ return msyscall(SYS_mem_map, srcid, srcva, dstid, dstva, perm);} æ‰€ä»¥ç°åœ¨å°±è¦æŒ‡å®šå‚æ•°æ•°ç›®ï¼Œåœ¨åŸæœ‰lib/syscall_all.cä¸­ä»£ç ä¸æ›´æ”¹çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç³»ç»Ÿè°ƒç”¨æœºåˆ¶æ­£å¸¸è¿è¡Œã€‚ æŒ‡å¯¼ä¹¦æç¤ºæˆ‘ä»¬å­¦ä¹ printfçš„å®ç°æ–¹å¼ï¼Œä¸‹é¢å°±æ¥çœ‹çœ‹ã€‚ Printfé¦–å…ˆæ˜¯lib/printf.cä¸­çš„å®ç°ï¼š void printf(char *fmt, ...) // printfæœ‰ä¸€ä¸ªå›ºå®šå‚æ•°fmt{ va_list ap; // å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆap, ç”¨äºæŒ‡ç¤ºå¯é€‰çš„å‚æ•° va_start(ap, fmt); // ä»¥å›ºå®šå‚æ•°çš„åœ°å€ä¸ºèµ·ç‚¹ï¼Œç¡®å®šå˜å‚çš„å†…å­˜èµ·å§‹åœ°å€ lp_Print(myoutput, 0, fmt, ap); // å°†printfçš„va_listä¼ é€’ç»™lp_Print va_end(ap); // æ¸…ç©ºå‚æ•°åˆ—è¡¨, å¹¶ç½®å‚æ•°æŒ‡é’ˆapæ— æ•ˆ} é™¤äº†æœ‰ä¸€ä¸ªå‚æ•°fmtå›ºå®šä»¥å¤–ï¼Œåé¢è·Ÿçš„å‚æ•°çš„ä¸ªæ•°å’Œç±»å‹æ˜¯å¯å˜çš„ï¼ˆç”¨ä¸‰ä¸ªç‚¹â€œâ€¦â€åšå‚æ•°å ä½ç¬¦ï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯å°†printfçš„å¯å˜é•¿å‚æ•°ç›´æ¥ä¼ é€’ç»™lp_Printï¼Œåè€…åœ¨åœ¨Lab1å®ç°è¿‡ï¼Œä¹Ÿæ¯”è¾ƒå¤æ‚ã€‚å…³äºé‚£å‡ ä¸ªå®å®šä¹‰çš„ä½œç”¨ï¼Œå‚è€ƒè¿™é‡Œçš„è§£é‡Šï¼š ï¼ˆ1ï¼‰va_list å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆarg_ptr, ç”¨äºæŒ‡ç¤ºå¯é€‰çš„å‚æ•°. ï¼ˆ2ï¼‰va_start(arg_ptr, argN) ä½¿å‚æ•°åˆ—è¡¨æŒ‡é’ˆarg_ptræŒ‡å‘å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå¯é€‰å‚æ•°ï¼ŒargNæ˜¯ä½äºç¬¬ä¸€ä¸ªå¯é€‰å‚æ•°ä¹‹å‰çš„å›ºå®šå‚æ•°, æˆ–è€…è¯´æœ€åä¸€ä¸ªå›ºå®šå‚æ•°.å¦‚æœ‰ä¸€vaå‡½æ•°çš„å£°æ˜æ˜¯void va_test(char a, char b, char c, â€¦), åˆ™å®ƒçš„å›ºå®šå‚æ•°ä¾æ¬¡æ˜¯a,b,c, æœ€åä¸€ä¸ªå›ºå®šå‚æ•°argNä¸ºc, å› æ­¤å°±æ˜¯va_start(arg_ptr, c). ï¼ˆ3ï¼‰va_arg(arg_ptr, type) è¿”å›å‚æ•°åˆ—è¡¨ä¸­æŒ‡é’ˆarg_ptræ‰€æŒ‡çš„å‚æ•°, è¿”å›ç±»å‹ä¸ºtype. å¹¶ä½¿æŒ‡é’ˆarg_ptræŒ‡å‘å‚æ•°åˆ—è¡¨ä¸­ä¸‹ä¸€ä¸ªå‚æ•°.è¿”å›çš„æ˜¯å¯é€‰å‚æ•°, ä¸åŒ…æ‹¬å›ºå®šå‚æ•°. ï¼ˆ4ï¼‰va_end(arg_ptr) æ¸…ç©ºå‚æ•°åˆ—è¡¨, å¹¶ç½®å‚æ•°æŒ‡é’ˆarg_ptræ— æ•ˆ. ï¼ˆæ³¨ï¼švaåœ¨è¿™é‡Œæ˜¯variable-argument(å¯å˜å‚æ•°)çš„æ„æ€. è¿™äº›å®å®šä¹‰åœ¨stdarg.hä¸­,æ‰€ä»¥ç”¨åˆ°å¯å˜å‚æ•°çš„ç¨‹åºåº”è¯¥åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶ï¼‰ ä»¥ä¸ŠçŸ¥è¯†å‡åœ¨åŸºç¡€ä¸­æ²¡æœ‰ç”¨ã€‚ å…·ä½“å®ç°é¦–å…ˆä¿®æ”¹user/lib.hä¸­çš„msyscallå‡½æ•°å£°æ˜ï¼š //////////////////////////////////////////////////syscall_libextern int msyscall(int, int, ...); Cè¯­è¨€è°ƒç”¨æ±‡ç¼–å‡½æ•°ï¼Œç”¨externå…³é”®å­—å®šä¹‰ã€‚åœ¨syscall_* ç³»åˆ—å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†å‚æ•°ä¼ é€’ç»™äº†msyscall å‡½æ•°ã€‚ åœ¨MIPS çš„è°ƒç”¨è§„èŒƒä¸­ï¼Œè¿›å…¥å‡½æ•°ä½“æ—¶ä¼šé€šè¿‡å¯¹æ ˆæŒ‡é’ˆåšå‡æ³•çš„æ–¹å¼ä¸ºè‡ªèº«çš„å±€éƒ¨å˜é‡ã€è¿”å›åœ°å€ã€è°ƒç”¨å‡½æ•°çš„å‚æ•°åˆ†é…å­˜å‚¨ç©ºé—´ï¼ˆå¶å‡½æ•°æ²¡æœ‰åä¸¤è€…ï¼‰ï¼Œåœ¨å‡½æ•°è°ƒç”¨ç»“æŸä¹‹åä¼šå¯¹æ ˆæŒ‡é’ˆåšåŠ æ³•æ¥é‡Šæ”¾è¿™éƒ¨åˆ†ç©ºé—´ï¼Œæˆ‘ä»¬æŠŠè¿™éƒ¨åˆ†ç©ºé—´ç§°ä¸ºæ ˆå¸§ï¼ˆStack Frameï¼‰ã€‚éå¶å‡½æ•°æ˜¯åœ¨è°ƒç”¨æ–¹çš„æ ˆå¸§çš„åº•éƒ¨é¢„ç•™è¢«è°ƒç”¨å‡½æ•°çš„å‚æ•°å­˜å‚¨ç©ºé—´ï¼ˆè¢«è°ƒç”¨æ–¹ä»è°ƒç”¨æ–¹å‡½æ•°çš„æ ˆå¸§ä¸­å–å¾—å‚æ•°ï¼‰ã€‚ msyscallå¶å‡½æ•°æ²¡æœ‰å±€éƒ¨å˜é‡ï¼Œä¸éœ€è¦åˆ†é…æ ˆå¸§ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼ˆsyscallï¼‰æ¥é™·å…¥å†…æ ¸æ€ä»¥åŠå‡½æ•°è°ƒç”¨è¿”å›å³å¯ã€‚åœ¨é€šè¿‡ç‰¹æƒæŒ‡ä»¤syscall é™·å…¥å†…æ ¸æ€åï¼Œå¤„ç†å™¨å°†PC å¯„å­˜å™¨æŒ‡å‘ä¸€ä¸ªç›¸åŒçš„å†…æ ¸å¼‚å¸¸å…¥å£ã€‚åœ¨trap_init å‡½æ•°ä¸­å°†ç³»ç»Ÿè°ƒç”¨ç±»å‹çš„å¼‚å¸¸çš„å…¥å£è®¾ç½®ä¸ºäº†handle_sys å‡½æ•°ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦ä¿®æ”¹çš„ç¬¬äºŒä¸ªåœ°æ–¹ï¼šä¿®æ”¹lib/syscall.Sï¼Œå¢åŠ æ‹·è´å¤šä¸ªå‚æ•°çš„å¾ªç¯ã€‚ TIPSï¼šæ±‡ç¼–å†…çš„è·³è½¬æ³¨æ„å»¶è¿Ÿæ§½ï¼Œå†…æ ¸æ€å‚æ•°æ‹·è´æ—¶æ³¨æ„ä½¿ç”¨s0-s7ä¿å­˜æ ˆç©ºé—´ NESTED(handle_sys,TF_SIZE, sp) SAVE_ALL // ç”¨äºä¿å­˜æ‰€æœ‰å¯„å­˜å™¨çš„æ±‡ç¼–å® CLI // ç”¨äºå±è”½ä¸­æ–­ä½çš„è®¾ç½®çš„æ±‡ç¼–å® nop .set at // æ¢å¤$atå¯„å­˜å™¨çš„ä½¿ç”¨ lw t0, TF_EPC(sp) // å°†Trapframeçš„EPCå¯„å­˜å™¨å–å‡º addu t0, 4 // è®¡ç®—ä¸€ä¸ªåˆç†çš„å€¼ sw t0, TF_EPC(sp) // å­˜å›Trapframeä¸­ lw a0, TF_REG4(sp) // å°†ç³»ç»Ÿè°ƒç”¨å·â€œå¤åˆ¶â€å…¥å¯„å­˜å™¨$a0 addiu a0, a0, -__SYSCALL_BASE // a0","permalink":"https://mondaycha.github.io/2020/05/06/506-2/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://mondaycha.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab4 å­¦ä¹ ç¬”è®°","date":"2020/05/05","text":"ä»Šå¤©çš„å†…å®¹æ˜¯OS Lab4çš„å­¦ä¹ å¤ä¹ ç¬”è®°â€¦â€¦è¿™å‘¨çš„OOå¼ºæµ‹åªæ‹¿äº†20åˆ†ï¼Œä¹‹å‰çš„æ‰€æœ‰ä¼˜åŒ–åŠªåŠ›ç›´æ¥ç™½ç»™â€¦â€¦è“ç˜¦ã€‚ æ‰€ä»¥OSä¸èƒ½å†ä¸€çŸ¥åŠè§£äº†ï¼Œåœ¨ä¸€å¼€å§‹åŒæ ·æ”¾ä¸‹å­¦é•¿åšå®¢ä¸è¯¾ç¨‹æŒ‡å¯¼ä¸­å¿ƒçš„è§†é¢‘â€”â€” https://www.cnblogs.com/SivilTaram/p/os_lab4.html https://www.cnblogs.com/sharinka0715/p/10776860.html https://ausar.xyz/index.php/archives/77/ https://www.cnblogs.com/Yzx835/p/10775984.html https://blog.csdn.net/qq_36740940/article/details/89523911 https://blog.csdn.net/weixin_44689094/article/details/105893744 https://blog.csdn.net/weixin_41412192/article/details/89522232 https://www.yizhibo.com/l/z3OzSureOCT8QEQT.html åœ¨è¿™ä¸€èŠ‚çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ç³»ç»Ÿè°ƒç”¨æœºåˆ¶ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šå®ç°è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰æœºåˆ¶å’Œä¸€ä¸ªé‡è¦çš„ç³»ç»Ÿè°ƒç”¨forkã€‚åœ¨æ¢³ç†åšå®¢çš„æ—¶å€™ï¼Œæœ‰çš„å­¦é•¿æ˜¯æ ¹æ®è¿è¡Œé¡ºåºæ¥æ€»ç»“çš„ï¼Œæˆ‘ç›®å‰è¿˜æ˜¯å…ˆè·Ÿç€é¢˜ç›®èµ°ã€‚ ç³»ç»Ÿè°ƒç”¨ç³»ç»Ÿè°ƒç”¨çš„æµç¨‹ï¼š è°ƒç”¨ä¸€ä¸ªå°è£…å¥½çš„ç”¨æˆ·ç©ºé—´çš„åº“å‡½æ•°ï¼ˆå¦‚writefï¼‰ è°ƒç”¨ç”¨æˆ·ç©ºé—´çš„syscall_* å‡½æ•° è°ƒç”¨msyscallï¼Œç”¨äºé™·å…¥å†…æ ¸æ€ é™·å…¥å†…æ ¸ï¼Œå†…æ ¸å–å¾—ä¿¡æ¯ï¼Œæ‰§è¡Œå¯¹åº”çš„å†…æ ¸ç©ºé—´çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°ï¼ˆsys_*ï¼‰ æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶è¿”å›ç”¨æˆ·æ€ï¼ŒåŒæ—¶å°†è¿”å›å€¼â€œä¼ é€’â€å›ç”¨æˆ·æ€ ä»åº“å‡½æ•°è¿”å›ï¼Œå›åˆ°ç”¨æˆ·ç¨‹åºè°ƒç”¨å¤„ Exercise 4.1å¡«å†™user/syscall_wrap.S ä¸­çš„msyscall å‡½æ•°ï¼Œä½¿å¾—ç”¨æˆ·éƒ¨åˆ†çš„ç³»ç»Ÿè°ƒç”¨æœºåˆ¶å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ LEAF(msyscall) // TODO: you JUST need to execute a `syscall` instruction and return from msyscall syscall jr ra nopEND(msyscall) æ‰§è¡ŒsyscallæŒ‡ä»¤ï¼Œç„¶åä»å‡½æ•°è¿”å›ã€‚ Thinking 4.1æ€è€ƒå¹¶å›ç­”ä¸‹é¢çš„é—®é¢˜ï¼š å†…æ ¸åœ¨ä¿å­˜ç°åœºçš„æ—¶å€™æ˜¯å¦‚ä½•é¿å…ç ´åé€šç”¨å¯„å­˜å™¨çš„ï¼Ÿ ç³»ç»Ÿé™·å…¥å†…æ ¸è°ƒç”¨åå¯ä»¥ç›´æ¥ä»å½“æ—¶çš„$a0-$a3 å‚æ•°å¯„å­˜å™¨ä¸­å¾—åˆ°ç”¨æˆ·è°ƒç”¨msyscall ç•™ä¸‹çš„ä¿¡æ¯å—ï¼Ÿ æˆ‘ä»¬æ˜¯æ€ä¹ˆåšåˆ°è®©sys å¼€å¤´çš„å‡½æ•°â€œè®¤ä¸ºâ€æˆ‘ä»¬æä¾›äº†å’Œç”¨æˆ·è°ƒç”¨msyscall æ—¶åŒæ ·çš„å‚æ•°çš„ï¼Ÿ å†…æ ¸å¤„ç†ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹å¯¹Trapframe åšäº†å“ªäº›æ›´æ”¹ï¼Ÿè¿™ç§ä¿®æ”¹å¯¹åº”çš„ç”¨æˆ·æ€çš„å˜åŒ–æ˜¯ï¼Ÿ Exercise 4.2æŒ‰ç…§lib/syscall.S ä¸­çš„æç¤ºï¼Œå®Œæˆhandle_sys å‡½æ•°ï¼Œä½¿å¾—å†…æ ¸éƒ¨åˆ†çš„ç³»ç»Ÿè°ƒç”¨æœºåˆ¶å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ åœ¨é€šè¿‡ç‰¹æƒæŒ‡ä»¤syscall é™·å…¥å†…æ ¸æ€åï¼Œå¤„ç†å™¨å°†PC å¯„å­˜å™¨æŒ‡å‘ä¸€ä¸ªç›¸åŒçš„å†…æ ¸å¼‚å¸¸å…¥å£ã€‚åœ¨trap_init å‡½æ•°ä¸­å°†ç³»ç»Ÿè°ƒç”¨ç±»å‹çš„å¼‚å¸¸çš„å…¥å£è®¾ç½®ä¸ºäº†handle_sys å‡½æ•°ã€‚ ç¬¬ä¸€ä¸ªTODOï¼ŒMIPSæœ‰å¼‚å¸¸ç¨‹åºè®¡æ•°å™¨ï¼ˆexception program counter,EPC)ï¼Œå±äºCP0å¯„å­˜å™¨ï¼Œç”¨äºä¿å­˜é€ æˆå¼‚å¸¸çš„é‚£æ¡æŒ‡ä»¤çš„åœ°å€ã€‚è®©EPCå€¼+4åˆ°ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œè¿™æ ·å°±ä¸ä¼šé™·å…¥åå¤ä¸­æ–­çš„æ­»å¾ªç¯ä¹‹ä¸­ã€‚ /*** exercise 4.2 ***/NESTED(handle_sys,TF_SIZE, sp) // æŠŠç”¨æˆ·æ€çš„æ‰€æœ‰å¯„å­˜å™¨å­˜è¿›æ ˆå¸§ï¼Œspç›¸å½“äºæ ˆé¡¶ SAVE_ALL // ç”¨äºä¿å­˜æ‰€æœ‰å¯„å­˜å™¨çš„æ±‡ç¼–å® CLI // ç”¨äºå±è”½ä¸­æ–­ä½çš„è®¾ç½®çš„æ±‡ç¼–å® nop .set at // æ¢å¤$atå¯„å­˜å™¨çš„ä½¿ç”¨ // TODO: Fetch EPC from Trapframe, calculate a proper value and store it back to trapframe. lw t0, TF_EPC(sp) // å°†Trapframeçš„EPCå¯„å­˜å™¨å–å‡º addu t0, 4 // è®¡ç®—ä¸€ä¸ªåˆç†çš„å€¼ sw t0, TF_EPC(sp) // å­˜å›Trapframeä¸­ ç¬¬äºŒä¸ªTODOï¼Œè¿™é‡Œå…¶å®æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºa0çš„å€¼æ²¡æœ‰æ”¹å˜è¿‡ã€‚ // TODO: Copy the syscall number into $a0.lw a0, TF_REG4(sp) // å°†ç³»ç»Ÿè°ƒç”¨å·â€œå¤åˆ¶â€å…¥å¯„å­˜å™¨$a0ï¼Œa0æ˜¯4å·å¯„å­˜å™¨ ä¹‹åæ˜¯ä¿å­˜å…¶ä»–çš„å€¼å•¦ã€‚ addiu a0, a0, -__SYSCALL_BASE // a0","permalink":"https://mondaycha.github.io/2020/05/05/505-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week9","date":"2020/04/30","text":"çˆ±è¯¾ç¨‹ 8.1 é£æœºæœºä½“æ„é€ ä¸åŒé£è¡Œå™¨çš„é£æœºæœºä½“çš„æ„é€ ä¹Ÿä¸ä¸€æ ·ã€‚A-380æ˜¯å½“æ—¶æœ€å¤§çš„å®¢æœºï¼Œç»“æ„è®¾è®¡å¤æ‚ï¼Œå¯¹äºå®¢è¿é£æœºï¼Œæœºä½“è¦è®¾è®¡å¾—å¾ˆå®½æ•ã€‚è®¾è®¡é£æœºæœºä½“æ—¶è¦ä»å¤šä¸ªæ–¹é¢ç»¼åˆè€ƒè™‘ã€‚æœºç¿¼æœ‰ä¸‰å¤§åŠŸèƒ½ï¼šäº§ç”Ÿå‡åŠ›ã€æ‰¿æ‹…è½½è·ã€é…åˆå°¾ç¿¼ç­‰ã€‚ çˆ±è¯¾ç¨‹ 8.2 é£æœºèµ·è½æ¶èµ·è½æ¶çš„å¸ƒç½®æœ‰åä¸‰ç‚¹å¼ã€å‰ä¸‰ç‚¹å¼ã€å¤šè½®å¤šæ”¯æŸ±å¼ï¼Œå‰ä¸‰ç‚¹å¼èµ·è½æ¶æ˜¯ç°åœ¨é£æœºçš„å¸¸è§ç±»å‹ï¼Œå¯¹äºå¤§å‹é£æœºï¼Œå¤šè½®å¤šæ”¯æŸ±å¼æ›´åŠ é€‚åˆã€‚å…¶ä¸­å®‰-225é‡‡ç”¨çš„æ˜¯å¤šè½®å¤šæ”¯æŸ±èµ·è½æ¶ï¼Œã€‚èµ·è½æ¶æœ‰è½®å¼ã€æ»‘æ©‡å¼ã€æµ®ç­’å¼ã€æ»‘è½¦å¼ã€‚ å­¦å ‚åœ¨çº¿ 8åœ¨è¿™ä¸€ç« æˆ‘å­¦ä¹ åˆ°ï¼Œé¥æ§åˆ¶å¯¼çš„å¯¼å¼¹è®¾å¤‡ç®€å•ã€æœºåŠ¨æ€§å¼ºã€å¯ä»¥æ ¹æ®æŒ‡ä»¤éšæ—¶æ”¹å˜é£è¡Œè½¨è¿¹ï¼›ä¸­å›½çš„çº¢æ——-2é˜²ç©ºå¯¼å¼¹å±äºéç„å‡†çº¿æŒ‡ä»¤åˆ¶å¯¼ï¼›ä¸»åŠ¨é›·è¾¾å¯»çš„åˆ¶å¯¼çš„ç‰¹ç‚¹æ˜¯å…·æœ‰å‘å°„åä¸ç®¡çš„èƒ½åŠ›ã€è‡ªå¸¦é›·è¾¾å’Œå¤©çº¿ã€å—å¤©æ°”å’Œæ—¶é—´å½±å“å°ã€æŠ—å¹²æ‰°èƒ½åŠ›å¼ºã€‚ å­¦å ‚åœ¨çº¿ 11åœ¨è¿™ä¸€ç« æˆ‘å­¦ä¹ åˆ°ï¼Œå«¦å¨¥ä¸€å·çš„æœ‰æ•ˆè½½è·æ˜¯æˆåƒå…‰è°±ä»ªï¼Œç©ºé—´æ¢æµ‹å™¨å¯¹æ˜Ÿçƒçš„æ¢æµ‹æ–¹å¼åŒ…æ‹¬ç¯ç»•æ¢æµ‹ã€å–æ ·è¿”å›ã€è¿‘æ—æ è¿‡ã€å®åœ°æ¢æµ‹ã€‚å®‡å®™é£èˆ¹ä¸€èˆ¬ç”±è¿”å›èˆ±ã€è½¨é“èˆ±ã€æœåŠ¡èˆ±ç­‰å‡ å¤§éƒ¨åˆ†ç»„æˆï¼Œè½½äººé£èˆ¹çš„æ ¸å¿ƒèˆ±æ˜¯è¿”å›èˆ±ã€‚ å¯¼èˆªå’Œåˆ¶å¯¼ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿåˆ¶å¯¼æ˜¯å¯¼å¼•å’Œæ§åˆ¶é£è¡Œå™¨æŒ‰ä¸€å®šè§„å¾‹é£å‘ç›®æ ‡æˆ–é¢„å®šè½¨é“çš„æŠ€æœ¯å’Œæ–¹æ³•ï¼Œä¸»è¦è¿ç”¨äºå†›äº‹ï¼Œåˆ†æœ‰çº¿åˆ¶å¯¼ã€æ— çº¿ç”µåˆ¶å¯¼ã€é›·è¾¾åˆ¶å¯¼ã€çº¢å¤–åˆ¶å¯¼ã€æ¿€å…‰åˆ¶å¯¼ã€éŸ³å“åˆ¶å¯¼ã€åœ°ç£åˆ¶å¯¼ã€æƒ¯æ€§åˆ¶å¯¼å’Œå¤©æ–‡åˆ¶å¯¼ç­‰å¤šç§æ–¹å¼ï¼›å¯¼èˆªæ˜¯ä¸€ä¸ªç ”ç©¶é¢†åŸŸï¼Œé‡ç‚¹æ˜¯ç›‘æµ‹å’Œæ§åˆ¶å·¥è‰ºæˆ–è½¦è¾†ä»ä¸€ä¸ªåœ°æ–¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåœ°æ–¹çš„è¿‡ç¨‹ã€‚ åŒ…æ‹¬å››ä¸ªä¸€èˆ¬ç±»åˆ«ï¼šé™†åœ°å¯¼èˆªï¼Œæµ·æ´‹å¯¼èˆªï¼Œèˆªç©ºå¯¼èˆªå’Œç©ºé—´å¯¼èˆªã€‚ æ°”çƒå’Œé£è‰‡åœ¨æ„é€ ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿé£è‰‡æ˜¯ä¸€ç§è½»äºç©ºæ°”çš„èˆªç©ºå™¨ï¼Œå®ƒä¸çƒ­æ°”çƒæœ€å¤§çš„åŒºåˆ«åœ¨äºå…·æœ‰æ¨è¿›å’Œæ§åˆ¶é£è¡ŒçŠ¶æ€çš„è£…ç½®ï¼Œå¯ä»¥è‡ªè¡Œé£è¡Œã€‚æ°”çƒä¸­çš„çƒ­æ°”çƒå”¯ä¸€é£è¡ŒåŠ¨åŠ›æ˜¯é£ï¼Œå¿…é¡»é€‰æ‹©é€Ÿåº¦å’Œæ–¹å‘éƒ½åˆé€‚çš„é«˜ç©ºæ°”æµï¼Œå¹¶éšä¹‹è¿åŠ¨ï¼Œæ‰èƒ½é«˜æ•ˆåœ°å®Œæˆé£è¡Œã€‚","permalink":"https://mondaycha.github.io/2020/04/30/430-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab3 å®éªŒæŠ¥å‘Š","date":"2020/04/24","text":"OS Lab3 å®éªŒæŠ¥å‘Šä¸€ã€å®éªŒæ€è€ƒé¢˜Thinking 3.1ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æ„é€ ç©ºé—²è¿›ç¨‹é“¾è¡¨æ—¶å¿…é¡»ä½¿ç”¨ç‰¹å®šçš„æ’å…¥çš„é¡ºåºï¼Ÿ(é¡ºåºæˆ–è€…é€†åº) ç­”ï¼š å› ä¸ºæ³¨é‡Šè¦æ±‚â€œç¡®ä¿åœ¨æ’å…¥ä¹‹åï¼Œenvåœ¨åˆ—è¡¨ä¸­çš„é¡ºåºåº”è¯¥ä¸envsæ•°ç»„ä¸­çš„ç›¸åŒâ€ï¼Œè¿™æ ·å°±ä¼šä½¿ç¬¬ä¸€æ¬¡è°ƒç”¨env_alloc()æ—¶è¿”å›envs[0]ã€‚ Thinking 3.2æ€è€ƒenv.c/mkenvid å‡½æ•°å’Œenvid2env å‡½æ•°: è¯·ä½ è°ˆè°ˆå¯¹mkenvid å‡½æ•°ä¸­ç”Ÿæˆid çš„è¿ç®—çš„ç†è§£ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ ä¸ºä»€ä¹ˆenvid2env ä¸­éœ€è¦åˆ¤æ–­e->env_id != envid çš„æƒ…å†µï¼Ÿå¦‚æœæ²¡æœ‰è¿™æ­¥åˆ¤æ–­ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ ç­”ï¼š (1) ç”ŸæˆIDçš„å¼å­ä¸ºreturn (++next_env_id < (1 + LOG2NENV)) | idx;env_id != envidéªŒè¯ä»envsæ•°ç»„ä¸­è·å–çš„è¿›ç¨‹æ˜¯å¦ä¸ºæ‰€éœ€è¿›ç¨‹ã€‚ Thinking 3.3ç»“åˆinclude/mmu.h ä¸­çš„åœ°å€ç©ºé—´å¸ƒå±€ï¼Œæ€è€ƒenv_setup_vm å‡½æ•°ï¼š æˆ‘ä»¬åœ¨åˆå§‹åŒ–æ–°è¿›ç¨‹çš„åœ°å€ç©ºé—´æ—¶ä¸ºä»€ä¹ˆä¸æŠŠæ•´ä¸ªåœ°å€ç©ºé—´çš„pgdir éƒ½æ¸…é›¶ï¼Œè€Œæ˜¯å¤åˆ¶å†…æ ¸çš„boot_pgdirä½œä¸ºä¸€éƒ¨åˆ†æ¨¡æ¿ï¼Ÿ(æç¤º:mips è™šæ‹Ÿç©ºé—´å¸ƒå±€) UTOP å’ŒULIM çš„å«ä¹‰åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œåœ¨UTOP åˆ°ULIM çš„åŒºåŸŸä¸å…¶ä»–ç”¨æˆ·åŒºç›¸æ¯”æœ‰ä»€ä¹ˆæœ€å¤§çš„åŒºåˆ«ï¼Ÿ åœ¨env_setup_vm å‡½æ•°çš„æœ€åï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦è®©pgdir[PDX(UVPT)]=env_cr3?(æç¤º: ç»“åˆç³»ç»Ÿè‡ªæ˜ å°„æœºåˆ¶) è°ˆè°ˆè‡ªå·±å¯¹è¿›ç¨‹ä¸­ç‰©ç†åœ°å€å’Œè™šæ‹Ÿåœ°å€çš„ç†è§£ ç­”ï¼š (1) æ ¹æ®mmu.hé‡Œé¢çš„å¸ƒå±€ï¼Œæˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿæ˜¯2G/2G æ¨¡å¼ï¼Œåœ¨æœ¬å®éªŒä¸­ï¼ŒUTOPä»¥ä¸Šçš„è™šæ‹Ÿåœ°å€ç©ºé—´åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»éƒ½æ˜¯ä¸€æ ·çš„ã€‚å› æ­¤å¤åˆ¶å†…æ ¸çš„boot_pgdirä¸­UTOPä»¥ä¸Šçš„å†…å®¹åˆ°pgdirä¸­ï¼Œåœ¨è¿›å…¥å†…æ ¸æ€æ—¶ä¸éœ€è¦åˆ‡æ¢CR3å¯„å­˜å™¨ã€‚ (2) ULIMåˆ’åˆ†äº†ç”¨æˆ·ç©ºé—´ä¸å†…æ ¸ç©ºé—´ï¼ŒUTOPå±äºç”¨æˆ·ç©ºé—´ï¼Œä½†UTOPè‡³ULIMçš„åŒºåŸŸä¸å…¶ä»–ç”¨æˆ·åŒºç›¸æ¯”ï¼Œç”¨æˆ·åªèƒ½è¯»ä¸èƒ½å†™ï¼Œå…¶ç”±ä¸‰ä¸ª4Må¤§å°çš„ç©ºé—´ç»„æˆï¼Œåˆ†åˆ«å­˜æ”¾è¿›ç¨‹envsæ•°ç»„ã€pagesæ•°ç»„ã€è¿›ç¨‹é¡µè¡¨ã€‚ (3) UVPT(0x7fc00000) åˆ° ULIM(0x80000000) ä¹‹é—´çš„ç©ºé—´ä¸º4MB ï¼Œè¿™ä¸€åŒºåŸŸå°±æ˜¯è¿›ç¨‹çš„é¡µè¡¨çš„ä½ç½®ï¼Œè€ŒPDX(UVPT)å°±æ˜¯é¡µç›®å½•è‡ªæ˜ å°„æ‰€å¯¹åº”çš„é¡µç›®å½•åœ¨é¡µè¡¨ä¸­çš„ä½ç½®ï¼Œå› æ­¤è¦è®©pgdir[PDX(UVPT)]=env_cr3ã€‚ (4) ä¸åŒè¿›ç¨‹æœ‰å„è‡ªçš„è™šæ‹Ÿç©ºé—´ï¼Œè®¿é—®ç›¸åŒè™šæ‹Ÿåœ°å€æ—¶å¾—åˆ°çš„ç»“æœå¯èƒ½æ˜¯ä¸åŒçš„ï¼›å¯¹äºä¸åŒçš„è¿›ç¨‹è€Œè¨€ï¼Œè™šæ‹Ÿåœ°å€ULIM ä»¥ä¸Šçš„åœ°æ–¹è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ–¹ä¾¿å†…æ ¸å¯¹è¿›ç¨‹è¿›è¡Œç®¡ç†ã€‚ Thinking 3.4æ€è€ƒuser_data è¿™ä¸ªå‚æ•°çš„ä½œç”¨ã€‚æ²¡æœ‰è¿™ä¸ªå‚æ•°å¯ä¸å¯ä»¥ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿï¼ˆå¦‚æœä½ èƒ½è¯´æ˜å“ªäº›åº”ç”¨åœºæ™¯ä¸­å¯èƒ½ä¼šåº”ç”¨è¿™ç§è®¾è®¡å°±æ›´å¥½äº†ã€‚å¯ä»¥ä¸¾ä¸€ä¸ªå®é™…çš„åº“ä¸­çš„ä¾‹å­ï¼‰ ç­”ï¼š ä¸å¯ä»¥ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œä¸user_dataæœ‰å…³çš„å‡½æ•°æ˜¯load_icodeã€load_elfã€load_icode_mapperï¼Œå…¶ä¸­çš„user_dataå°±æ˜¯è¿›ç¨‹eçš„æŒ‡é’ˆï¼Œæ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚ åº”ç”¨åœºæ™¯ï¼šload_icode_mapperæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°å°±æ˜¯å…è®¸ç”¨æˆ·æŠŠéœ€è¦è°ƒç”¨çš„å‡½æ•°çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œä»¥ä¾¿è¯¥å‡½æ•°åœ¨å¤„ç†ç›¸ä¼¼äº‹ä»¶çš„æ—¶å€™å¯ä»¥çµæ´»çš„ä½¿ç”¨ä¸åŒçš„æ–¹æ³•ã€‚Cè¯­è¨€æ ‡å‡†åº“ä¸­çš„æ’åºqsortå°±ç”¨åˆ°äº†è¿™ç§è®¾è®¡ï¼š void qsort(void*base,size_t num,size_t width,int(__cdecl*compare)(const void*,const void*)); è¿™ä¹‹ä¸­çš„compareå°±æ˜¯å›è°ƒå‡½æ•°ï¼Œä¸¤ä¸ªå½¢å‚æ˜¯const void *å‹ï¼Œæœ‰ç€å¾ˆé«˜çš„æ³›ç”¨æ€§ï¼Œä¸user_dataçš„è®¾è®¡ç±»ä¼¼ã€‚ Thinking 3.5ç»“åˆload_icode_mapper çš„å‚æ•°ä»¥åŠäºŒè¿›åˆ¶é•œåƒçš„å¤§å°ï¼Œè€ƒè™‘è¯¥å‡½æ•°å¯èƒ½ä¼šé¢ä¸´å“ªå‡ ç§å¤åˆ¶çš„æƒ…å†µï¼Ÿä½ æ˜¯å¦éƒ½è€ƒè™‘åˆ°äº†ï¼Ÿ ï¼ˆæç¤ºï¼š1ã€é¡µé¢å¤§å°æ˜¯å¤šå°‘ï¼›2ã€å›é¡¾lab1ä¸­çš„ELFæ–‡ä»¶è§£æï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªåŠ¨å¡«å…….bssæ®µï¼‰ ç­”ï¼š è‹¥vaä¸å¯¹é½ï¼Œæ‹·è´é•¿åº¦è¦é€‰æ‹©BY2PG - offsetå’Œbin_sizeä¸­çš„æœ€å°å€¼ï¼Œå¤åˆ¶ç¬¬ä¸€é¡µã€‚ i < bin_sizeæ—¶ï¼Œå¦‚æœi < bin_size - BY2PGï¼Œé‚£ä¹ˆå°±ä»¥BY2PGæ­¥è¿›ï¼Œå¤åˆ¶æ¯ä¸€é¡µï¼›å¦‚æœå‡ºç°äº†BY2PG > bin_size - içš„æƒ…å†µï¼Œé‚£ä¹ˆä¾ç„¶è¦åˆ†é…ä¸€é¡µçš„ç©ºé—´ã€‚ å¦‚æœiä»ç„¶å°äºsgsizeï¼Œéœ€è¦ç»§ç»­ç”³è¯·é¡µé¢å¹¶ç½®0ã€‚ .bss æ®µæ˜¯å…¨éƒ¨è¦ç½®é›¶ï¼Œä¹Ÿå°±åŒ…å«åœ¨ç½®é›¶çš„ç©ºé—´ä¸­ã€‚ Thinking 3.6æ€è€ƒä¸Šé¢è¿™ä¸€æ®µè¯ï¼Œå¹¶æ ¹æ®è‡ªå·±åœ¨lab2 ä¸­çš„ç†è§£ï¼Œå›ç­”ï¼š æˆ‘ä»¬è¿™é‡Œå‡ºç°çš„â€ æŒ‡ä»¤ä½ç½®â€ çš„æ¦‚å¿µï¼Œä½ è®¤ä¸ºè¯¥æ¦‚å¿µæ˜¯é’ˆå¯¹è™šæ‹Ÿç©ºé—´ï¼Œè¿˜æ˜¯ç‰©ç†å†…å­˜æ‰€å®šä¹‰çš„å‘¢ï¼Ÿ ä½ è§‰å¾—entry_pointå…¶å€¼å¯¹äºæ¯ä¸ªè¿›ç¨‹æ˜¯å¦ä¸€æ ·ï¼Ÿè¯¥å¦‚ä½•ç†è§£è¿™ç§ç»Ÿä¸€æˆ–ä¸åŒï¼Ÿ ç­”ï¼š (1) è™šæ‹Ÿç©ºé—´ã€‚å½“æˆ‘ä»¬è¿è¡Œè¿›ç¨‹æ—¶ï¼ŒCPU å°†è‡ªåŠ¨ä»pcæ‰€æŒ‡çš„ä½ç½®å¼€å§‹æ‰§è¡ŒäºŒè¿›åˆ¶ç ï¼Œæ­¤æ—¶çš„ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œè€Œè™šæ‹Ÿç©ºé—´å¯¹åº”çš„ç‰©ç†å†…å­˜å¯èƒ½æ˜¯ä¸è¿ç»­çš„ï¼Œå› æ­¤æ˜¯è™šæ‹Ÿç©ºé—´ã€‚ (2) ä¸€æ ·ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„è™šæ‹Ÿç©ºé—´ï¼Œå› æ­¤entry_pointå…¶å€¼å¯¹äºæ¯ä¸ªè¿›ç¨‹ä¸€æ ·ï¼Œæ˜¯ç¨‹åºå…¥å£ï¼›ä½†entry_pointå®é™…æ˜ å°„çš„ç‰©ç†åœ°å€ä¸åŒã€‚ Thinking 3.7æ€è€ƒä¸€ä¸‹ï¼Œè¦ä¿å­˜çš„è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„env_tf.pcçš„å€¼åº”è¯¥è®¾ç½®ä¸ºå¤šå°‘ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾ç½®ï¼Ÿ ç­”ï¼š è¦ä¿å­˜çš„è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„env_tf.pcçš„å€¼åº”è¯¥è®¾ç½®ä¸ºcp0_epcï¼Œä»è€Œä»è¢«ä¸­æ–­çš„æŒ‡ä»¤ç»§ç»­è¿è¡Œã€‚ Thinking 3.8æ€è€ƒTIMESTACK çš„å«ä¹‰ï¼Œå¹¶æ‰¾å‡ºç›¸å…³è¯­å¥ä¸è¯æ˜æ¥å›ç­”ä»¥ä¸‹å…³äºTIMESTACK çš„é—®é¢˜ï¼š è¯·ç»™å‡ºä¸€ä¸ªä½ è®¤ä¸ºåˆé€‚çš„TIMESTACK çš„å®šä¹‰ è¯·ä¸ºä½ çš„å®šä¹‰åœ¨å®éªŒä¸­æ‰¾å‡ºåˆé€‚çš„ä»£ç æ®µä½œä¸ºè¯æ®(è¯·å¯¹ä»£ç æ®µè¿›è¡Œåˆ†æ) æ€è€ƒTIMESTACK å’Œç¬¬18 è¡Œçš„KERNEL_SP çš„å«ä¹‰æœ‰ä½•ä¸åŒ ç­”ï¼š (1) TIMESTACKä»¥ä¸‹[TIMESTACK - sizeof(struct Trapframe), TIMESTACK)çš„ç©ºé—´å­˜å‚¨ç€å¼‚å¸¸å‘ç”Ÿæ—¶çš„å¯„å­˜å™¨ä¿¡æ¯ï¼Œæ˜¯æ—¶é’Ÿä¸­æ–­çš„å­˜å‚¨åŒºã€‚ (2) åœ¨include/stackframe.hä¸­å¯ä»¥æ‰¾åˆ°ï¼š .macro get_sp mfc0 k1, CP0_CAUSE andi k1, 0x107C xori k1, 0x1000 bnez k1, 1f nop li sp, 0x82000000 j 2f nop1: bltz sp, 2f nop lw sp, KERNEL_SP nop2: nop.endm å…¶ä¸­çš„0x82000000å³TIMESTACKçš„å€¼ã€‚æœ¬æ¬¡å®éªŒäº§ç”Ÿçš„éƒ½æ˜¯æ—¶é’Ÿä¸­æ–­ï¼ˆ4å·å¼‚å¸¸ï¼‰ï¼Œè¿›è¡Œçš„æ˜¯li sp, 0x82000000çš„æ“ä½œï¼Œå› æ­¤æ˜¯æ—¶é’Ÿä¸­æ–­çš„å­˜å‚¨åŒºã€‚ (3) TIMESTACKæ˜¯æ—¶é’Ÿä¸­æ–­çš„å­˜å‚¨åŒºï¼Œè€ŒKERNEL_SPåº”å½“æ˜¯ç³»ç»Ÿè°ƒç”¨çš„å­˜å‚¨åŒºã€‚ Thinking 3.9é˜…è¯» kclock_asm.S æ–‡ä»¶å¹¶è¯´å‡ºæ¯è¡Œæ±‡ç¼–ä»£ç çš„ä½œç”¨ã€‚ ç­”ï¼š .macro setup_c0_status set clr // å®šä¹‰å®setup_c0_statusï¼Œä¼ å…¥setç½®ä½å’Œclræ¸…é›¶å½¢å‚ .set push // ä¿å­˜ç°åœº mfc0 t0, CP0_STATUS // è¯»CP0_STATUSçš„å€¼åˆ°t0å¯„å­˜å™¨ or t0, \\set|\\clr // t0=(t0|set|clr)ï¼Œå°†setä¸º1çš„ç½®1 xor t0, \\clr // t0= xor(t0,clr)ï¼Œå°†clrä¸º1çš„ç½®0 mtc0 t0, CP0_STATUS // å°†t0å¯„å­˜å™¨å†™å›CP0_STATUS .set pop // æ¢å¤ç°åœº.endm // ç»“æŸå®è¯­å¥ .text // ä»£ç æ®µLEAF(set_timer) // LEAFå®šä¹‰ä¸è°ƒç”¨å…¶ä»–å‡½æ•°çš„å¶å­å‡½æ•°set_timer li t0, 0x01 // t0è®¾ä¸º1 sb t0, 0xb5000100 // è®¾ç½®å®æ—¶é’Ÿä¸­æ–­çš„é¢‘ç‡ä¸º1ç§’1æ¬¡ sw sp, KERNEL_SP // ä¿å­˜å †æ ˆç°åœºåˆ°KERNEL_SPsetup_c0_status STATUS_CU0|0x1001 0 // è®¾ç½®CP0_STATUSï¼Œsetä¸º0x10001001 jr ra // å‡½æ•°è¿”å› nop // å»¶è¿Ÿæ§½END(set_timer) // ç»“æŸå‡½æ•° Thinking 3.10é˜…è¯»ç›¸å…³ä»£ç ï¼Œæ€è€ƒæ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆæ ¹æ®æ—¶é’Ÿå‘¨æœŸåˆ‡æ¢è¿›ç¨‹çš„ã€‚ ç­”ï¼š é¦–å…ˆåœ¨set_timerè®¾ç½®å®æ—¶é’Ÿä¸­æ–­çš„é¢‘ç‡ï¼Œå®éªŒä¸­ä¸º1ç§’1æ¬¡ã€‚ ä¸€æ—¦å®æ—¶é’Ÿä¸­æ–­äº§ç”Ÿï¼Œå°±ä¼šè§¦å‘MIPS 4å·ä¸­æ–­ï¼Œä»è€ŒMIPS å°†PC æŒ‡å‘0x80000080ï¼Œä»è€Œè·³è½¬åˆ°.text.exc_vec3ä»£ç æ®µæ‰§è¡Œã€‚ é€šè¿‡text.exc_vec3ä»£ç æ®µçš„åˆ†å‘ï¼Œè°ƒç”¨handle_ int å‡½æ•°æ¥å¤„ç†å®æ—¶é’Ÿä¸­æ–­ã€‚ åœ¨handle_ int åˆ¤æ–­CP0_CAUSEå¯„å­˜å™¨æ˜¯ä¸æ˜¯å¯¹åº”çš„4 å·ä¸­æ–­ä½å¼•å‘çš„ä¸­æ–­ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ‰§è¡Œä¸­æ–­æœåŠ¡å‡½æ•°timer_ irqã€‚ åœ¨timer_ irqé‡Œè·³è½¬åˆ°sched_ yieldï¼Œå¦‚æœå½“å‰è¿›ç¨‹çš„æ—¶é—´ç‰‡ç”¨å®Œäº†ï¼Œåˆ™åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚","permalink":"https://mondaycha.github.io/2020/04/24/424-2/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://mondaycha.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab3 å­¦ä¹ ç¬”è®°","date":"2020/04/24","text":"ä»Šå¤©çš„å†…å®¹æ˜¯OS Lab3çš„å­¦ä¹ å¤ä¹ ç¬”è®°ï¼Œç„¶åä¸‹åˆå»å†™ç†è®ºè¯¾ç¬¬å…«æ¬¡ä½œä¸šã€‚ åœ¨ä¸€å¼€å§‹åŒæ ·æ”¾ä¸‹ä¼˜ç§€å­¦é•¿åšå®¢â€”â€” https://www.cnblogs.com/SivilTaram/p/oslab3.html https://ausar.xyz/index.php/archives/75/ Lab3çš„å†…å®¹æ˜¯è¿›ç¨‹ä¸å¼‚å¸¸ï¼Œå°†è¿è¡Œä¸€ä¸ªç”¨æˆ·æ¨¡å¼çš„è¿›ç¨‹ã€‚éœ€è¦ä½¿ç”¨æ•°æ®ç»“æ„è¿›ç¨‹æ§åˆ¶å— Env æ¥è·Ÿè¸ªç”¨æˆ·è¿›ç¨‹ã€‚é€šè¿‡å»ºç«‹ä¸€ä¸ªç®€å•çš„ç”¨æˆ·è¿›ç¨‹ï¼ŒåŠ è½½ä¸€ä¸ªç¨‹åºé•œåƒåˆ°è¿›ç¨‹æ§åˆ¶å—ä¸­ï¼Œå¹¶è®©å®ƒè¿è¡Œèµ·æ¥ã€‚ è¿›ç¨‹æ§åˆ¶å—è¿›ç¨‹æ§åˆ¶å—(PCB) æ˜¯ç³»ç»Ÿä¸ºäº†ç®¡ç†è¿›ç¨‹è®¾ç½®çš„ä¸€ä¸ªä¸“é—¨çš„æ•°æ®ç»“æ„ï¼Œç”¨å®ƒæ¥è®°å½•è¿›ç¨‹çš„å¤–éƒ¨ç‰¹å¾ï¼Œæè¿°è¿›ç¨‹çš„è¿åŠ¨å˜åŒ–è¿‡ç¨‹ã€‚ Exercise 3.2éœ€è¦è¡¥å……env_init å‡½æ•°ã€‚ /*** exercise 3.2 ***/void env_init(void){ int i; /*Step 1: Initial env_free_list. */ LIST_INIT(&env_free_list); // åˆå§‹åŒ–env_free_list LIST_INIT(&env_sched_list[0]); LIST_INIT(&env_sched_list[1]); // æ ¹æ®è°ƒåº¦æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ï¼Œæˆ‘æŠŠè¿™æ­¥æ”¾åœ¨äº†env_init(void)å‡½æ•°é‡Œ /*Step 2: Traverse the elements of 'envs' array, * set their status as free and insert them into the env_free_list. * Choose the correct loop order to finish the insertion. * Make sure, after the insertion, the order of envs in the list * should be the same as it in the envs array. */ for (i = NENV - 1; i >= 0; i--) // å€’åºæ’å…¥ï¼Œæ€»å…±æ˜¯1024ä¸ªè¿›ç¨‹ { envs[i].env_status = ENV_FREE; /* åˆå§‹åŒ–è¿›ç¨‹çŠ¶æ€ * æœ‰ENV_FREEï¼ŒENV_NOT_RUNNABLEï¼ŒENV_RUNNABLEä¸‰ç§ * ENV_FREE : è¡¨æ˜è¯¥è¿›ç¨‹æ˜¯ä¸æ´»åŠ¨çš„ï¼Œå³è¯¥è¿›ç¨‹æ§åˆ¶å—å¤„äºè¿›ç¨‹ç©ºé—²é“¾è¡¨ä¸­ã€‚ * ENV_NOT_RUNNABLE : è¡¨æ˜è¯¥è¿›ç¨‹å¤„äºé˜»å¡çŠ¶æ€ * å¤„äºè¯¥çŠ¶æ€çš„è¿›ç¨‹å¾€å¾€åœ¨ç­‰å¾…ä¸€å®šçš„æ¡ä»¶æ‰å¯ä»¥å˜ä¸ºå°±ç»ªçŠ¶æ€ä»è€Œè¢«CPU è°ƒåº¦ã€‚ * ENV_RUNNABLE : è¡¨æ˜è¯¥è¿›ç¨‹å¤„äºå°±ç»ªçŠ¶æ€ï¼Œæ­£åœ¨ç­‰å¾…è¢«è°ƒåº¦ * ä½†å¤„äºRUNNABLE çŠ¶æ€çš„è¿›ç¨‹å¯ä»¥æ˜¯æ­£åœ¨è¿è¡Œçš„ï¼Œä¹Ÿå¯èƒ½ä¸åœ¨è¿è¡Œä¸­ */ LIST_INSERT_HEAD(&env_free_list, &envs[i], env_link); }} LIST_INSERT_HEADæ•ˆç‡é«˜ï¼Œé‡‡ç”¨é€†åºæ’å…¥ï¼Œç¡®ä¿åœ¨æ’å…¥ä¹‹åï¼Œenvåœ¨åˆ—è¡¨ä¸­çš„é¡ºåºåº”è¯¥ä¸envsæ•°ç»„ä¸­çš„ç›¸åŒï¼Œè¿™æ ·å°±ä¼šä½¿ç¬¬ä¸€æ¬¡è°ƒç”¨env_alloc()æ—¶è¿”å›envs[0]ã€‚ å¤ä¹ ä¸€ä¸‹LIST_INSERT_HEADï¼Œä¼ å…¥çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºé“¾è¡¨å¤´ã€æ’å…¥å…ƒç´ ã€é“¾è¡¨æŒ‡é’ˆã€‚ #define LIST_INSERT_HEAD(head, elm, field) do { \\ if ((LIST_NEXT((elm), field) = LIST_FIRST((head))) != NULL) \\ LIST_FIRST((head))->field.le_prev = &LIST_NEXT((elm), field);\\ LIST_FIRST((head)) = (elm); \\ (elm)->field.le_prev = &LIST_FIRST((head)); \\ } while (0) åœ¨Lab3è¦åŒºåˆ†æ¸…æ¥šenv_linkå’Œenv_sched_linkã€‚ Thinking 3.1ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æ„é€ ç©ºé—²è¿›ç¨‹é“¾è¡¨æ—¶å¿…é¡»ä½¿ç”¨ç‰¹å®šçš„æ’å…¥çš„é¡ºåºï¼Ÿ(é¡ºåºæˆ–è€…é€†åº) ç­”ï¼š å› ä¸ºæ³¨é‡Šè¦æ±‚â€œç¡®ä¿åœ¨æ’å…¥ä¹‹åï¼Œenvåœ¨åˆ—è¡¨ä¸­çš„é¡ºåºåº”è¯¥ä¸envsæ•°ç»„ä¸­çš„ç›¸åŒâ€ï¼Œè¿™æ ·å°±ä¼šä½¿ç¬¬ä¸€æ¬¡è°ƒç”¨env_alloc()æ—¶è¿”å›envs[0]ã€‚ ï¼ˆæ˜¯ä¸ºäº†Lab 4 Extra è¿›é˜¶ Part 2ï¼ŒPbåœ¨5æœˆ5æ—¥å¦‚æ˜¯è¯´ï¼‰ è¿›ç¨‹çš„æ ‡è¯†æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ä¸€æ— äºŒçš„æ ‡è¯†ç¬¦ï¼Œåœ¨åˆ›å»ºæ¯ä¸ªæ–°çš„è¿›ç¨‹çš„æ—¶å€™å¿…é¡»ä¸ºå®ƒèµ‹äºˆä¸€ä¸ªä¸ä¼—ä¸åŒçš„idæ¥ä½œä¸ºå®ƒçš„æ ‡è¯†ç¬¦ï¼Œmkenvidçš„ä½œç”¨å°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„è¿›ç¨‹idã€‚ u_int mkenvid(struct Env *e){ static u_long next_env_id = 0; /*Hint: lower bits of envid hold e's position in the envs array. */ u_int idx = e - envs; /*Hint: high bits of envid hold an increasing number. */ return (++next_env_id < (> 11) +----------------------------+------------0x8000 0000------- o | User VPT | PDMAP /|\\ o UVPT -----> +----------------------------+------------0x7fc0 0000 | o | PAGES | PDMAP | o UPAGES -----> +----------------------------+------------0x7f80 0000 | o | ENVS | PDMAP | o UTOP,UENVS -----> +----------------------------+------------0x7f40 0000 | o UXSTACKTOP -/ | user exception stack | BY2PG |*/ UTOPåŒæ ·ä¹Ÿæ˜¯UENVSï¼Œè€Œåœ¨3.1çš„mips_vm_init()ï¼Œæˆ‘ä»¬æœ‰è¿™æ ·ä¸€æ¡æ“ä½œï¼š /* Step 3, Allocate proper size of physical memory for global array `envs`, * for process management. Then map the physical address to `UENVS`. */envs = (struct Env *)alloc(NENV * sizeof(struct Env), BY2PG, 1);n = ROUND(NENV * sizeof(struct Env), BY2PG);boot_map_segment(pgdir, UENVS, n, PADDR(envs), PTE_R); åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªstruct Envæ•°ç»„ï¼Œå¤§å°ä¸ºNENVä¸ªå…ƒç´ ï¼Œè€Œè¿™ä¹Ÿæ˜¯å…¨å±€çš„è¿›ç¨‹æ•°ç»„ã€‚é€šè¿‡boot_map_segmentå°†envså¯¹åº”çš„ç‰©ç†åœ°å€æ˜ å°„åˆ°è™šæ‹Ÿåœ°å€UENVSï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸€å—åŒºåŸŸå­˜å‚¨ç€æ‰€æœ‰çš„è¿›ç¨‹ï¼ˆmmuå›¾ä¸­çš„ENVSï¼‰ã€‚ å¼•ç”¨SivilTaramå­¦é•¿çš„è§£é‡Šâ€”â€” å…¶å®è¶³ä»¥çœ‹å‡ºæ¥ï¼Œå†…æ ¸åœ¨æ˜ å°„çš„æ—¶å€™å·²ç»ä¸ºç”¨æˆ·ç•™ä¸‹äº†ä¸€æ¡è·¯å¾„ï¼ä¸€æ¡è·å–å…¶ä»–è¿›ç¨‹ä¿¡æ¯çš„è·¯é€”ï¼è€Œä¸”æˆ‘ä»¬å…¶å®å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸€éƒ¨åˆ†å¯¹äºè¿›ç¨‹è€Œè¨€åº”å½“æ˜¯åªèƒ½è¯»ä¸å¯ä»¥å†™çš„ã€‚å¼€å¯ä¸­æ–­åæˆ‘ä»¬åœ¨è¿›ç¨‹ä¸­å†è®¿é—®å†…æ ¸å°±ä¼šäº§ç”Ÿå¼‚å¸¸æ¥é™·å…¥å†…æ ¸äº†ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ä¸ºäº†æ–¹ä¾¿è¯»ä¸€äº›è¿›ç¨‹ä¿¡æ¯ï¼Œå†…æ ¸ä¸“é—¨å¼€è¾Ÿäº†è¿™4Mçš„ç”¨æˆ·è¿›ç¨‹è™šæ‹ŸåŒºã€‚ç”¨æˆ·è¯»è¿™4Mç©ºé—´çš„å†…å®¹æ˜¯ä¸éœ€è¦äº§ç”Ÿå¼‚å¸¸çš„ã€‚ å—¯â€¦â€¦æœç„¶æˆ‘è¿˜æ˜¯ä¸å¤§æ‡‚ï¼Œç„¶åå°±è·Ÿç€æ³¨é‡ŠæŠŠ[0ï¼ŒUTOP)çš„è¿›ç¨‹é¡µç›®å½•æ¸…é›¶ã€‚ /*Step 2: Zero pgdir's field before UTOP. */for (i = 0; i < PDX(UTOP); i++){ pgdir[i] = 0;} æ‹·è´å†…æ ¸è™šæ‹Ÿé¡µç›®å½•çš„[UTOP,0xffffffff)åŒºé—´çš„å†…å®¹åˆ°è¿›ç¨‹é¡µç›®å½•ã€‚ /*Step 3: Copy kernel's boot_pgdir to pgdir. */for (i = PDX(UTOP); i < PDX(0xffffffff); i++){ pgdir[i] = boot_pgdir[i];} ä¹‹åå°†pgdirä¿å­˜åœ¨e->pgdirï¼Œå°†pgdirçš„ç‰©ç†åœ°å€ä¿å­˜åˆ°e->env_cr3ä¸­ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°è¿›ç¨‹é¡µè¡¨ä¸­â€”â€” // UVPT maps the env's own page table, with read-only permission.e->env_pgdir[PDX(UVPT)] = e->env_cr3 | PTE_V; // read-only Thinking 3.3ç»“åˆinclude/mmu.h ä¸­çš„åœ°å€ç©ºé—´å¸ƒå±€ï¼Œæ€è€ƒenv_setup_vm å‡½æ•°ï¼š æˆ‘ä»¬åœ¨åˆå§‹åŒ–æ–°è¿›ç¨‹çš„åœ°å€ç©ºé—´æ—¶ä¸ºä»€ä¹ˆä¸æŠŠæ•´ä¸ªåœ°å€ç©ºé—´çš„pgdir éƒ½æ¸…é›¶ï¼Œè€Œæ˜¯å¤åˆ¶å†…æ ¸çš„boot_pgdirä½œä¸ºä¸€éƒ¨åˆ†æ¨¡æ¿ï¼Ÿ(æç¤º:mips è™šæ‹Ÿç©ºé—´å¸ƒå±€) UTOP å’ŒULIM çš„å«ä¹‰åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œåœ¨UTOP åˆ°ULIM çš„åŒºåŸŸä¸å…¶ä»–ç”¨æˆ·åŒºç›¸æ¯”æœ‰ä»€ä¹ˆæœ€å¤§çš„åŒºåˆ«ï¼Ÿ åœ¨env_setup_vm å‡½æ•°çš„æœ€åï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦è®©pgdir[PDX(UVPT)]=env_cr3?(æç¤º: ç»“åˆç³»ç»Ÿè‡ªæ˜ å°„æœºåˆ¶) è°ˆè°ˆè‡ªå·±å¯¹è¿›ç¨‹ä¸­ç‰©ç†åœ°å€å’Œè™šæ‹Ÿåœ°å€çš„ç†è§£ ç­”ï¼š (1) æ ¹æ®mmu.hé‡Œé¢çš„å¸ƒå±€ï¼Œæˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿæ˜¯2G/2G æ¨¡å¼ï¼Œåœ¨æœ¬å®éªŒä¸­ï¼ŒUTOPä»¥ä¸Šçš„è™šæ‹Ÿåœ°å€ç©ºé—´åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»éƒ½æ˜¯ä¸€æ ·çš„ã€‚å› æ­¤å¤åˆ¶å†…æ ¸çš„boot_pgdirä¸­UTOPä»¥ä¸Šçš„å†…å®¹åˆ°pgdirä¸­ï¼Œåœ¨è¿›å…¥å†…æ ¸æ€æ—¶ä¸éœ€è¦åˆ‡æ¢CR3å¯„å­˜å™¨ã€‚ (2) ULIMåˆ’åˆ†äº†ç”¨æˆ·ç©ºé—´ä¸å†…æ ¸ç©ºé—´ï¼ŒUTOPå±äºç”¨æˆ·ç©ºé—´ï¼Œä½†UTOPè‡³ULIMçš„åŒºåŸŸä¸å…¶ä»–ç”¨æˆ·åŒºç›¸æ¯”ï¼Œç”¨æˆ·åªèƒ½è¯»ä¸èƒ½å†™ï¼Œå…¶ç”±ä¸‰ä¸ª4Må¤§å°çš„ç©ºé—´ç»„æˆï¼Œåˆ†åˆ«å­˜æ”¾è¿›ç¨‹envsæ•°ç»„ã€pagesæ•°ç»„ã€è¿›ç¨‹é¡µè¡¨ã€‚ (3) UVPT(0x7fc00000) åˆ° ULIM(0x80000000) ä¹‹é—´çš„ç©ºé—´ä¸º4MB ï¼Œè¿™ä¸€åŒºåŸŸå°±æ˜¯è¿›ç¨‹çš„é¡µè¡¨çš„ä½ç½®ï¼Œè€ŒPDX(UVPT)å°±æ˜¯é¡µç›®å½•è‡ªæ˜ å°„æ‰€å¯¹åº”çš„é¡µç›®å½•åœ¨é¡µè¡¨ä¸­çš„ä½ç½®ï¼Œå› æ­¤è¦è®©pgdir[PDX(UVPT)]=env_cr3ã€‚ (4) ä¸åŒè¿›ç¨‹æœ‰å„è‡ªçš„è™šæ‹Ÿç©ºé—´ï¼Œè®¿é—®ç›¸åŒè™šæ‹Ÿåœ°å€æ—¶å¾—åˆ°çš„ç»“æœå¯èƒ½æ˜¯ä¸åŒçš„ï¼›å¯¹äºä¸åŒçš„è¿›ç¨‹è€Œè¨€ï¼Œè™šæ‹Ÿåœ°å€ULIM ä»¥ä¸Šçš„åœ°æ–¹è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ–¹ä¾¿å†…æ ¸å¯¹è¿›ç¨‹è¿›è¡Œç®¡ç†ã€‚ Exercise 3.5è¡¥å……env_allocï¼Œæ ¹æ®çˆ¶è¿›ç¨‹ç”Ÿæˆå­è¿›ç¨‹åˆ°newæŒ‡é’ˆä¸­ï¼Œé¦–å…ˆä»env_free_listè·å–ç¬¬ä¸€ä¸ªç©ºé—²è¿›ç¨‹ã€‚ /*Step 1: Get a new Env from env_free_list*/if (LIST_EMPTY(&env_free_list)){ return -E_NO_FREE_ENV;}e = LIST_FIRST(&env_free_list); æ¥ä¸‹æ¥å°±è¦ä¸ºè¿™ä¸ªçº¯æ´çš„eè¿›ç¨‹åˆ†é…åœ°å€ç©ºé—´ï¼Œç”¨ä¹‹å‰å†™è¿‡çš„env_setup_vmå®ç°æ˜ å°„ã€‚ r = env_setup_vm(e);if (r != 0){ panic(\"env_setup_vm failed!\");} ç„¶ååˆ›å»ºç‹¬ä¸€æ— äºŒçš„IDï¼Œè®¾ç½®è¿›ç¨‹çŠ¶æ€ã€‚ENV_RUNNABLEè¡¨æ˜è¯¥è¿›ç¨‹å¤„äºå°±ç»ªçŠ¶æ€ï¼Œæ­£åœ¨ç­‰å¾…è¢«è°ƒåº¦ã€‚ /*Step 3: Initialize every field of new Env with appropriate values.*/e->env_id = mkenvid(e);e->env_parent_id = parent_id;e->env_status = ENV_RUNNABLE; æ¥ä¸‹æ¥å°±æ˜¯è®¾ç½®29å·å¯„å­˜å™¨ï¼ˆSPå¯„å­˜å™¨ï¼Œå †æ ˆæŒ‡é’ˆå¯„å­˜å™¨ï¼‰å’Œcp0å¯„å­˜å™¨ï¼ˆåå¤„ç†å™¨ï¼‰çš„å€¼ï¼ŒæŠŠeçš„å€¼äº¤ç»™newï¼Œå¹¶ä»ç©ºé—²è¿›ç¨‹é“¾è¡¨ä¸­åˆ å»eã€‚ /*Step 4: Focus on initializing the sp register and cp0_status of env_tf field, located at this new Env. */e->env_tf.regs[29] = USTACKTOP;e->env_tf.cp0_status = 0x10001004;*new = e;/*Step 5: Remove the new Env from env_free_list. */LIST_REMOVE(e, env_link); ä¸–ç•Œæ˜¯å¤šä¹ˆçš„ç¾å¥½å•Šï¼æ¥ä¸‹æ¥å°±æ˜¯æœ¬æ¬¡å®éªŒçš„å‘ç‚¹äº†ï¼Œè™½ç„¶æˆ‘Debug3å¤©çš„åŸå› æ˜¯Lab2å†™é”™â€¦â€¦ åŠ è½½äºŒè¿›åˆ¶é•œåƒæˆ‘ä»¬éœ€è¦ä¸ºæ–°è¿›ç¨‹çš„ç¨‹åºåˆ†é…ç©ºé—´æ¥å®¹çº³ç¨‹åºä»£ç ï¼Œè¿™ä¹Ÿæ˜¯æœ¬æ¬¡å®éªŒçš„å¤§éš¾ç‚¹äº†ã€‚ Thinking 3.4æ€è€ƒuser_data è¿™ä¸ªå‚æ•°çš„ä½œç”¨ã€‚æ²¡æœ‰è¿™ä¸ªå‚æ•°å¯ä¸å¯ä»¥ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿï¼ˆå¦‚æœä½ èƒ½è¯´æ˜å“ªäº›åº”ç”¨åœºæ™¯ä¸­å¯èƒ½ä¼šåº”ç”¨è¿™ç§è®¾è®¡å°±æ›´å¥½äº†ã€‚å¯ä»¥ä¸¾ä¸€ä¸ªå®é™…çš„åº“ä¸­çš„ä¾‹å­ï¼‰ ç­”ï¼š ä¸å¯ä»¥ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œä¸user_dataæœ‰å…³çš„å‡½æ•°æ˜¯load_icodeã€load_elfã€load_icode_mapperï¼Œå…¶ä¸­çš„user_dataå°±æ˜¯è¿›ç¨‹eçš„æŒ‡é’ˆï¼Œæ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚ åº”ç”¨åœºæ™¯ï¼šload_icode_mapperæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°å°±æ˜¯å…è®¸ç”¨æˆ·æŠŠéœ€è¦è°ƒç”¨çš„å‡½æ•°çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œä»¥ä¾¿è¯¥å‡½æ•°åœ¨å¤„ç†ç›¸ä¼¼äº‹ä»¶çš„æ—¶å€™å¯ä»¥çµæ´»çš„ä½¿ç”¨ä¸åŒçš„æ–¹æ³•ã€‚Cè¯­è¨€æ ‡å‡†åº“ä¸­çš„æ’åºqsortå°±ç”¨åˆ°äº†è¿™ç§è®¾è®¡ï¼š void qsort(void*base,size_t num,size_t width,int(__cdecl*compare)(const void*,const void*)); è¿™ä¹‹ä¸­çš„compareå°±æ˜¯å›è°ƒå‡½æ•°ï¼Œä¸¤ä¸ªå½¢å‚æ˜¯const void *å‹ï¼Œæœ‰ç€å¾ˆé«˜çš„æ³›ç”¨æ€§ï¼Œä¸user_dataçš„è®¾è®¡ç±»ä¼¼ã€‚ Exercise 3.6å¡«å……load_icode_mapper å‡½æ•°ã€‚å¤åˆ¶ä¸‹åŠ©æ•™çš„Lab3é‡Šç–‘è§£æƒ‘çš„å†…å®¹ï¼Œè¿™æ ·ä¸‹æ¬¡å°±ä¸éœ€è¦æ‰¾PDFäº†ã€‚ struct Env *env = (struct Env *)user_data;struct Page *p = NULL;u_long i = 0;int r;u_long offset = va - ROUNDDOWN(va, BY2PG); è¿™ä¸ªå‡½æ•°é›†å‰ä¸‰ä¸ªlab çŸ¥è¯†ä¹‹å¤§æˆï¼Œä¸€å®šè¦ç†Ÿæ‚‰lab1 ä¸­çš„ELF ç»“æ„å’Œlab2 ä¸­å†…å­˜åˆ†é…çš„æ–¹æ³•ï¼åœ¨å¡«å†™è¿™ä¸ªå‡½æ•°ä¹‹å‰ï¼Œè¦å…ˆçŸ¥é“å®ƒæ˜¯å¹²ä»€ä¹ˆçš„ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»å®Œæˆå®éªŒçš„ç¬¬ä¸‰æ­¥â€” åˆ›å»ºè¿›ç¨‹ä¸­çš„ç¬¬ä¸€å°æ­¥ï¼Œç°åœ¨å·²ç»æœ‰äº†ç©ºè¿›ç¨‹ï¼Œä½†åªæœ‰éª¨æ¶æ²¡æœ‰çµé­‚æ€ä¹ˆè¡Œï¼Ÿä¸€ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºçš„ä¸€æ¬¡è¿è¡Œï¼Œæ‰€ä»¥ç°åœ¨å°±è¦æŠŠç¨‹åºè£…è¿›ç»™è¿›ç¨‹åˆ†é…çš„å†…å­˜ç©ºé—´ä¸­ã€‚ è¿™ä¸€ä»»åŠ¡ç”±load_icode å‡½æ•°æ¥å®Œæˆï¼Œå®ƒçš„æ­¥éª¤å°±æ˜¯åˆ†é…å†…å­˜ï¼Œå¹¶å°†äºŒè¿›åˆ¶ä»£ç è£…å…¥åˆ†é…å¥½çš„å†…å­˜ä¸­ã€‚ä½†å®ƒä¸€ä¸ªå‡½æ•°è¦æ‰¿æ‹…è¿™ä¹ˆå¤§çš„ä»»åŠ¡ï¼Œæœ‰ç‚¹åƒä¸æ¶ˆå•Šã€‚æ‰€ä»¥å®ƒå°±æŠŠè£…å…¥å†…å­˜çš„ä»»åŠ¡äº¤ç»™äº†load_elf å‡½æ•°ã€‚ä½†è£…å…¥å†…å­˜çš„ä»»åŠ¡è¿˜æ˜¯æœ‰ç‚¹è‰°å·¨ï¼Œä¸ä»…è¦è§£æELF ç»“æ„ï¼Œè¿˜è¦æŠŠELF çš„å†…å®¹å¤åˆ¶åˆ°åˆ†é…å¥½çš„å†…å­˜ä¸­ã€‚è¿™å‡½æ•°æ¯”è¾ƒæ‡’ï¼Œå°±åˆæŠŠå†…å®¹å¤åˆ¶çš„ä»»åŠ¡äº¤ç»™äº†load_icode_mapperã€‚è¿™ä¸‹ç»ˆäºä¸å†åµŒå¥—äº†ï¼Œå¥½åƒèº«ä½“è¢«æç©ºæ˜¯ä¸æ˜¯ï¼Ÿåˆ«æ€¥ï¼Œå…ˆæ¥çœ‹çœ‹è¿™ä¸ªå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å¦‚æœå®Œæˆäº†ï¼Œlab3 ä¹Ÿå°±æ²¡å•¥éš¾çš„äº†ã€‚ è¿™ä¸ªå‡½æ•°å¤§ä½“ä¸Šä¹Ÿæ˜¯ä¸¤æ­¥èµ°ï¼Œç¬¬ä¸€æ­¥ï¼Œå¤åˆ¶ELF çš„å†…å®¹ï¼ˆå½“ç„¶ï¼Œå¿…é¡»æ˜¯ä»£ç æ®µå’Œå…¨å±€æ•°æ®æ®µï¼‰ã€‚ç¬¬äºŒæ­¥å°±æ˜¯éš¾ä¸­ä¹‹éš¾ï¼Œç»™ELF çš„å†…å®¹åˆ†é…é¡µé¢ã€‚ ç°åœ¨äºŒè¿›åˆ¶ç é•¿åº¦å·²ç»ç”±å®ƒçš„å‚æ•°bin_size ä¼ å…¥äº†ã€‚é‚£åˆè·‘å‡ºä¸€ä¸ªæ®µé•¿åº¦sgsize æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿè¿˜è®°å¾—lab1 çš„readelf å§ï¼ŒäºŒè¿›åˆ¶ç é•¿åº¦bin_size ç­‰äºä»£ç æ®µ.text å’Œå…¨å±€æ•°æ®æ®µ.data é•¿åº¦ä¹‹å’Œï¼Œä½†ä¸ä¸€å®šç­‰äºELF è¦å ç”¨çš„å†…å­˜å¤§å°ã€‚å›é¡¾lab1 ä¸­çš„ELF ç»“æ„ï¼Œä»£ç æ®µæ˜¯é€šè¿‡program header å®šä½çš„ï¼Œæ¯ä¸ªå¤´éƒ¨éƒ½æœ‰ä¸€ä¸ªfilesize å’Œmemsizeï¼Œå°±åˆ†åˆ«å¯¹åº”bin_size å’Œsgsizeã€‚åˆ«å¿˜äº†ELF ä¸­è¿˜æœ‰ä¸€ä¸ª.bss æ®µå“¦ï¼Œè¿™.bss æ®µæ˜¯å…¨éƒ¨è¦ç½®é›¶çš„ï¼Œæ‰€ä»¥æ— éœ€åœ¨ELF ä¸­ä½“ç°ï¼Œä½†å¹¶ä¸ä»£è¡¨å®ƒå°±ä¸å å†…å­˜ã€‚é‚£ä¹ˆè¯·ä½ æƒ³ä¸€ä¸‹ï¼Œbin_size å’Œsgsize æ»¡è¶³ä»€ä¹ˆæ ·çš„ä¸ç­‰å¼ï¼Ÿ.bss æ®µçš„èµ·å§‹åœ°å€å’Œbin_size æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿè¿™æ˜¯è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªéš¾ç‚¹ã€‚ å‰é—¨ç‹¼åˆšèµ°ï¼Œåé—¨è™åˆæ¥ã€‚çœ‹çœ‹å‡½æ•°å‰é¢çš„è¯´æ˜ï¼Œpre_condition ä¸­æœ‰ä¸€æ¡æç¤ºï¼šva may NOT aligned 4KBã€‚è¿™æç¤ºäº†ä»€ä¹ˆï¼Ÿlab2 ä¸­æˆ‘ä»¬å®ç°çš„æ˜¯é¡µå¼å†…å­˜ç®¡ç†ï¼Œä¸€é¡µçš„å¤§å°æ˜¯4KBï¼ˆBY2PGï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªé¡µçš„é¦–åœ°å€çš„åå…­è¿›åˆ¶è¡¨ç¤ºçš„åä¸‰ä½éƒ½æ˜¯0ã€‚å¦‚æœva ä¸æ˜¯ä¸€ä¸ªé¡µçš„é¦–åœ°å€ï¼Œæ¯”å¦‚0x0003f2d4ï¼Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿé‚£ä¹ˆåŒæ ·çš„é—®é¢˜ï¼Œå¦‚æœ.bss æ®µçš„é¦–åœ°å€ä¸æ˜¯é¡µå¯¹é½çš„ï¼Œåˆè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿæç¤ºï¼šå–„äºåˆ©ç”¨offset å˜é‡ã€‚å†ç»™ä¸€ä¸ªæç¤ºï¼Œåœ¨ä¸€æ®µå†…å­˜ä¸æ»¡ä¸€ä¸ªé¡µï¼ˆ4KBï¼‰çš„æƒ…å†µä¸‹ï¼Œä»ç„¶è¦åˆ†é…ä¸€æ•´ä¸ªé¡µæ¥å­˜å‚¨ï¼Œå°±åƒå‡ºç§Ÿè½¦è®¡è´¹ï¼Œå°±ç®—ä½ å¤šèµ°äº†100 ç±³ä¹Ÿä¼šæŒ‰1 å…¬é‡Œç®—ã€‚ å‡½æ•°å¤§è‡´çš„ä½œç”¨æ˜¯æŠŠå¤§å°ä¸ºbin_sizeçš„*binæ–‡ä»¶ï¼Œæ‹·è´åˆ°[vaï¼Œva+sgsize]è¿™ä¸ªåŒºé—´ä¸­ï¼Œä¸è¶³åœ°æ–¹è¡¥é›¶ï¼Œåœ¨ä¸€æ®µå†…å­˜ä¸æ»¡ä¸€ä¸ªé¡µï¼ˆ4KBï¼‰çš„æƒ…å†µä¸‹ï¼Œä»ç„¶è¦åˆ†é…ä¸€æ•´ä¸ªé¡µæ¥å­˜å‚¨ã€‚ç”±äºvaä¸ä¸€å®šå¯¹é½ï¼Œæ‹·è´åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š ä¸å¯¹é½æ—¶ï¼Œè½½å…¥ç¬¬ä¸€é¡µï¼š /*Step 1: load all content of bin into memory. *//*First, bin->[0,BY2PG-offset] to [offset,BY2PG]*/if (offset){ u_int32_t size = MIN(BY2PG - offset, bin_size); r = page_alloc(&p); if (r) return r; bcopy(&bin[i], page2kva(p) + offset, size); r = page_insert(env->env_pgdir, p, va, PTE_R); if (r) return r; i += size;} è½½å…¥ç¬¬äºŒé¡µç›´åˆ°æ‹·è´å®Œæ•´ä¸ªæ–‡ä»¶ï¼Œæ­¤æ—¶iå§‹ç»ˆä¸BY2PGå¯¹é½ï¼š while (i < bin_size){ u_int32_t size = MIN(BY2PG, bin_size - i); r = page_alloc(&p); if (r) return r; bcopy(&bin[i], page2kva(p), size); r = page_insert(env->env_pgdir, p, va + i, PTE_R); if (r) return r; i += MIN(BY2PG, sgsize - i);}// i = MIN(ROUND(bin_size, BY2PG),sgsize) å¡«å……åé¢çš„0ï¼š /*Step 2: alloc pages to reach `sgsize` when `bin_size` < `sgsize`. * hint: variable `i` has the value of `bin_size` now! */while (i < sgsize){ u_int32_t size = MIN(BY2PG, sgsize - i); r = page_alloc(&p); if (r) return r; r = page_insert(env->env_pgdir, p, va + i, PTE_R); if (r) return r; // bzero(page2kva(p), size); // already bzero in page_alloc i += size;}return 0; éœ€è¦æ³¨æ„çš„å°±æ˜¯å¡«å……0å§ï¼Œiåœ¨æœ€å¼€å§‹å¯¹é½ä¹‹åå°±ä¿æŒBY2PGæ­¥è¿›ï¼Œç›´åˆ°sgsizeåŠ è½½å®Œæ¯•ã€‚ è¿™ä¸ªåœ¨è¡¥å……æŒ‡å¯¼ä¹¦é‡Œè®²çš„è¿˜è›®è¯¦ç»†çš„ã€‚åœ¨æ¯ä¸€é˜¶æ®µï¼Œè¦åšçš„éƒ½æ˜¯ç”³è¯·é¡µé¢ã€å¤åˆ¶/å¡«0ã€æ’å…¥é¡µè¡¨ï¼Œè€Œå› ä¸ºpage_allocå°±åŒ…å«äº†bzeroæ“ä½œï¼Œå®é™…è¡¥0åªè¦ç”³è¯·é¡µé¢ç„¶ååŠ å…¥é¡µè¡¨å°±å¯ä»¥äº†ã€‚ Thinking 3.5ç»“åˆload_icode_mapper çš„å‚æ•°ä»¥åŠäºŒè¿›åˆ¶é•œåƒçš„å¤§å°ï¼Œè€ƒè™‘è¯¥å‡½æ•°å¯èƒ½ä¼šé¢ä¸´å“ªå‡ ç§å¤åˆ¶çš„æƒ…å†µï¼Ÿä½ æ˜¯å¦éƒ½è€ƒè™‘åˆ°äº†ï¼Ÿ ï¼ˆæç¤ºï¼š1ã€é¡µé¢å¤§å°æ˜¯å¤šå°‘ï¼›2ã€å›é¡¾lab1ä¸­çš„ELFæ–‡ä»¶è§£æï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªåŠ¨å¡«å…….bssæ®µï¼‰ ç­”ï¼š è‹¥vaä¸å¯¹é½ï¼Œæ‹·è´é•¿åº¦è¦é€‰æ‹©BY2PG - offsetå’Œbin_sizeä¸­çš„æœ€å°å€¼ï¼Œå¤åˆ¶ç¬¬ä¸€é¡µã€‚ i < bin_sizeæ—¶ï¼Œå¦‚æœi < bin_size - BY2PGï¼Œé‚£ä¹ˆå°±ä»¥BY2PGæ­¥è¿›ï¼Œå¤åˆ¶æ¯ä¸€é¡µï¼›å¦‚æœå‡ºç°äº†BY2PG > bin_size - içš„æƒ…å†µï¼Œé‚£ä¹ˆä¾ç„¶è¦åˆ†é…ä¸€é¡µçš„ç©ºé—´ã€‚ å¦‚æœiä»ç„¶å°äºsgsizeï¼Œéœ€è¦ç»§ç»­ç”³è¯·é¡µé¢å¹¶ç½®0ã€‚ .bss æ®µæ˜¯å…¨éƒ¨è¦ç½®é›¶ï¼Œä¹Ÿå°±åŒ…å«åœ¨ç½®é›¶çš„ç©ºé—´ä¸­ã€‚ Exercise 3.7é€šè¿‡è¡¥å……çš„ELF çŸ¥è¯†ä¸æ³¨é‡Šï¼Œå¡«å……load_elf å‡½æ•°å’Œload_icodeå‡½æ•°ã€‚ load_elfåªè¦å¡«mapå°±å¥½äº†â€”â€” r = map(phdr->p_vaddr, phdr->p_memsz, phdr->p_offset + binary, phdr->p_filesz, user_data); è¿™é‡Œçš„binä¸ºä»€ä¹ˆæ˜¯phdr->p_offset + binaryå‘¢ï¼Ÿ typedef struct { Elf32_Word p_type; /* Segment type */ Elf32_Off p_offset; /* Segment file offset */ Elf32_Addr p_vaddr; /* Segment virtual addressï¼Œ è¿™å°±æ˜¯éœ€è¦æ˜ å°„çš„è™šæ‹Ÿåœ°å€*/ Elf32_Addr p_paddr; /* Segment physical address */ Elf32_Word p_filesz; /* Segment size in file */ Elf32_Word p_memsz; /* Segment size in memory */ Elf32_Word p_flags; /* Segment flags */ Elf32_Word p_align; /* Segment alignment */} Elf32_Phdr; å‚è€ƒELFæ‰‹å†Œï¼Œæ­¤æ•°æ®æˆå‘˜ç»™å‡ºæœ¬æ®µå†…å®¹åœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œå³æ®µå†…å®¹çš„å¼€å§‹ä½ç½®ç›¸å¯¹äºæ–‡ä»¶å¼€å¤´çš„åç§»é‡ã€‚ load_icodeé¦–å…ˆè®¾ç½®ç”¨æˆ·ç”¨æˆ·æ ˆï¼Œåˆ†é…ä¸€é¡µçš„ç©ºé—´åœ¨[UTOPï¼ŒUTOP-BY2PG]åŒºé—´ã€‚è€Œæˆ‘çš„é—®é¢˜å°±åœ¨äºpage_insertå†™é”™â€¦â€¦å•Šå•Šå•Šå•Šå•Šç†è§£ä¸æ·±å…¥çœŸçš„å¤ªæƒ¨äº†ã€‚ /*Step 1: alloc a page. */r = page_alloc(&p);if (r) panic(\"page_alloc in load_icode failed\");/*Step 2: Use appropriate perm to set initial stack for new Env. *//*Hint: Should the user-stack be writable? */r = page_insert(e->env_pgdir, p, USTACKTOP - BY2PG, perm);if (r) panic(\"page_insert in load_icode failed\"); ç„¶åè°ƒç”¨load_elfï¼Œå¥—å¨ƒ~ /*Step 3:load the binary using elf loader. */r = load_elf(binary, size, &entry_point, (void *)e, load_icode_mapper);if (r) panic(\"load_elf in load_icode failed\");/*Step 4:Set CPU's PC register as appropriate value. */e->env_tf.pc = entry_point; æœ€åè®°å¾—è®¾ç½®PCå¯„å­˜å™¨åˆ°ç¨‹åºå…¥å£ã€‚å…³äºè¿™é‡Œå¼•ç”¨å­¦é•¿çš„åˆ†æâ€”â€” é‚£ä¹ˆä¸‹é¢æ¥è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™é‡Œç”¨çš„æ˜¯page2kva(page)ï¼Œè€Œä¸æ˜¯ç”¨ä¸UTEXTæœ‰å…³çš„æ•°å€¼ï¼Ÿ é¦–å…ˆæˆ‘ä»¬è§£é‡Šè¿‡äº†ï¼ŒUTEXT+0xb0æ˜¯ç¨‹åºçš„å…¥å£ï¼Œä½•è°“å…¥å£ï¼Ÿæ¯”å¦‚æˆ‘ä»¬ç°åœ¨å¯åŠ¨äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œæˆ‘ä»¬å¦‚ä½•èƒ½ä»å“ªé‡Œå¼€å§‹ï¼Œè¯¥æ€æ ·è·‘å‘¢ï¼Ÿè¿™å–å†³äºæˆ‘ä»¬runä¸€ä¸ªè¿›ç¨‹å‰çš„å‡†å¤‡å·¥ä½œï¼Œå½“ç„¶è¿™ä¸ªå·¥ä½œåœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ä¹Ÿéœ€è¦åšï¼Œå…¶ä¸­å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯ä¿å­˜pcã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œæå…¶é‡è¦ã€‚å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡runä¸€ä¸ªè¿›ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„pcæ˜¯åŠ¡å¿…è¦è¢«è®¾ç½®ä¸ºUTEXT+0xb0çš„ï¼Œè¿™ä¹Ÿæ˜¯åœ¨env_allocé‡Œé¢æ‰€åšçš„å·¥ä½œã€‚ä¹‹åæœ‰ä¸€äº›æˆ‘ä»¬æ²¡æœ‰å…³æ³¨è¿‡çš„æ±‡ç¼–ç¨‹åºå°±ä¼šé»˜é»˜åœ°æ ¹æ®æˆ‘ä»¬è®¾ç½®çš„pcå»æ‰¾æˆ‘ä»¬çš„ç¨‹åºå…¥å£ï¼Œé»˜é»˜åœ°æ‰§è¡Œï¼Œé‡åˆ°ä¸­æ–­é»˜é»˜åœ°ä¿å­˜ï¼Œåˆ‡æ¢ã€‚äºæ˜¯å°±è¿™æ ·å®Œæˆäº†è¿›ç¨‹çš„è¿è¡Œä¸åˆ‡æ¢å¤§è®¡ã€‚ é‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œbcopyä¸èƒ½ç”¨UTEXTæ¥copyæ˜¯å› ä¸ºï¼Œæˆ‘ä»¬è¿™é‡Œè¿˜æ²¡å¼€å§‹ä¸€ä¸ªè¿›ç¨‹ï¼Œæ²¡æœ‰å…¶é¡µç›®å½•æ¥ä½œä¸ºåŸºå€ï¼Œæ‰€ä»¥ä½ ç°åœ¨copyåˆ°çš„åœ°æ–¹ä¹Ÿåªæ˜¯å†…æ ¸çš„UTEXTå¤„ã€‚æˆ‘ä»¬éƒ½çŸ¥é“åœ¨env_runæ—¶è¦åˆ‡æ¢é¡µç›®å½•ï¼Œåˆ‡æ¢ä¸ºè¿›ç¨‹çš„é¡µç›®å½•åï¼Œæˆ‘ä»¬å°±å†ä¹Ÿæ‰¾ä¸åˆ°è¿™éƒ¨åˆ†copyçš„ä¸œè¥¿äº†ï¼ˆå› ä¸ºenv_setup_vmåªå¤åˆ¶å†…æ ¸é¡µç›®å½•ULIMä»¥ä¸Šçš„éƒ¨åˆ†ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬è¦copyåˆ°çš„åœ°æ–¹ä¸€å®šæ˜¯è¦å†…æ ¸å’Œæ¯ä¸ªè¿›ç¨‹å‡å¯ä»¥è®¿é—®çš„ï¼Œæ˜¾è€Œæ˜“è§è¦copyåˆ°ULIMä»¥ä¸Šçš„éƒ¨åˆ†ã€‚å³page2kva(page)è¿™ä¸ªåœ°æ–¹ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥é€‰æ‹©å…ˆåˆ‡æ¢åˆ°è¿›ç¨‹çš„é¡µç›®å½•ï¼Œç„¶åcopyï¼Œç„¶ååœ¨ç»“æŸçš„æ—¶å€™åˆ‡æ¢å›å†…æ ¸çš„é¡µç›®å½•ï¼Œå†æ¬¡å¼ºè°ƒä¸€ç‚¹ï¼Œbcopyä¹Ÿå¥½ï¼Œbzeroä¹Ÿå¥½ï¼Œåœ¨æˆ‘ä»¬ç¼–å†™çš„ç¨‹åºä¸­ï¼Œåªè¦æ˜¯ä½œä¸ºè®¿é—®åœ°å€æ¥ä½¿ç”¨çš„ï¼ˆä»€ä¹ˆå«ä½œä¸ºåœ°å€æ¥ä½¿ç”¨ï¼Œå°±æ˜¯å¯ä»¥å–å…¶å†…å®¹çš„ *address)ï¼Œå…¨éƒ¨éƒ½ä½¿ç”¨çš„æ˜¯è™šæ‹Ÿåœ°å€ï¼ Thinking 3.6æ€è€ƒä¸Šé¢è¿™ä¸€æ®µè¯ï¼Œå¹¶æ ¹æ®è‡ªå·±åœ¨lab2 ä¸­çš„ç†è§£ï¼Œå›ç­”ï¼š æˆ‘ä»¬è¿™é‡Œå‡ºç°çš„â€ æŒ‡ä»¤ä½ç½®â€ çš„æ¦‚å¿µï¼Œä½ è®¤ä¸ºè¯¥æ¦‚å¿µæ˜¯é’ˆå¯¹è™šæ‹Ÿç©ºé—´ï¼Œè¿˜æ˜¯ç‰©ç†å†…å­˜æ‰€å®šä¹‰çš„å‘¢ï¼Ÿ ä½ è§‰å¾—entry_pointå…¶å€¼å¯¹äºæ¯ä¸ªè¿›ç¨‹æ˜¯å¦ä¸€æ ·ï¼Ÿè¯¥å¦‚ä½•ç†è§£è¿™ç§ç»Ÿä¸€æˆ–ä¸åŒï¼Ÿ ç­”ï¼š (1) è™šæ‹Ÿç©ºé—´ã€‚å½“æˆ‘ä»¬è¿è¡Œè¿›ç¨‹æ—¶ï¼ŒCPU å°†è‡ªåŠ¨ä»pcæ‰€æŒ‡çš„ä½ç½®å¼€å§‹æ‰§è¡ŒäºŒè¿›åˆ¶ç ï¼Œæ­¤æ—¶çš„ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œè€Œè™šæ‹Ÿç©ºé—´å¯¹åº”çš„ç‰©ç†å†…å­˜å¯èƒ½æ˜¯ä¸è¿ç»­çš„ï¼Œå› æ­¤æ˜¯è™šæ‹Ÿç©ºé—´ã€‚ (2) ä¸€æ ·ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„è™šæ‹Ÿç©ºé—´ï¼Œå› æ­¤entry_pointå…¶å€¼å¯¹äºæ¯ä¸ªè¿›ç¨‹ä¸€æ ·ï¼Œæ˜¯ç¨‹åºå…¥å£ï¼›ä½†entry_pointå®é™…æ˜ å°„çš„ç‰©ç†åœ°å€ä¸åŒã€‚ åˆ›å»ºè¿›ç¨‹ç»ˆäºç»“æŸäº†æœ€éš¾çš„éƒ¨åˆ†â€¦â€¦ä¸‹é¢æ¥çœ‹çœ‹è¿›ç¨‹çš„åˆ›å»ºå§ï¼ Exercise 3.8å®Œæˆenv_create å‡½æ•°ä¸env_create_priority çš„å¡«å†™ã€‚ void env_create_priority(u_char *binary, int size, int priority){ struct Env *e; /*Step 1: Use env_alloc to alloc a new env. */ int r; r = env_alloc(&e, 0); if (r) panic(\"env_alloc in env_create_priority failed\"); /*Step 2: assign priority to the new env. */ e->env_pri = priority; /*Step 3: Use load_icode() to load the named elf binary, and insert it into env_sched_list using LIST_INSERT_HEAD. */ load_icode(e, binary, size); LIST_INSERT_HEAD(&env_sched_list[0], e, env_sched_link);} å…ˆç”¨env_allocåˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œç”±äºæ²¡æœ‰çˆ¶è¿›ç¨‹ï¼Œæ‰€ä»¥å°±æŠŠçˆ¶è¿›ç¨‹idè®¾ç½®ä¸º0ï¼›ç„¶åè®¾ç½®è¿›ç¨‹ä¼˜å…ˆçº§ï¼›æœ€åè°ƒç”¨load_icodeè½½å…¥äºŒè¿›åˆ¶ç¨‹åºæ–‡ä»¶ã€‚ä¸ºäº†è°ƒåº¦ï¼Œå°†è¿›ç¨‹æ’å…¥åˆ°env_sched_list[0]ä¸­ã€‚ void env_create(u_char *binary, int size){ /*Step 1: Use env_create_priority to alloc a new env with priority 1 */ env_create_priority(binary, size, 1);} env_createåªè¦è°ƒç”¨env_create_priorityå°±å¥½äº†ã€‚ Exercise 3.9åœ¨è¿™æ¬¡å®éªŒä¸­æˆ‘ä»¬æ²¡æœ‰ç”¨åˆ°env_createï¼Œè€Œæ˜¯ç”¨äº†ä¸€ä¸ªå®â€”â€” #define ENV_CREATE_PRIORITY(x, y) \\{\\ extern u_char binary_##x##_start[]; \\ extern u_int binary_##x##_size;\\ env_create_priority(binary_##x##_start, \\ (u_int)binary_##x##_size, y);\\} ENV_CREATE_PRIORITY(x,y)ç­‰ä»·äºenv_create_priority(binary_x_start,binary_x_size,y)ã€‚ è¿›ç¨‹è¿è¡Œä¸åˆ‡æ¢env_runæ˜¯è¿›ç¨‹è¿è¡Œä½¿ç”¨çš„åŸºæœ¬å‡½æ•°ï¼Œå®ƒåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š ä¿å­˜å½“å‰è¿›ç¨‹ä¸Šä¸‹æ–‡(å¦‚æœå½“å‰æ²¡æœ‰è¿è¡Œçš„è¿›ç¨‹å°±è·³è¿‡è¿™ä¸€æ­¥) æ¢å¤è¦å¯åŠ¨çš„è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åè¿è¡Œè¯¥è¿›ç¨‹ã€‚ Thinking 3.7æ€è€ƒä¸€ä¸‹ï¼Œè¦ä¿å­˜çš„è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„env_tf.pcçš„å€¼åº”è¯¥è®¾ç½®ä¸ºå¤šå°‘ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾ç½®ï¼Ÿ ç­”ï¼š è¦ä¿å­˜çš„è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„env_tf.pcçš„å€¼åº”è¯¥è®¾ç½®ä¸ºcp0_epcï¼Œä»è€Œä»è¢«ä¸­æ–­çš„æŒ‡ä»¤ç»§ç»­è¿è¡Œã€‚ Thinking 3.8æ€è€ƒTIMESTACK çš„å«ä¹‰ï¼Œå¹¶æ‰¾å‡ºç›¸å…³è¯­å¥ä¸è¯æ˜æ¥å›ç­”ä»¥ä¸‹å…³äºTIMESTACK çš„é—®é¢˜ï¼š è¯·ç»™å‡ºä¸€ä¸ªä½ è®¤ä¸ºåˆé€‚çš„TIMESTACK çš„å®šä¹‰ è¯·ä¸ºä½ çš„å®šä¹‰åœ¨å®éªŒä¸­æ‰¾å‡ºåˆé€‚çš„ä»£ç æ®µä½œä¸ºè¯æ®(è¯·å¯¹ä»£ç æ®µè¿›è¡Œåˆ†æ) æ€è€ƒTIMESTACK å’Œç¬¬18 è¡Œçš„KERNEL_SP çš„å«ä¹‰æœ‰ä½•ä¸åŒ ç­”ï¼š (1) TIMESTACKä»¥ä¸‹[TIMESTACK - sizeof(struct Trapframe), TIMESTACK)çš„ç©ºé—´å­˜å‚¨ç€å¼‚å¸¸å‘ç”Ÿæ—¶çš„å¯„å­˜å™¨ä¿¡æ¯ï¼Œæ˜¯æ—¶é’Ÿä¸­æ–­åçš„å­˜å‚¨åŒºã€‚ (2) åœ¨include/stackframe.hä¸­å¯ä»¥æ‰¾åˆ°ï¼š .macro get_sp mfc0 k1, CP0_CAUSE andi k1, 0x107C xori k1, 0x1000 bnez k1, 1f nop li sp, 0x82000000 j 2f nop1: bltz sp, 2f nop lw sp, KERNEL_SP nop2: nop.endm å…¶ä¸­çš„0x82000000å³TIMESTACKçš„å€¼ã€‚æœ¬æ¬¡å®éªŒäº§ç”Ÿçš„éƒ½æ˜¯æ—¶é’Ÿä¸­æ–­ï¼Œè¿›è¡Œçš„æ˜¯li sp, 0x82000000çš„æ“ä½œï¼Œå› æ­¤æ˜¯æ—¶é’Ÿä¸­æ–­åçš„å­˜å‚¨åŒºã€‚ (3) TIMESTACKæ˜¯æ—¶é’Ÿä¸­æ–­åçš„å­˜å‚¨åŒºï¼Œè€ŒKERNEL_SPåº”å½“æ˜¯ç³»ç»Ÿè°ƒç”¨åçš„å­˜å‚¨åŒºã€‚ Exercise 3.10æ ¹æ®è¡¥å……è¯´æ˜ï¼Œå¡«å……å®Œæˆenv_run å‡½æ•°ã€‚ void env_run(struct Env *e){ /*Step 1: save register state of curenv. */ /* Hint: if there is an environment running, you should do * switch the context and save the registers. You can imitate env_destroy() 's behaviors.*/ if (curenv) { struct Trapframe *old; old = (struct Trapframe *)(TIMESTACK - sizeof(struct Trapframe)); bcopy(old, &(curenv->env_tf), sizeof(struct Trapframe)); curenv->env_tf.pc = curenv->env_tf.cp0_epc; } // ä¿å­˜å½“å‰è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè®¾ç½®å½“å‰è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„ pc ä¸ºåˆé€‚çš„å€¼ã€‚ /*Step 2: Set 'curenv' to the new environment. */ curenv = e; // æŠŠå½“å‰è¿›ç¨‹ curenv åˆ‡æ¢ä¸ºéœ€è¦è¿è¡Œçš„è¿›ç¨‹ã€‚ /*Step 3: Use lcontext() to switch to its address space. */ lcontext(e->env_pgdir); // è°ƒç”¨ lcontext å‡½æ•°ï¼Œè®¾ç½®è¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚ /*Step 4: Use env_pop_tf() to restore the environment's * environment registers and return to user mode. * * Hint: You should use GET_ENV_ASID there. Think why? * (read , page 135-144) */ env_pop_tf(&(curenv->env_tf), GET_ENV_ASID(curenv->env_id)); // è°ƒç”¨ env_pop_tf å‡½æ•°ï¼Œæ¢å¤ç°åœºã€å¼‚å¸¸è¿”å›ã€‚} env_pop_tfæŠŠenvé‡Œçš„tfå‹åˆ°å¯„å­˜å™¨ä¸­ï¼Œè¿›è¡Œè¿”å›ï¼Œéœ€è¦å…ˆè®¾ç½®lcontextåˆ‡æ¢è¿›ç¨‹é¡µç›®å½•ã€‚ å¼‚å¸¸çš„åˆ†å‘è¿™ä¸€éƒ¨åˆ†è¡¨é¢è¦åšå¤è¯»æœºï¼Œä½†ä»£ç ç†è§£èµ·æ¥å¥½ç—›è‹¦â€¦â€¦å•Šå•Šå•Šæˆ‘å·²ç»å†™äº†ä¸¤å¤©è¿™ä¸ªåšå®¢å•¦ï¼Œè¿™ä¹Ÿå¤ªéš¾è¿‡äº†ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šä¸ä¼šæ ¹æœ¬ç†è§£ä¸å®Œå•Šâ€¦â€¦ Exercise 3.11å°†å¼‚å¸¸åˆ†å‘ä»£ç å¡«å…¥boot/start.S åˆé€‚çš„éƒ¨åˆ†ï¼Œ .section .text.exc_vec3NESTED(except_vec3, 0, sp) .set noat .set noreorder1: mfc0 k1,CP0_CAUSE la k0,exception_handlers andi k1,0x7c addu k0,k1 lw k0,(k0) nop jr k0 nopEND(except_vec3).set at è¿™æ®µå¼‚å¸¸åˆ†å‘ä»£ç çš„ä½œç”¨æµç¨‹ç®€è¿°å¦‚ä¸‹ï¼š å–å¾—å¼‚å¸¸ç ï¼Œè¿™æ˜¯åŒºåˆ«ä¸åŒå¼‚å¸¸çš„é‡è¦æ ‡å¿—ã€‚ ä»¥å¾—åˆ°çš„å¼‚å¸¸ç ä½œä¸ºç´¢å¼•å»exception_handlers æ•°ç»„ä¸­æ‰¾åˆ°å¯¹åº”çš„ä¸­æ–­å¤„ç†å‡½æ•°ï¼Œåæ–‡ä¸­ä¼šæœ‰æ¶‰åŠã€‚ è·³è½¬åˆ°å¯¹åº”çš„ä¸­æ–­å¤„ç†å‡½æ•°ä¸­ï¼Œä»è€Œå“åº”äº†å¼‚å¸¸ï¼Œå¹¶å°†å¼‚å¸¸äº¤ç»™äº†å¯¹åº”çš„å¼‚å¸¸å¤„ç†å‡½æ•°å»å¤„ç† Exercise 3.12å°†lds ä»£ç è¡¥å…¨ä½¿å¾—å¼‚å¸¸åå¯ä»¥è·³åˆ°å¼‚å¸¸åˆ†å‘ä»£ç ï¼Œ0x80000080åœ°å€å­˜æ”¾çš„æ˜¯å¼‚å¸¸å¤„ç†ç¨‹åºçš„å…¥å£åœ°å€ã€‚ . = 0x80000080;.except_vec3 : { *(.text.exc_vec3)} è¿™é‡Œå°†.text.exec_vec3 æ”¾åˆ°0x80000080ï¼Œä¸€æ—¦å¼‚å¸¸å‘ç”Ÿï¼Œå°±ä¼šå¼•èµ·è¯¥æ®µä»£ç çš„æ‰§è¡Œã€‚ å¼‚å¸¸å‘é‡ç»„å¡«ç©ºé¢˜ï¼šé˜…è¯»see-mips-run-linuxä¸­çš„å…³äºå¼‚å¸¸ç ä¸å¼‚å¸¸ç±»å‹çš„å¯¹åº”å…³ç³»éƒ¨åˆ†ã€‚ ç®—æ•°å¼‚å¸¸(OV)å¦‚åŠ æ³•æº¢å‡ºã€å‡æ³•æº¢å‡ºç­‰å¼‚å¸¸ï¼Œå…¶å¯¹åº”çš„å¼‚å¸¸ç ä¸º12ã€‚ï¼ˆæ¥æºï¼šP78ï¼‰ æ—¶é’Ÿä¸­æ–­åˆå§‹åŒ–æ—¶é’Ÿä¸»è¦æ˜¯åœ¨kclock_init å‡½æ•°ä¸­ï¼Œè¯¥å‡½æ•°ä¸»è¦è°ƒç”¨set_timerå‡½æ•°ã€‚ Exercise 3.13è¡¥å……kclock_init å‡½æ•°ã€‚ /*** exercise 3.13 ***/voidkclock_init(void){ // hint: use set_timer() set_timer();} è™½ç„¶ä¸æ˜¯å¾ˆç†è§£ä½†åªè¦å¡«å°±å¯¹äº†å‘¢â€¦â€¦ Thinking 3.9é˜…è¯» kclock_asm.S æ–‡ä»¶å¹¶è¯´å‡ºæ¯è¡Œæ±‡ç¼–ä»£ç çš„ä½œç”¨ã€‚ ç­”ï¼š .macro setup_c0_status set clr // å®šä¹‰å®setup_c0_statusï¼Œä¼ å…¥setç½®ä½å’Œclræ¸…é›¶å½¢å‚ .set push // ä¿å­˜ç°åœº mfc0 t0, CP0_STATUS // è¯»CP0_STATUSçš„å€¼åˆ°t0å¯„å­˜å™¨ or t0, \\set|\\clr // t0=(t0|set|clr)ï¼Œå°†setä¸º1çš„ç½®1 xor t0, \\clr // t0= xor(t0,clr)ï¼Œå°†clrä¸º1çš„ç½®0 mtc0 t0, CP0_STATUS // å°†t0å¯„å­˜å™¨å†™å›CP0_STATUS .set pop // æ¢å¤ç°åœº.endm // ç»“æŸå®è¯­å¥ .text // ä»£ç æ®µLEAF(set_timer) // LEAFå®šä¹‰ä¸è°ƒç”¨å…¶ä»–å‡½æ•°çš„å¶å­å‡½æ•°set_timer li t0, 0x01 // t0è®¾ä¸º1 sb t0, 0xb5000100 // è®¾ç½®å®æ—¶é’Ÿä¸­æ–­çš„é¢‘ç‡ä¸º1ç§’1æ¬¡ sw sp, KERNEL_SP // ä¿å­˜æ ˆçš„å€¼åˆ°KERNEL_SPsetup_c0_status STATUS_CU0|0x1001 0 // è®¾ç½®CP0_STATUS jr ra // å‡½æ•°è¿”å› nop // å»¶è¿Ÿæ§½END(set_timer) // ç»“æŸå‡½æ•° è¿›ç¨‹è°ƒåº¦æœ€åä¸€ç« äº†ï¼ Exercise 3.14æ ¹æ®æ³¨é‡Šï¼Œå®Œæˆsched_yield å‡½æ•°çš„è¡¥å……ï¼Œå¹¶æ ¹æ®è°ƒåº¦æ–¹æ³•å¯¹ env.c ä¸­çš„éƒ¨åˆ†å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼Œä½¿å¾—è¿›ç¨‹èƒ½å¤Ÿè¢«æ­£ç¡®è°ƒåº¦ã€‚ void sched_yield(void){ static int count = 0; // remaining time slices of current env static int point = 0; // current env_sched_list index static struct Env *e; while (count == 0) { if (LIST_EMPTY(&env_sched_list[point])) { point = 1 - point; } e = LIST_FIRST(&env_sched_list[point]); count = curenv->env_pri; LIST_REMOVE(e, env_sched_link); LIST_INSERT_HEAD(&env_sched_list[1 - point], e, env_sched_link); } count--; env_run(e);} å‚è€ƒAusarçš„å†™æ³•å†™çš„ï¼Œé©¬ä¸Šçš„Thinking 3.10å°±è¦è®©æˆ‘é‡æ–°æ€è€ƒä¸€éã€‚ Thinking 3.10é˜…è¯»ç›¸å…³ä»£ç ï¼Œæ€è€ƒæ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆæ ¹æ®æ—¶é’Ÿå‘¨æœŸåˆ‡æ¢è¿›ç¨‹çš„ã€‚ ç­”ï¼š é¦–å…ˆåœ¨set_timerè®¾ç½®å®æ—¶é’Ÿä¸­æ–­çš„é¢‘ç‡ï¼Œå®éªŒä¸­ä¸º1ç§’1æ¬¡ã€‚ ä¸€æ—¦å®æ—¶é’Ÿä¸­æ–­äº§ç”Ÿï¼Œå°±ä¼šè§¦å‘MIPS 4å·ä¸­æ–­ï¼Œä»è€ŒMIPS å°†PC æŒ‡å‘0x80000080ï¼Œä»è€Œè·³è½¬åˆ°.text.exc_vec3ä»£ç æ®µæ‰§è¡Œã€‚ é€šè¿‡text.exc_vec3ä»£ç æ®µçš„åˆ†å‘ï¼Œè°ƒç”¨handle_ int å‡½æ•°æ¥å¤„ç†å®æ—¶é’Ÿä¸­æ–­ã€‚ åœ¨handle_ int åˆ¤æ–­CP0_CAUSEå¯„å­˜å™¨æ˜¯ä¸æ˜¯å¯¹åº”çš„4 å·ä¸­æ–­ä½å¼•å‘çš„ä¸­æ–­ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ‰§è¡Œä¸­æ–­æœåŠ¡å‡½æ•°timer_ irqã€‚ åœ¨timer_ irqé‡Œè·³è½¬åˆ°sched_ yieldï¼Œå¦‚æœå½“å‰è¿›ç¨‹çš„æ—¶é—´ç‰‡ç”¨å®Œäº†ï¼Œåˆ™åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚ æ€»ç»“å•Šï¼ŒæŠ„å®Œäº†ï¼Œè™šè„±çš„æ„Ÿè§‰ï¼Œæˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ æˆ‘å°±æ˜¯å•¥ä¹Ÿä¸ä¼šçš„FWã€‚ è®¤çœŸä½ å°±è¾“äº†ã€‚ å·¥ä½œä½ å°±è¾“äº†ã€‚ æˆ‘è¾“äº†ã€‚ 2020/4/25 21:02 æ— å¯æ•‘è¯çš„ç å‘†èŒ¶","permalink":"https://mondaycha.github.io/2020/04/24/424-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week8","date":"2020/04/23","text":"çˆ±è¯¾ç¨‹ 6.1 æ¶²ä½“ç«ç®­å‘åŠ¨æœºä»Šå¤©è¯¾å ‚çš„å†…å®¹æ˜¯èˆªå¤©å™¨å‘å±•çš„åŸºç¡€â€”â€”ç«ç®­å‘åŠ¨æœºï¼Œé¦–å…ˆæ˜¯æ¶²ä½“ç«ç®­å‘åŠ¨æœºï¼Œæœ‰æŒ¤å‹å¼å’Œæ³µå¼çš„æ¨è¿›å‰‚è¾“é€ç³»ç»Ÿï¼Œæ¨åŠ›å®¤æ˜¯ç«ç®­å‘åŠ¨æœºçš„å…³é”®éƒ¨ä»¶ï¼Œæ¶²ä½“ç«ç®­å‘åŠ¨æœºçš„ä¸¤ç§æ¨è¿›å‰‚æ˜¯æ”¾åœ¨å‚¨ç®±é‡Œé¢çš„ã€‚ çˆ±è¯¾ç¨‹ 6.2 å›ºä½“ç«ç®­å‘åŠ¨æœºåœ¨è¿™èŠ‚è¯¾æˆ‘äº†è§£åˆ°ï¼Œå›ºä½“ç«ç®­å‘åŠ¨æœºçš„ç»“æ„æ›´åŠ ç®€å•ã€‚å›ºä½“ç«ç®­å‘åŠ¨æœºçš„æ¨åŠ›çŸ¢é‡æ§åˆ¶æ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªå› ç´ ï¼šæœ‰ç‡ƒæ°”èˆµã€äºŒæ¬¡å–·å°„æŠ€æœ¯ã€åŒå‘æ‘†åŠ¨å–·ç®¡ã€å…¨è½´æ‘†åŠ¨å–·ç®¡ç­‰æŠ€æœ¯ã€‚å‘åŠ¨æœºè¿˜éœ€è¦æ¨åŠ›ç»ˆæ­¢è£…ç½®ï¼Œè¿›è¡Œé‡Šå‹ã€‚æ¨åŠ›å¤§å°ä¸Šï¼Œæœ‰ä¸€ç»´è¯æŸ±ã€äºŒç»´è¯æŸ±ã€ä¸‰ç»´è¯æŸ±ç­‰ä»¥è¿›è¡Œæ§åˆ¶ã€‚ çˆ±è¯¾ç¨‹ 6.3 éå¸¸è§„ç«ç®­å‘åŠ¨æœºæ¶²ä½“ç«ç®­å‘åŠ¨æœºå’Œå›ºä½“ç«ç®­å‘åŠ¨æœºéƒ½å±äºåŒ–å­¦æ¨è¿›ç³»ç»Ÿï¼Œæ•ˆç‡ä½ã€æ¯”å†²ä½ï¼Œå› æ­¤å„å›½ä¹Ÿåœ¨å¤§åŠ›å‘å±•éåŒ–å­¦æ¨è¿›ç³»ç»Ÿçš„éå¸¸è§„ç«ç®­å‘åŠ¨æœºã€‚å¦‚æ ¸æ¨è¿›ã€å¤ªé˜³èƒ½æ¨è¿›ã€ç”µæ¨è¿›ï¼ˆé™ç”µæ¨è¿›ã€ç”µç£æ¨è¿›ç­‰ï¼‰ç­‰ã€‚ å­¦å ‚åœ¨çº¿ 8 å¯¼èˆªã€åˆ¶å¯¼å’Œæµ‹æ§æŠ€æœ¯åœ¨è¿™èŠ‚è¯¾æˆ‘äº†è§£åˆ°ï¼Œå¯¼èˆªè‡ªå¤å­˜åœ¨ï¼Œè¿œå¤æ—¶ä»£å°±æœ‰æ’æ˜Ÿå¯¼èˆªï¼ŒæŒ‡å—é’ˆçš„å‘æ˜ä¹Ÿæ˜¯æ—©æœŸçš„å¯¼èˆªæ‰‹æ®µã€‚å¯¼èˆªå¯ä»¥æä¾›çš„ä¿¡æ¯åŒ…æ‹¬ä½ç½®ä¿¡æ¯ã€æ–¹ä½ä¿¡æ¯ã€é€Ÿåº¦ä¿¡æ¯ç­‰ã€‚å«æ˜Ÿå¯¼èˆªç³»ç»Ÿä¸€èˆ¬åŒ…æ‹¬å«æ˜Ÿç³»ç»Ÿã€åœ°é¢ç«™ç»„ã€ç”¨æˆ·è®¾å¤‡ç­‰ç»„æˆéƒ¨åˆ†ï¼ŒåŒ—æ–—å¯¼èˆªæ˜¯ä¸–ç•Œå››å¤§å«æ˜Ÿå¯¼èˆªç³»ç»Ÿä¸­å”¯ä¸€å…·æœ‰çŸ­æŠ¥æ–‡é€šä¿¡åŠŸèƒ½çš„å¯¼èˆªç³»ç»Ÿã€‚ ç«ç®­å‘åŠ¨æœºçš„æ’æ”¾æ˜¯å¦å­˜åœ¨æ±¡æŸ“é—®é¢˜ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå­˜åœ¨ã€‚å›ºä½“ç«ç®­å‘åŠ¨æœºåœ¨ç‡ƒçƒ§çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿæ°§åŒ–é“å›ºä½“é¢—ç²’ç²‰å°˜ä»¥åŠç›é…¸é›¨é›¾ã€‚ç«ç®­çƒŸå°˜ç§¯èšåœ¨å¹³æµå±‚ä¸Šéƒ¨ï¼Œç²’å­å¸æ”¶å¤ªé˜³å…‰ã€‚ä»–è¡¥å……è¯´ï¼Œè¿™ç§ç§¯èšä¼šåŠ çƒ­å¹³æµå±‚ä¸Šå±‚ï¼Œæ”¹å˜åŒ–å­¦ååº”é€Ÿç‡ï¼Œå¹¶å¯èƒ½å¯¼è‡´è‡­æ°§æŸå¤±ã€‚åœ¨ç‡ƒçƒ§ä¸å®Œå…¨ä¸‹ï¼Œä¹Ÿå®Œå…¨å¯èƒ½äº§ç”Ÿä¸€äº›å…¶ä»–å¯¹ç¯å¢ƒæœ‰æ±¡æŸ“çš„ç‡ƒçƒ§å‰¯äº§ç‰©ã€‚ å½“èˆªå¤©è¡Œä¸šæˆä¸ºæ›´åŠ å¹³æ°‘åŒ–ã€æ›´åŠ æ™®åŠçš„äº§ä¸šæ—¶ï¼Œç›¸ä¿¡è¿™äº›é—®é¢˜ä¹Ÿå°†å¾—ä»¥å…‹æœã€‚ ä¸ºä»€ä¹ˆè¯´æ™¯è±¡åŒ¹é…çš„å¯¼èˆªç²¾åº¦ä¼˜äºåœ°å½¢åŒ¹é…ï¼Ÿåœ°å½¢åŒ¹é…åˆ¶å¯¼æŠ€æœ¯çš„å·¥ä½œåŸç†æ˜¯åœ¨å¯¼å¼¹å‘å°„åŒºä¸ç›®æ ‡åŒºä¹‹é—´é€‰æ‹©å‡ ä¸ªç‰¹å¾æ˜æ˜¾çš„æ ‡å¿—åŒºï¼Œé€šè¿‡é¥æµ‹ã€é¥æ„Ÿæ‰‹æ®µï¼ŒæŒ‰å…¶åœ°é¢åæ ‡ç‚¹æ ‡é«˜æ•°æ®ç»˜åˆ¶æˆæ•°å­—åœ°å›¾ï¼›æ™¯è±¡åŒ¹é…å¯¼èˆªæŠ€æœ¯åˆ©ç”¨å¼¹è½½â€œæ™¯è±¡åŒ¹é…åŒºåŸŸç›¸å…³å™¨â€è·å–ç›®æ ‡åŒºåŸŸæ™¯ç‰©å›¾åƒæ•°å­—åœ°å›¾ï¼Œå°†å…¶ä¸é¢„å­˜çš„å‚è€ƒå›¾åƒè¿›è¡Œç›¸å…³å¤„ç†ï¼Œä»è€Œç¡®å®šå¯¼å¼¹ç›¸å¯¹äºç›®æ ‡çš„ä½ç½®ã€‚ä»æ•°å­—åœ°å›¾æ„å»ºä¸Šæ™¯è±¡åŒ¹é…ä¼˜äºåœ°å½¢åŒ¹é…ï¼Œå› æ­¤æ™¯è±¡åŒ¹é…çš„å¯¼èˆªç²¾åº¦ä¼˜äºåœ°å½¢åŒ¹é…ã€‚","permalink":"https://mondaycha.github.io/2020/04/23/423-1/","photos":[]},{"tags":[{"name":"å†¯å¦‚æ¯","slug":"å†¯å¦‚æ¯","permalink":"https://mondaycha.github.io/tags/%E5%86%AF%E5%A6%82%E6%9D%AF/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"å†¯å¦‚æ¯åˆ›ä¸šå¤§èµ›ç¬¬ä¸€æ¬¡ä¿®æ”¹æ„è§","date":"2020/04/16","text":"1ã€æ–‡ä¸­åˆ—ä¸¾çš„æ•°æ®å’Œæ’å›¾æœ€å¥½éƒ½è¯´æ˜æ¥æº 2ã€ä¸“æœ‰åè¯åœ¨ç­–åˆ’ä¹¦ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æ—¶éœ€è¦ç”¨å…¨ç§°éç¼©å†™ï¼Œå¢å¼ºæ•´ä½“å¯è¯»æ€§ 3ã€ç«äº‰äº§å“åˆ†æä¸­ï¼Œéœ€è¦å¯¹äº§å“è¿›ä¸€æ­¥å‰–æï¼Œé€šè¿‡ç°æœ‰äº§å“çš„å±€é™çªå‡ºè‡ªå·±äº§å“çš„ä¼˜åŠ¿ 4ã€å¸‚åœºåˆ†æè§’åº¦ä¸å¤Ÿå¹¿ï¼Œè¿˜å¯ä»¥åŠ å…¥å¯¹ç›®æ ‡é¡¾å®¢ç¾¤ä½“çš„åˆ†æã€è¥é”€ç­–ç•¥çš„é€‰æ‹©ç­‰ç­‰ 5ã€å‰ä¸€åŠæ˜¯ç§‘æŠ€è®ºæ–‡çš„å†™æ³•ï¼Œéœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œç›®å‰åœ¨ç­–åˆ’ä¹¦é‡Œæ˜¾å¾—ç”Ÿç¡¬","permalink":"https://mondaycha.github.io/2020/04/16/419-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week7","date":"2020/04/16","text":"çˆ±è¯¾ç¨‹ 4.3 èˆªå¤©å™¨çš„é£è¡ŒåŸç†èˆªå¤©å™¨éµå¾ªå¤©ä½“åŠ›å­¦ï¼ˆä¸»è¦æ˜¯è½¨é“åŠ¨åŠ›å­¦çš„æ”¯é…ï¼‰ï¼Œä¸èˆªç©ºä¸ä¸€æ ·ï¼Œèˆªå¤©å™¨çš„å‡ºç°ä½¿äººç±»çš„æ´»åŠ¨èŒƒå›´ä»åœ°çƒå¤§æ°”å±‚æ‰©å¤§åˆ°å¹¿é˜”æ— å çš„å®‡å®™ç©ºé—´ï¼Œã€‚äººé€ å¤©ä½“ä¸è‡ªç„¶å¤©ä½“çš„æœ€å¤§åŒºåˆ«æ˜¯è½¨é“æœºåŠ¨ã€‚ çˆ±è¯¾ç¨‹ 5.1 æ´»å¡å¼å‘åŠ¨æœºæ´»å¡å¼å‘åŠ¨æœºç›®å‰ä¸»è¦ç”¨äºå°å‹ä½é€Ÿé£æœºã€‚æ´»å¡å¼å‘åŠ¨æœºä¸»è¦ç”±æ°”ç¼¸ã€æ´»å¡ã€è¿æ†ã€æ›²è½´ã€æ°”é—¨æœºæ„ã€èºæ—‹æ¡¨å‡é€Ÿå™¨ã€æœºåŒ£ç­‰ç»„æˆã€‚é™¤äº†è¿™äº›ä¸»è¦éƒ¨ä»¶å¤–ï¼Œè¿˜éœ€è¦è‹¥å¹²è¾…åŠ©ç³»ç»Ÿã€‚é™¤æ­¤ä»¥å¤–ï¼Œå¦å¤–ä¸€ç±»å°±æ˜¯ç©ºæ°”å–·æ°”å‘åŠ¨æœºã€‚ çˆ±è¯¾ç¨‹ 5.2 æ¶¡è½®å–·æ°”å‘åŠ¨æœºè¶…éŸ³é€Ÿè¿›æ°”é“ä¸­è°ƒèŠ‚é”¥çš„ä½œç”¨æ˜¯äº§ç”Ÿæ–œæ¿€æ³¢ï¼Œé™ä½æ°”æµé€Ÿåº¦ã€‚ç°åœ¨ç”¨çš„æœ€å¤šçš„æ˜¯è½´æµå¼å‘åŠ¨æœºï¼Œé€çº§ä½¿å‹åŠ›å¢å¤§ï¼Œåœ¨ç‡ƒçƒ§å®¤ï¼Œä¸ºäº†ä½¿ç©ºæ°”ä¸ç‡ƒæ–™ç¨³å®šæ¥è§¦ï¼Œé€šè¿‡å–·å˜´é›¾åŒ–å’Œæ¶¡è½®å°†é«˜æ¸©ç­‰è½¬å˜ä¸ºæœºæ¢°èƒ½ã€‚ç”¨åœ¨æ­¼å‡»æœºä¸Šçš„æ¶¡è½®é£æ‰‡å‘åŠ¨æœºçš„æ¶µé“æ¯”ä¸æ°‘ç”¨é£æœºä¸Šçš„ç›¸æ¯”ä¸€èˆ¬è¦å°ã€‚ çˆ±è¯¾ç¨‹ 5.3 å…¶ä»–å‘åŠ¨æœºåœ¨è¿™ä¸€èŠ‚æˆ‘å­¦ä¹ åˆ°ï¼Œå¯¹äºä¸€äº›é€Ÿåº¦å¹¶ä¸å¿«æˆ–é«˜é€Ÿçš„æƒ…å†µï¼Œé™¤äº†æ´»å¡å¼å‘åŠ¨æœºã€æ¶¡è½®å–·æ°”å‘åŠ¨æœºï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ç±»å‹çš„èˆªç©ºå‘åŠ¨æœºï¼Œæ¥å¹³æ‘Šç»æµæˆæœ¬ã€‚å†²å‹å–·æ°”å‘åŠ¨æœºç”±è¿›æ°”é“ã€ç‡ƒçƒ§å®¤ã€å°¾å–·ç®¡ç»„æˆã€‚ å­¦å ‚åœ¨çº¿ 7 å‘å°„ä¸å›æ”¶æŠ€æœ¯èˆªå¤©å™¨å‘å°„ä¸­ï¼Œéœ€è¦å‘å°„çª—å£ï¼Œå‘å°„çª—å£éœ€è¦æ»¡è¶³å¾ˆå¤šæ¡ä»¶ã€‚èˆªå¤©å™¨çš„å†å…¥æ–¹å¼ä¹Ÿæœ‰å¤šç§ï¼Œçº¯å¼¹é“å¼åœ¨æŠ€æœ¯ä¸Šå®¹æ˜“å®ç°ï¼Œé‡‡ç”¨åŠå¼¹é“å¼å†å…¥æ–¹å¼å†å…¥çš„èˆªå¤©å™¨åŒ…æ‹¬ç¥èˆŸç³»åˆ—é£èˆ¹å’Œè”ç›Ÿå·é£èˆ¹ï¼Œå¦å¤–è¿˜æœ‰æ»‘ç¿”å¼ã€‚ ä¸ºä»€ä¹ˆèˆªå¤©å™¨è¦åœ¨å‘å°„çª—å£å‘å°„ï¼Ÿå‘å°„çª—å£æ˜¯æŒ‡è¿è½½ç«ç®­å‘å°„æ¯”è¾ƒåˆé€‚çš„ä¸€ä¸ªæ—¶é—´èŒƒå›´ï¼Œç”±äºæ¯ä¸ªèˆªå¤©å™¨æ‰¿æ‹…çš„ä»»åŠ¡ä¸åŒï¼Œèˆªå¤©å™¨ä¸Šå®‰è£…çš„ä»ªå™¨ï¼Œè®¾å¤‡ä½¿ç”¨è¦æ±‚ä¸åŒï¼Œå®ƒä»¬å¯¹å‘å°„çª—å£æå‡ºäº†ç§ç§è¦æ±‚å’Œé™åˆ¶æ¡ä»¶ï¼Œè€Œè¿™äº›è¦æ±‚æœ‰æ—¶åˆäº’ç›¸çŸ›ç›¾ï¼Œå› æ­¤é€‰æ‹©ä»€ä¹ˆæ—¶é—´å‘å°„å°±å¿…é¡»è€ƒè™‘å„æ–¹é¢çš„è¦æ±‚ï¼Œç»ç»¼åˆå¹³è¡¡åé€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒåˆé€‚çš„å‘å°„çª—å£ã€‚ å–·æ°”å¼å‘åŠ¨æœºäº§ç”Ÿæ¨åŠ›æ˜¯å¦ç¬¦åˆç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼Ÿå½“ç„¶ç¬¦åˆã€‚ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æ­ç¤ºï¼Œä½œç”¨åœ¨ä¸€ç‰©ä½“ä¸Šçš„æ¯ä¸€ä¸ªåŠ›éƒ½æœ‰ä¸€æ–¹å‘ç›¸åå¤§å°ç›¸ç­‰çš„åä½œç”¨åŠ›ã€‚å–·æ°”å‘åŠ¨æœºç”¨ç±»ä¼¼äºå‘åŠ¨æœº/èºæ—‹æ¡¨ç»„åˆçš„æ–¹å¼äº§ç”Ÿæ¨åŠ›ã€‚äºŒè€…å‡é å°†å¤§é‡æ°”ä½“å‘åæ¨æ¥æ¨è¿›é£æœºã€‚","permalink":"https://mondaycha.github.io/2020/04/16/416-1/","photos":[]},{"tags":[{"name":"å†¯å¦‚æ¯","slug":"å†¯å¦‚æ¯","permalink":"https://mondaycha.github.io/tags/%E5%86%AF%E5%A6%82%E6%9D%AF/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"å†¯å¦‚æ¯åˆ›ä¸šå¤§èµ›-é£é™©æŠ•èµ„éƒ¨åˆ†","date":"2020/04/16","text":"é£é™©å› ç´ æŠ€æœ¯é£é™© å¸‚åœºé£é™© ç®¡ç†é£é™© è´¢åŠ¡é£é™© å…¶ä»–ä¸å¯é¢„è§çš„é£é™© é£é™©æŠ•èµ„çš„é€€å‡ºæ–¹å¼è‚¡ç¥¨ä¸Šå¸‚ï¼šä¾ç…§å•†ä¸šè®¡åˆ’çš„åˆ†æï¼Œå…¬å¸ä¸Šå¸‚çš„å¯èƒ½æ€§åšå‡ºåˆ†æï¼Œå¯¹ä¸Šå¸‚çš„å‰ææ¡ä»¶åšå‡ºè¯´æ˜ è‚¡æƒè½¬è®©ï¼šæŠ•èµ„å•†å¯ä»¥é€šè¿‡è‚¡æƒè½¬è®©çš„æ–¹å¼æ”¶å›æŠ•èµ„ è‚¡æƒå›è´­ï¼šä¾ç…§äº‹ä¸šå•†ä¸šè®¡åˆ’çš„åˆ†æï¼Œå…¬å¸å¯¹å®æ–½è‚¡æƒå›è´­è®¡åˆ’åº”å‘æŠ•èµ„è€…è¯´æ˜ åˆ©æ¶¦åˆ†çº¢ï¼šæŠ•èµ„å•†å¯ä»¥é€šè¿‡å…¬å¸åˆ©æ¶¦åˆ†çº¢è¾¾åˆ°ã€‚æ”¶å›æŠ•èµ„çš„ç›®çš„ï¼ŒæŒ‰ç…§æœ¬å•†ä¸šè®¡åˆ’çš„åˆ†æï¼Œå…¬å¸å¯¹å®æ–½è‚¡æƒåˆ©æ¶¦åˆ†çº¢è®¡åˆ’åº”å‘æŠ•èµ„è€…è¯´æ˜","permalink":"https://mondaycha.github.io/2020/04/16/421-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week6","date":"2020/04/09","text":"çˆ±è¯¾ç¨‹ 3.2 é£æœºé£è¡Œæ€§èƒ½åœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œç”±äºæµç¨‹ä¹‹é—´æœ‰å†…æ‘©æ“¦ï¼Œåœ¨é è¿‘ç®¡å£çš„æ—¶å€™æµé€Ÿæ…¢ä¸€ç‚¹ã€‚ç©ºæ°”å’Œç©ºæ°”ä¹‹é—´çš„æµç¨‹ä¼šäº§ç”Ÿæ‘©æ“¦ï¼Œç©ºæ°”ä¸é£è¡Œå™¨çš„è¡¨é¢ä¹Ÿä¼šäº§ç”Ÿæ‘©æ“¦ã€‚ç©ºæ°”çš„ç²˜æ€§ä½è¡¨é¢å…‰æ»‘åº¦ï¼Œæ°”æµæµåŠ¨çŠ¶æ€ï¼Œä½“è¡¨é¢ç§¯å¤§å°éƒ½æ˜¯ç²˜æ€§æ‘©æ“¦é˜»åŠ›çš„å½±å“å› ç´ ã€‚ç›¸åŒçš„è¿é£æˆªé¢ç§¯æ¡ä»¶ä¸‹ï¼Œä¸åŒå½¢çŠ¶å’Œå°ºå¯¸çš„ç‰©ä½“ä¸Šæœ‰ç›¸åŒçš„é˜»åŠ›ã€‚ çˆ±è¯¾ç¨‹ 3.3 é£æœºæ“çºµæ€§ä¸ç¨³å®šæ€§åœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œé£æœºçš„ä¸‰ç§æ“çºµã€é£æœºçš„ç¨³å®šæ€§ã€‚æ¯”å¦‚è¯´å¤ä»£çš„ç®­å°¾éƒ¨å¢åŠ ç¾½æ¯›ï¼Œé‡å¿ƒä¸ç„¦ç‚¹ä½ç½®ï¼Œé‡å¿ƒè¶Šé å‰è¶Šç¨³å®šï¼Œè¿™æ˜¯çºµå‘ç¨³å®šæ€§ï¼›è€Œæ–¹å‘ç¨³å®šæ€§ä»¥åŠæ¨ªå‘ç¨³å®šæ€§ä¹Ÿæœ‰å„è‡ªçš„ä¾æ®ã€‚å¦ä¸€ä¸ªæŒ‡æ ‡åˆ™æ˜¯æœºåŠ¨æ€§ï¼Œä¸ç¨³å®šæ€§ä¸å¯å…¼å¾—ã€‚ çˆ±è¯¾ç¨‹ 4.1 ç›´å‡æœºçš„é£è¡Œåœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œç›´å‡æœºé‡‡ç”¨æ—‹è½¬æœºç¿¼ï¼Œä¸å›ºå®šç¿¼ä¸ä¸€æ ·ã€‚ç›´å‡æœºç›¸æ¯”å›ºå®šç¿¼ï¼Œå¯ä»¥å‚ç›´èµ·é™ã€ç©ºä¸­æ‚¬åœç­‰ï¼Œæœ‰ç€è‡ªå·±çš„ä¼˜åŠ¿ã€‚ç›´å‡æœºæ—‹ç¿¼çš„å·¥ä½œåŸç†ï¼Œåä½œç”¨åŠ›çŸ©ï¼Œä¸ºäº†å¹³è¡¡è¿™ä¸ªåä½œç”¨åŠ›ï¼Œç›´å‡æœºæœ‰äº†å¾ˆå¤šç»†åˆ†çš„ç±»åˆ«ï¼Œç”±å°¾æ¡¨ã€åŒæ—‹ã€å¸¦ç¿¼ã€å€¾è½¬ã€æ—‹è½¬å®šç¿¼ç­‰æ–¹å¼å®ç°å¹³è¡¡ã€‚ çˆ±è¯¾ç¨‹ 4.2 ç›´å‡æœºçš„æ“çºµåœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œç›´å‡æœºçš„æ“çºµä¹Ÿæ¯”å›ºå®šç¿¼è¦å¤æ‚å¾ˆå¤šã€‚æœ‰æ€»è·æ“çºµã€å˜è·æ“çºµã€å‰é£æ“çºµã€èˆªå‘æ“çºµç­‰ã€‚ç›´å‡æœºçš„ç¨³å®šæ€§å·®ï¼Œæ‚¬åœæ“çºµä¹Ÿä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ã€‚æ— äººæœºçš„åŠ¨åŠ›å­¦ç‰¹æ€§æ¯”è¾ƒå¤æ‚ï¼Œå¯¹é©¾é©¶å‘˜ä¹Ÿæœ‰å¾ˆé«˜çš„è¦æ±‚ï¼Œå±é™©ç¨‹åº¦å¤§ã€‚ å­¦å ‚åœ¨çº¿ 6.4/6.5 æ— äººæœºçš„å‘å°„ä¸èµ·é£/æ— äººæœºçš„å›æ”¶ä¸ç€é™†åœ¨å­¦å ‚åœ¨çº¿çš„è¿™ä¸€èŠ‚æˆ‘å­¦ä¹ åˆ°ï¼Œæ— äººæœºæ˜¯ä¸€ä¸ªå¾ˆæœ‰å‘å±•å‰æ™¯çš„èˆªç©ºå™¨ï¼ˆè™½ç„¶æ˜¨æ—¥åˆšåˆšæ›å‡ºå¤§ç–†è£å‘˜çš„æ¶ˆæ¯ï¼Œ2020çš„æ–°å† å¯¹å„è¡Œå„ä¸šéƒ½æ˜¯ä¸¥å³»çš„æŒ‘æˆ˜ï¼‰ã€‚æ— äººæœºçš„èµ·é£æœ‰å¤šç§å‘å°„æ–¹å¼ï¼Œæ¯”å¦‚æœ‰é›¶é•¿åº¦å‘å°„ã€è½½æœºç©ºä¸­å‘å°„ã€å‚ç›´èµ·é£ã€äººåŠ›æŠ•æ·ç­‰ã€‚æ— äººæœºçš„å›æ”¶æ–¹å¼ä¹Ÿæœ‰å¤šç§ï¼Œæ¯”èµ·é£æ›´æœ‰æŒ‘æˆ˜ï¼Œéœ€è¦æ³¨æ„å¯¹æœºä¸Šè®¾å¤‡çš„ä¿æŠ¤ã€‚ æ­¼-15æ˜¯ä»€ä¹ˆæ°”åŠ¨å¸ƒå±€ï¼Ÿä¸ºä»€ä¹ˆé‡‡ç”¨è¿™æ ·çš„å¸ƒå±€ï¼Ÿæ­¼15æ˜¯ä»¥T10KåŸå‹æœºä¸ºåŸºç¡€ç ”åˆ¶çš„ä¸€ä»£å›½äº§èˆ°è½½æˆ˜æ–—æœºï¼Œ æ°”åŠ¨å¸ƒå±€ï¼šæ°”åŠ¨å¤–å½¢ç±»ä¼¼äºè‹è”ï¼ˆä¿„ç½—æ–¯ï¼‰çš„è‹33èˆ°è½½æˆ˜æ–—æœºã€‚æ­¼15æ˜¯åŒå‘ï¼ŒåŒå‚å°¾çš„é‡å‹æˆ˜æ–—æœºï¼Œå¸¦é¸­ç¿¼çš„ä¸‰ç¿¼é¢æ°”åŠ¨å¸ƒå±€ï¼Œå¸¦æœ‰ç€èˆ°æ‹¦é˜»é’©ï¼Œé‡‡ç”¨ç”µä¼ é£è¡Œæ§åˆ¶ç³»ç»Ÿï¼Œå…·æœ‰ä¼˜å¼‚çš„æœºåŠ¨æ€§èƒ½ã€‚ é‡‡ç”¨åŸå› ï¼šé€‚åº”èˆ°è½½æˆ˜æ–—æœºçš„ä½œæˆ˜éœ€æ±‚ï¼Œä¾¿äºå®ç°æŠ˜å æœºç¿¼ç­‰åŠŸèƒ½ã€‚ é£æœºæ“çºµæ€§å’Œç¨³å®šæ€§ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿåœ¨å…¶ä»–æ¡ä»¶ä¸å˜ä¹‹ä¸‹,ç¨³å®šæ€§å¤§çš„é£æœºæ“çºµèµ·æ¥å°±ä¸€å®šè´¹åŠ›äº›ï¼Œä¸¤è€…ä¸å¯å…¼å¾—ã€‚å…¶ä¸­ç¨³å®šæ€§éœ€è¦é£æœºé‡å¿ƒé€‚å½“é å‰ï¼Œæ“ä½œæ€§éœ€è¦é£æœºé‡å¿ƒé€‚å½“é åã€‚åœ¨ä¸¤ä¸ªè¦æ±‚çš„é‡å èŒƒå›´å†…ï¼Œå°±æ˜¯é£æœºèµ·é£å‰é…è½½å·¥ä½œçš„ä¸»è¦ç›®çš„ã€‚","permalink":"https://mondaycha.github.io/2020/04/09/409-1/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"2020 OO ç¬¬äºŒå•å…ƒæ€»ç»“","date":"2020/04/09","text":"åªè¦è·‘å¾—å¤Ÿå¿«å³ä½¿ä»å¤´å…³åˆ°å°¾ä½ ä¹Ÿå–œæ¬¢å—ä¸€ã€è®¾è®¡ç­–ç•¥1.1 æ€»ä½“ç­–ç•¥æ¦‚è¿°åœ¨å¤šçº¿ç¨‹çš„ååŒå’ŒåŒæ­¥æ§åˆ¶æ–¹é¢ï¼Œæˆ‘ä¸‰æ¬¡ä½œä¸šéƒ½æ˜¯é‡‡ç”¨ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼ï¼ˆè¿˜æ†¨æ†¨åœ°åœ¨å†…éƒ¨åˆ†äº†customerã€producerã€trayçš„åŒ…â€¦â€¦æ–¹ä¾¿è‡ªå·±çœ‹orzï¼‰ã€‚ å…¶ä¸­â€œç”Ÿäº§è€…â€ä¸ºè¾“å…¥çº¿ç¨‹ï¼Œå°†è¯»å–åˆ°çš„Requestæ”¾åˆ°â€œè´§æ¶â€Schedulerä¸Šï¼›â€œæ¶ˆè´¹è€…â€åˆ™æ˜¯æ¯ä¸ªç”µæ¢¯çº¿ç¨‹ï¼Œä»¥ä¸€ç§ç±»ä¼¼è§‚å¯Ÿè€…æ¨¡å¼çš„æ–¹å¼è¿½è¸ªâ€œè´§æ¶â€Schedulerçš„å˜åŒ–ã€‚ä¹‹æ‰€ä»¥è¯´æ˜¯ç±»ä¼¼ï¼Œæ˜¯å› ä¸ºæˆ‘æ¯æ¬¡éƒ½æ˜¯åœ¨ç”µæ¢¯è‡ªèº«çŠ¶æ€å‘ç”Ÿæ”¹å˜åè·å–å½“å‰çš„â€œè´§æ¶â€Schedulerå†…å®¹ï¼Œè€Œä¸æ˜¯Schedulerä¸€æœ‰æ›´æ–°å°±é€šçŸ¥Elevatorï¼ˆä¹Ÿå¯èƒ½è¿™æ˜¯æŸç§è®¾è®¡æ¨¡å¼ä½†æˆ‘ä¸çŸ¥é“ï¼‰ã€‚ è¿™æ ·è®¾è®¡çš„å¥½å¤„æ˜¯ï¼Œæˆ‘åªæœ‰Schedulerç±»çš„æ–¹æ³•æ˜¯ä¸Šé”çš„ï¼Œå…¶ä»–ç±»è°ƒç”¨æ—¶ä¸éœ€è¦è€ƒè™‘æ˜¯å¦ä¼šå¼•å‘çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Œå†™èµ·æ¥å¾ˆæ–¹ä¾¿ï¼›åå¤„æ˜¯æˆ‘ç°åœ¨è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰lockçš„ç”¨æ³•â€¦â€¦ ç”µæ¢¯å†…éƒ¨åˆ™é‡‡ç”¨çŠ¶æ€æ¨¡å¼ï¼Œè®¾ç½®äº†WAIT, OPEN, CLOSE, CLOSED, PASS, UP, DOWNå¤šä¸ªæšä¸¾çŠ¶æ€ç±»å‹ã€‚ è€Œå¯¹äºå¯¹äºå­˜å‚¨äººç¾¤ä¿¡æ¯çš„é˜Ÿåˆ—ï¼Œæˆ‘é‡‡ç”¨äº†å•ç‹¬çš„WaitMulã€ElevatorMulå°è£…HashMapçš„æ–¹å¼ï¼ŒæŒ‡å‘æ¥å»æ¥¼å±‚ï¼Œå¹¶é…ç½®å„ç§æ–¹æ³•ï¼Œå¤–éƒ¨å¯ä»¥å¯¹Multitudeè¿›è¡Œå¡äººå–äººçš„æ“ä½œï¼ŒMultitudeå†…éƒ¨çš„å­˜å‚¨æ–¹å¼æ˜¯ä¸é€æ˜çš„ã€‚ 1.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥1.2.1 ç¬¬äº”æ¬¡ä½œä¸šæ€§èƒ½ä¸Šï¼Œæœ¬æ¬¡ä½œä¸šæˆ‘é‡‡ç”¨çš„æ˜¯åœ¨SSTFçš„åŸºç¡€ä¸Šï¼Œè‡ªå·±çç¢ç£¨çš„â€œé€‰æ‹©æœ€çŸ­è·¯å¾„â€è´ªå¿ƒç®—æ³•ï¼Œæ¯”è¾ƒç”µæ¢¯åŸç›®æ ‡ä¸åæ–¹å‘æ–°ç›®æ ‡çš„æœ€çŸ­è·ç¦»ï¼š private static int minDistance(int cntFloor, int goalFloor, int tmpFloor, int tmpGoal) { int dis1 = Math.abs(goalFloor - cntFloor) + Math.abs(goalFloor - tmpFloor) + Math.abs(tmpGoal - tmpFloor); int dis2 = Math.abs(cntFloor - tmpFloor) + Math.abs(tmpGoal - tmpFloor) + Math.abs(goalFloor - tmpGoal); if (dis1 > dis2) { return tmpGoal; } else { return goalFloor; }} ç„¶è€Œè¿™ç§æ–¹æ³•æœ‰å¾ˆå¤§çš„ç¼ºé™·â€¦â€¦åœ¨æŸäº›ç‰¹å®šæ¥¼å±‚ä¼šæœ‰å°å‡ ç‡å‡ºç°åå¤æ¨ªè·³â€¦â€¦æœ€åé€¼è¿‘æˆªæ­¢æ—¶é—´ä¸€ç›´åœ¨æ”¹ï¼Œåˆå¢åŠ äº†é˜²æ­¢é”æ­»çš„æœºåˆ¶ï¼ˆå½“æ£€æµ‹åˆ°æ­»å¾ªç¯æ—¶å¼ƒç”¨è¿™ä¸€ä¼˜åŒ–ï¼‰ï¼Œä»£ä»·æ˜¯æ‹‰ä½äº†æ€§èƒ½ï¼Œæœ€åæ€§èƒ½åˆ†16å¤šã€‚ 1.2.2 ç¬¬å…­æ¬¡ä½œä¸šæ„Ÿè°¢CJBï¼Œä»–åœ¨ç¬¬äº”æ¬¡ä½œä¸šå¾—åˆ°å¾ˆé«˜çš„æ€§èƒ½åˆ†ï¼Œä¹Ÿæ…·æ¦‚åœ°å°†ä»–çš„ç®—æ³•åˆ†äº«ç»™äº†æˆ‘ä»¬â€”â€” sstfçš„åŸºç¡€ä¸Šï¼Œå½“ç”µæ¢¯é‡Œæœ‰äººæ—¶å€™ï¼Œé€‰æ‹©æœ€è¿‘ä¸Šæ¥¼æˆ–æœ€è¿‘å‡ºæ¥¼å±‚çš„ï¼Œå°±è¡Œï¼Œå…¶ä»–ä¸å˜ã€‚ â€‹ â€”â€”ã€ŠCJBè¯­å½•ã€‹ç¬¬äºŒå·ä¸Šå†Œ æ‰€ä»¥åœ¨ç¬¬å…­æ¬¡å¤šç”µæ¢¯ï¼Œæˆ‘çš„å•ç”µæ¢¯ä¹Ÿé‡‡ç”¨äº†ç›¸åŒï¼ˆä¹Ÿè®¸ï¼‰çš„ç­–ç•¥ã€‚ /*************** * SSTF * *************/private int getGoalFloor(int cnt, boolean isEleFull) { // ä¼ å…¥å‚æ•°ï¼šç”µæ¢¯å½“å‰æ¥¼å±‚ã€ç”µæ¢¯æ»¡å‘˜çŠ¶æ€ if (elevator.isEmpty()) { return scheduler.getMinDisWhenEmpty(cnt, eleId); // ç”µæ¢¯ä¸ºç©ºæ—¶ï¼ŒæŒ‰æƒ…å†µè¿›å…¥waitçŠ¶æ€ } else { int inReq = elevator.getMinDisReq(cnt, goalFloor); if (isEleFull) { return inReq; // ç”µæ¢¯æ»¡å‘˜æ—¶ï¼Œä¸è€ƒè™‘å¤–éƒ¨æ–°è¯·æ±‚ } int outReq = scheduler.getMinDis(cnt, inReq, eleId); if (outReq == LOST) { return inReq; // å¤–éƒ¨æ²¡æœ‰è¯·æ±‚ï¼Œç›´æ¥ç›¸åº”å†…éƒ¨è¯·æ±‚ } else { return Math.abs(outReq - cnt) < Math.abs(inReq - cnt) ? outReq : inReq; // é€‰æ‹©æœ€è¿‘ä¸Šæ¥¼æˆ–æœ€è¿‘å‡ºç”µæ¢¯çš„ } }} å°„å°„CJBï¼CJB, YYDS! æœ€åæ€§èƒ½åˆ†19å¤šã€‚ 1.2.3 ç¬¬ä¸ƒæ¬¡ä½œä¸šåœ¨ç¬¬ä¸ƒæ¬¡ä½œä¸šæ²¿ç”¨äº†CJBçš„SSTFç­–ç•¥ä»¥åŠéƒ¨åˆ†ï¼Œä¸ºå•¥ä¸ç”¨LOOKå‘¢ï¼Ÿæˆ‘æ„Ÿè§‰è¿™ç§æ€§èƒ½åˆ†æƒé‡è¿˜æ˜¯ä¼˜å…ˆæ¥äººæ”¶ç›Šé«˜ã€‚ è€Œå¯¹äºæ¢ä¹˜ï¼Œæˆ‘ç”¨åˆ°äº†ä¸¤ç»„æ•°ç»„ï¼š private static final int[][] canStopOfType = { /*********1***********************9****************15****************/ {1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1}, {0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0}, {0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0} /*********1***********************9****************15****************/};private static final int[][] mustFromName = { /********(1)**********************9***************(15)***************/ {1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1}, {0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0} /*********1***********************9****************15****************/};/*** A B C ***/ canStopOfTypeå­˜å‚¨çš„æ˜¯ç”µæ¢¯å¯ä»¥åœçš„æ¥¼å±‚ï¼ŒmustFromNameæ•°ç»„åˆ™æ˜¯ç”µæ¢¯å¿…é¡»æ¥å—è¿™ä¸€æ¥¼å±‚çš„è¯·æ±‚ï¼ˆ1å’Œ15å±‚ä¸‰ä¸ªç±»å‹éƒ½å¯ä»¥ï¼Œå°±è®©ç”µæ¢¯è‡ªç”±ç«äº‰ï¼‰ã€‚ æ¢ä¹˜æ—¶ä¼šæŠŠäººä»ç”µæ¢¯é‡æ–°å¡è¿›ç­‰å¾…é˜Ÿåˆ—ï¼Œæ‰€ä»¥ä¹‹åå°±ä¸æ²¡æœ‰æ¢ä¹˜çš„æƒ…å†µä¸€æ ·äº†ã€‚å…¶å®æ„Ÿè§‰5å±‚ä½œä¸ºæ¢ä¹˜ç«™ä¹Ÿä¸é”™â€¦â€¦åæ¥ä¸æƒ³æ”¹äº†â€¦â€¦æœ€åæ€§èƒ½åˆ†19å¤šã€‚ äºŒã€å¯æ‰©å±•æ€§(2)ä»åŠŸèƒ½è®¾è®¡å’Œæ€§èƒ½è®¾è®¡çš„å¹³è¡¡æ–¹é¢ï¼Œæ›´ç»†å’Œæ€»ç»“è‡ªå·±ç¬¬ä¸‰æ¬¡ä½œä¸šæ¶æ„è®¾è®¡çš„å¯æ‰©å±•æ€§ å¯æ‰©å±•æ€§æ–¹é¢ï¼Œè¿™ä¸€æ¬¡ä¸€å¼€å§‹å°±å¸Œæœ›èƒ½ä¸ºåç»­çš„æ‰©å±•ç•™å¥½è¿­ä»£ç©ºé—´ï¼Œåœ¨æ­£å¼å¼€å§‹ä¹‹å‰è¯»äº†å¥½å¤šå­¦é•¿çš„åšå®¢ï¼Œå…¶ä¸­PMXMåŠ©æ•™çš„åšå®¢ç»™äº†æˆ‘å¾ˆå¤§å¯å‘ï¼š https://www.cnblogs.com/i-love-ange-and-oo-forever/p/10756828.html æœ€åè¿­ä»£å¼€å‘çš„æ•ˆæœè¿˜ç®—é©¬é©¬è™è™â€¦â€¦ä½†æ¯æ¬¡åŠ å…¥æ–°åŠŸèƒ½éƒ½ä¼šå¼•å…¥ä¸å°‘Bugï¼Œæµ‹è¯•èŠ±çš„æ—¶é—´å¾ˆå¤šã€‚ åŠŸèƒ½è®¾è®¡ç”µæ¢¯æ˜¯ä¸€å°æœ‰é™çŠ¶æ€æœºï¼Œæœ‰WAIT, OPEN, CLOSE, CLOSED, PASS, UP, DOWNä¸€å…±7ç§çŠ¶æ€ï¼Œä¸‰æ¬¡ä½œä¸šçš„çŠ¶æ€è½¬ç§»å›¾éƒ½å·®ä¸å¤šï¼Œå¦‚ä¸‹ï¼š![](G:\\OneDrive\\OneDrive - buaa.edu.cn\\MWD\\å­¦ä¹ \\é¢å‘å¯¹è±¡è®¾è®¡ä¸æ„é€ \\åšå®¢2\\ç”µæ¢¯æµç¨‹å›¾.jpg) è¿™æ ·åšçš„ä¼˜åŠ¿æ˜¯æ¯éƒ¨ç”µæ¢¯è‡ªèº«éƒ½ç‹¬æŒ¡ä¸€é¢ï¼Œäººå¯ä»¥éšæ—¶é€‰æ‹©æœ€è¿‘çš„ç”µæ¢¯ã€å‘¼å«å¤šéƒ¨ç”µæ¢¯ï¼Œæ–¹ä¾¿å¢åŠ ç”µæ¢¯æ•°é‡çš„æ‰©å±•ã€‚ æ€§èƒ½è®¾è®¡æ ¹æ®ä¸Šé¢é‚£ä¸ªä¸‘å“­çš„çŠ¶æ€è½¬ç§»å›¾å¯çŸ¥ï¼Œåœ¨CLOSED, PASSä¸¤ç§çŠ¶æ€ä¸‹ä¼šè°ƒç”¨è·å–ç›®æ ‡æ¥¼å±‚çš„æ–¹æ³•ï¼Œå› æ­¤æˆ‘æ‰€æœ‰çš„ä¼˜åŒ–éƒ½åªè¦å†™åœ¨è·å–ç›®æ ‡æ¥¼å±‚çš„æ–¹æ³•getGoalFloorä¸­ï¼ŒåŒæ ·æœ‰åˆ©äºè¿­ä»£å¼€å‘ï¼Œæ¯”å¦‚ç¬¬ä¸ƒæ¬¡ä½œä¸šçš„getGoalFlooræ–¹æ³•å’Œå‰é¢æåˆ°è¿‡çš„ç¬¬å…­æ¬¡ä½œä¸šgetGoalFlooræ–¹æ³•æ¯”è¾ƒï¼Œå®Œå…¨æ²¡æœ‰å˜åŒ–ã€‚ SOLIDåŸåˆ™åˆ†æä»¥ç¬¬ä¸ƒæ¬¡ä½œä¸šåˆ†æï¼š SRPåŸåˆ™ï¼šæ„Ÿè§‰è¿˜è¡Œï¼ŒRequestParserå°†è¯»å–åˆ°çš„PersonRequestæ”¾åˆ°Schedulerä¸Šï¼ŒElevatorRequeståˆ™ä¼ å…¥Controllerç”¨äºåˆ›é€ æ–°ç”µæ¢¯ï¼›ElevatorControllerè¿é€Schedulerä¸Šçš„ä¹˜å®¢ã€‚ OCPåŸåˆ™ï¼šç”µæ¢¯å°è£…çš„å¥½ï¼Œä¾¿äºæ‰©å±•æ•°é‡ï¼Œæ„Ÿè§‰è¿™æ–¹é¢è¿˜è¡Œã€‚ LSPåŸåˆ™ï¼šåœ¨ç¬¬äº”æ¬¡ä½œä¸šï¼Œå¯¹äºWaitMulã€ElevatorMulé‡‡ç”¨äº†ç»§æ‰¿çš„æ–¹å¼ï¼Œä½†åæ¥åœ¨ç¬¬å…­ã€ä¸ƒæ¬¡ä½œä¸šçš„ä¼˜åŒ–ä¸­å–æ¶ˆâ€¦â€¦æ‰€ä»¥åº”è¯¥æ²¡æœ‰æ€ä¹ˆå®ç°ã€‚ LODåŸåˆ™ï¼šRequestParserä¸ElevatorControlleré€šè¿‡Schedulerè½¬å‘è°ƒç”¨ï¼Œæœ‰ç‹¬ç«‹æ€§ã€‚ ISPåŸåˆ™ï¼šåœ¨æœ¬å•å…ƒä½œä¸šæ²¡æœ‰åˆ›å»ºæ¥å£ï¼Œéƒ¨åˆ†çº¿ç¨‹å®ç°äº†Runnableæ¥å£ã€‚ä¸‰ç§ç”µæ¢¯æˆ‘æ˜¯é‡‡ç”¨æ„é€ æ—¶ä¼ å‚çš„æ–¹å¼ï¼Œé…ç½®å·¥å‚ç±»Controllerç”¨äºåˆ›é€ æ–°ç”µæ¢¯ï¼Œæ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰å®ç°æ¥å£çš„å¿…è¦äº†ã€‚ DIPåŸåˆ™ï¼šæ„Ÿè§‰åšçš„è¿˜å¯ä»¥â€¦â€¦å› ä¸ºæˆ‘éƒ½æ˜¯äººè‡ªå·±åˆ·æ–°è¦ä¹˜åçš„ç”µæ¢¯ï¼ˆä½†æ˜¯å› ä¸ºæ²¡æœ‰ç»™äººå¼€çº¿ç¨‹ï¼Œæ‰€ä»¥éƒ½æ˜¯ç”±ç”µæ¢¯è°ƒç”¨äººçš„é€‰ç”µæ¢¯æ–¹æ³•ï¼Œå…¶å®å®ç°ä¸Šæ¥è¯´æ›´ç±»ä¼¼äºç”µæ¢¯æŠ¢äººï¼‰ï¼Œé¿å…äº†ä¸ºäº†ä¼˜åŒ–å¸¦æ¥çš„å€’ç½®ä¾èµ–ã€‚ ä¸‰ã€åº¦é‡åˆ†æ3.1 ç¬¬äº”æ¬¡ä½œä¸šâ–¼ åŸºæœ¬ç»“æ„å›¾ï¼ŒMainClasså¯åŠ¨è¾“å…¥çº¿ç¨‹å’Œç”µæ¢¯çº¿ç¨‹ï¼Œå¤–éƒ¨çš„æ¥¼å±‚ç­‰å¾…äººç¾¤å’Œå†…éƒ¨çš„ç”µæ¢¯è´§è¿äººç¾¤é‡‡ç”¨äº†ç»§æ‰¿æŠ½è±¡ç±»äººç¾¤çš„æ–¹å¼ï¼Œå°†å¯¹äººçš„å­˜å‚¨æ–¹å¼å°è£…èµ·æ¥ã€‚ â–¼ æ—¶åºå›¾ï¼Œç”¨æ’ä»¶è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæ„Ÿè§‰ä¸æ˜¯å¾ˆå‡†ç¡®â€¦â€¦æ„Ÿè§‰å‚çœ‹æˆ‘çš„æœ‰é™çŠ¶æ€æœºå›¾æ›´å¥½ä¸€ç‚¹â€¦â€¦ â–¼ ä¾èµ–å…³ç³»ï¼Œè¿˜å¯ä»¥ã€‚ Class Cyclic Dcy Dcy* Dpt Dpt* homework.MainClass 0 3 10 0 0 homework.custumer.Elevator 0 4 5 1 2 homework.custumer.Elevator.Status 0 0 0 2 3 homework.custumer.ElevatorController 0 3 8 1 1 homework.producer.RequestParser 0 2 5 1 1 homework.tray.MulInside 0 3 3 1 3 homework.tray.MulOutside 0 3 3 1 4 homework.tray.Multitude 0 2 2 4 7 homework.tray.Multitude.Type 0 0 0 3 8 homework.tray.Person 0 0 0 6 8 homework.tray.Scheduler 0 3 4 3 3 â–¼ å¤æ‚åº¦ï¼ŒElevatorControllerä½œä¸ºä¸€å°å¤§çŠ¶æ€æœºä»¥åŠâ€œæŠ¢äººâ€çš„ç‹¬ç«‹ä¸ªä½“ï¼Œè‡ªèº«çš„runæ–¹æ³•ä½œä¸ºçŠ¶æ€æœºåˆ¤æ–­æ¡ä»¶å¾ˆå¤šï¼Œåœˆå¤æ‚åº¦ä¹Ÿé£˜çº¢ï¼›è·å–æœ€ä¼˜ç›®æ ‡çš„getGoalæ–¹æ³•è¿™æ¬¡å†™çš„å¾ˆå¤æ‚â€¦â€¦ Method ev(G) iv(G) v(G) homework.MainClass.main(String[]) 1 1 1 homework.custumer.Elevator.Elevator() 1 1 1 homework.custumer.Elevator.close(HashMap) 1 1 1 homework.custumer.Elevator.getCurrentFloor() 1 1 1 homework.custumer.Elevator.getMinTimeReq(int,int) 1 1 1 homework.custumer.Elevator.getStatus() 1 1 1 homework.custumer.Elevator.isEmpty() 1 1 1 homework.custumer.Elevator.move(boolean) 1 4 4 homework.custumer.Elevator.open() 1 1 1 homework.custumer.Elevator.setStatus(Status) 1 1 1 homework.custumer.Elevator.sleepTime(int) 1 1 2 homework.custumer.ElevatorController.ElevatorController(Scheduler) 1 1 1 homework.custumer.ElevatorController.getGoal1(int) 5 3 5 homework.custumer.ElevatorController.getGoal2(int) 6 3 7 homework.custumer.ElevatorController.getGoalFloor(int) 1 1 1 homework.custumer.ElevatorController.getGoalFloor2(int) 2 2 2 homework.custumer.ElevatorController.moveJudge(int) 2 2 6 homework.custumer.ElevatorController.run() 2 8 15 homework.custumer.ElevatorController.setDie2(boolean) 2 1 10 homework.producer.RequestParser.RequestParser(Scheduler) 1 1 1 homework.producer.RequestParser.run() 3 3 4 homework.tray.MulInside.MulInside() 1 1 1 homework.tray.MulInside.addInsideMul(HashMap) 1 2 2 homework.tray.MulInside.makeMultitudeOut(int) 1 2 2 homework.tray.MulOutside.MulOutside() 1 1 1 homework.tray.MulOutside.addOutsideMul(Person) 1 1 1 homework.tray.Multitude.Multitude(Type) 1 2 2 homework.tray.Multitude.cloneMulInFloor(int) 1 2 2 homework.tray.Multitude.convertFloor(int) 1 1 1 homework.tray.Multitude.getList() 1 1 1 homework.tray.Multitude.getMaxFloor() 1 1 1 homework.tray.Multitude.getMinDisFloor(int,int,int) 14 3 17 homework.tray.Multitude.getMinFloor() 1 1 1 homework.tray.Multitude.getMulInFloor(int) 1 1 1 homework.tray.Multitude.isEmpty() 3 2 3 homework.tray.Multitude.isEmptyFloor(int) 1 1 1 homework.tray.Multitude.removeMulInFloor(int) 1 1 1 homework.tray.Person.Person(PersonRequest) 1 1 1 homework.tray.Person.Person(int,int,int) 1 1 1 homework.tray.Person.clone() 1 1 1 homework.tray.Person.equals(Object) 2 1 2 homework.tray.Person.getFr() 1 1 1 homework.tray.Person.getTo() 1 1 1 homework.tray.Person.hashCode() 1 1 1 homework.tray.Person.makePersonIn() 1 1 1 homework.tray.Person.makePersonOut() 1 1 1 homework.tray.Person.moveUp() 1 1 1 homework.tray.Scheduler.Scheduler() 1 1 1 homework.tray.Scheduler.getMinDisFloor(int,int) 1 4 4 homework.tray.Scheduler.getOtherReq(int,int) 7 11 13 homework.tray.Scheduler.hasPassReqInFloor(int,int) 4 3 4 homework.tray.Scheduler.hasRequestInFloor(int) 1 1 1 homework.tray.Scheduler.makeMulIn(int) 1 2 2 homework.tray.Scheduler.minDistance(int,int,int,int) 2 1 2 homework.tray.Scheduler.readNewRequest(Person) 1 1 1 homework.tray.Scheduler.stopReading() 1 1 1 homework.tray.Scheduler.stopTask() 1 1 1 ç±»å¤æ‚åº¦ä¸Šï¼ŒElevatorControlleré£˜çº¢ã€‚ homework.MainClass 1 1 homework.custumer.Elevator 1.3 13 homework.custumer.Elevator.Status n/a 0 homework.custumer.ElevatorController 5.12 41 homework.producer.RequestParser 2 4 homework.tray.MulInside 1.67 5 homework.tray.MulOutside 1 2 homework.tray.Multitude 2.55 28 homework.tray.Multitude.Type n/a 0 homework.tray.Person 1.1 11 homework.tray.Scheduler 2.6 26 3.2 ç¬¬å…­æ¬¡ä½œä¸šâ–¼ åŸºæœ¬ç»“æ„å›¾ï¼ŒMainClasså¯åŠ¨è¾“å…¥çº¿ç¨‹å’Œå¤šä¸ªç”µæ¢¯çº¿ç¨‹ï¼Œè¿™æ¬¡æ”¾å¼ƒäº†ç»§æ‰¿ï¼Œå¹¶ä¸”ä¼˜åŒ–äº†ä¼ é€’äººå‘˜çš„æ–¹å¼ï¼Œé™ä½äº†è€¦åˆæ€§ã€‚ â–¼ æ—¶åºå›¾ã€‚ â–¼ ä¾èµ–å…³ç³»ï¼Œè¿™æ¬¡çš„æ¶æ„æ˜¯åœ¨ç¬¬äº”æ¬¡çš„åŸºç¡€ä¸Šä¿®æ”¹ï¼Œä¹Ÿå·®ä¸å¤šã€‚ Class Cyclic Dcy Dcy* Dpt Dpt* homework.MainClass 0 3 9 0 0 homework.custumer.Controller 0 2 7 1 1 homework.custumer.Elevator 0 3 3 1 3 homework.custumer.Elevator.Status 0 0 0 2 4 homework.custumer.ElevatorController 0 3 6 1 2 homework.custumer.ElevatorMul 0 1 1 1 4 homework.producer.RequestParser 0 2 3 1 1 homework.tray.Person 0 0 0 5 8 homework.tray.Scheduler 0 2 2 4 4 homework.tray.WaitMul 0 1 1 1 5 â–¼ å¤æ‚åº¦ï¼Œå‡ ä¸ªå¯»æ‰¾æœ€ä¼˜è§£çš„æ–¹æ³•éƒ½è¾ƒä¸ºå¤æ‚ï¼Œæ¯”å¦‚getBestOneä¸­ç”¨äº†å¤§é‡å¾ªç¯éå†æ¯”è¾ƒè·å–æœ€å°å€¼ï¼ŒåŸºæœ¬å¤æ‚åº¦å’Œåœˆå¤æ‚åº¦éƒ½æ¯”è¾ƒå·®ã€‚ Method ev(G) iv(G) v(G) homework.MainClass.main(String[]) 1 1 1 homework.custumer.Controller.Controller(int,Scheduler) 1 1 1 homework.custumer.Controller.run() 1 2 2 homework.custumer.Elevator.Elevator(char) 1 1 1 homework.custumer.Elevator.close() 1 1 1 homework.custumer.Elevator.getCurrentFloor() 1 1 1 homework.custumer.Elevator.getMinDisReq(int,int) 1 1 1 homework.custumer.Elevator.getStatus() 1 1 1 homework.custumer.Elevator.isEmpty() 1 1 1 homework.custumer.Elevator.isFull() 1 1 1 homework.custumer.Elevator.move(boolean) 1 1 1 homework.custumer.Elevator.open() 1 1 1 homework.custumer.Elevator.putOne(Person) 1 1 1 homework.custumer.Elevator.setStatus(Status) 1 1 1 homework.custumer.Elevator.sleepTime(int) 1 1 2 homework.custumer.Elevator.updateCurrentFloor(boolean) 1 1 4 homework.custumer.ElevatorController.ElevatorController(Scheduler,char) 1 1 1 homework.custumer.ElevatorController.eleClose(int) 1 3 3 homework.custumer.ElevatorController.eleClosed(int,boolean) 1 5 6 homework.custumer.ElevatorController.eleWait(int,boolean) 2 4 4 homework.custumer.ElevatorController.getGoalFloor(int,boolean) 4 3 5 homework.custumer.ElevatorController.run() 2 4 11 homework.custumer.ElevatorMul.ElevatorMul() 1 2 2 homework.custumer.ElevatorMul.convertInFloor(int) 3 1 3 homework.custumer.ElevatorMul.convertOutFloor(int) 2 1 2 homework.custumer.ElevatorMul.getMinDisReq(int,int) 8 3 12 homework.custumer.ElevatorMul.isEleEmpty() 2 1 2 homework.custumer.ElevatorMul.isEleFull() 2 1 2 homework.custumer.ElevatorMul.mulOut(int) 1 2 2 homework.custumer.ElevatorMul.putOne(Person) 1 1 1 homework.custumer.ElevatorMul.updateEleSize(boolean) 1 1 2 homework.producer.RequestParser.RequestParser(Scheduler,ElevatorInput) 1 1 1 homework.producer.RequestParser.run() 3 3 4 homework.tray.Person.Person(PersonRequest) 1 1 1 homework.tray.Person.eleIdNull() 1 1 1 homework.tray.Person.equals(Object) 2 1 2 homework.tray.Person.getEl() 1 1 1 homework.tray.Person.getFr() 1 1 1 homework.tray.Person.getId() 1 1 1 homework.tray.Person.getMoveDis() 1 1 1 homework.tray.Person.getTo() 1 1 1 homework.tray.Person.getWaitDis() 1 1 1 homework.tray.Person.hashCode() 1 1 1 homework.tray.Person.makePersonIn() 1 1 1 homework.tray.Person.makePersonOut() 1 1 1 homework.tray.Person.moveUp() 1 1 1 homework.tray.Person.sameForward(boolean) 1 1 1 homework.tray.Person.setEl(char) 1 1 1 homework.tray.Person.setWaitDis(int) 1 1 1 homework.tray.Person.toString() 1 1 1 homework.tray.Scheduler.Scheduler() 1 1 1 homework.tray.Scheduler.failToGetOne(int,char) 1 1 1 homework.tray.Scheduler.getMinDis(int,int,char) 1 1 1 homework.tray.Scheduler.getMinDisWhenEmpty(int,char) 1 4 4 homework.tray.Scheduler.getOne(int,int,char) 1 1 1 homework.tray.Scheduler.hasRequestInFloor(int) 1 1 1 homework.tray.Scheduler.readNewRequest(Person) 1 1 1 homework.tray.Scheduler.stopReading() 1 1 1 homework.tray.Scheduler.stopTask() 1 1 1 homework.tray.Scheduler.updateFlag(int,char) 1 1 1 homework.tray.WaitMul.WaitMul() 1 2 2 homework.tray.WaitMul.addOutsideMul(Person) 1 1 1 homework.tray.WaitMul.convertInFloor(int) 3 1 3 homework.tray.WaitMul.convertOutFloor(int) 2 1 2 homework.tray.WaitMul.failToGetOne(int,char) 6 5 7 homework.tray.WaitMul.getBestOne(int,int,char) 1 1 1 homework.tray.WaitMul.getMinDisFloor(int,int,char) 8 3 12 homework.tray.WaitMul.hasRequestInFloor(int) 2 1 2 homework.tray.WaitMul.isEmpty() 3 2 3 homework.tray.WaitMul.searchBestOne(int,int,int,char) 4 7 9 homework.tray.WaitMul.updateFlag(int,char) 1 4 4 ç±»å¤æ‚åº¦ä¸Šï¼Œè¿™æ¬¡çš„WaitMulè®¾è®¡ç”±äºæ”¾å¼ƒäº†ç»§æ‰¿å…³ç³»ï¼Œä¹Ÿä¸æ˜¯å¾ˆä¹è§‚ã€‚ Class OCavg WMC homework.MainClass 1 1 homework.custumer.Controller 1.5 3 homework.custumer.Elevator 1.23 16 homework.custumer.Elevator.Status n/a 0 homework.custumer.ElevatorController 4.17 25 homework.custumer.ElevatorMul 3 27 homework.producer.RequestParser 2 4 homework.tray.Person 1.06 18 homework.tray.Scheduler 1.1 11 homework.tray.WaitMul 3.91 43 3.3 ç¬¬ä¸ƒæ¬¡ä½œä¸šâ–¼ åŸºæœ¬ç»“æ„å›¾ï¼ŒMainClasså¯åŠ¨è¾“å…¥çº¿ç¨‹å’Œç”µæ¢¯çº¿ç¨‹ã€‚ â–¼ æ—¶åºå›¾ï¼Œè¿™æ¬¡åŠ äº†SafeOutputçš„å°è£…ï¼Œè™½ç„¶ä¸åŠ ä¹Ÿæ²¡ä»€ä¹ˆå½±å“â€¦â€¦ â–¼ ä¾èµ–å…³ç³»ï¼ŒåŒç¬¬å…­æ¬¡ä½œä¸šã€‚ Class Cyclic Dcy Dcy* Dpt Dpt* homework.MainClass 6 2 12 3 6 homework.SafeOutput 0 0 0 2 9 homework.custumer.Controller 6 2 12 1 6 homework.custumer.Elevator 6 6 12 1 6 homework.custumer.Elevator.EleTime 0 0 0 2 7 homework.custumer.Elevator.Status 0 0 0 2 7 homework.custumer.ElevatorController 6 6 12 1 6 homework.custumer.ElevatorMul 0 1 2 1 7 homework.producer.RequestParser 6 3 12 1 6 homework.tray.Person 0 1 1 6 8 homework.tray.Scheduler 6 2 12 4 6 homework.tray.WaitMul 6 3 12 1 6 â–¼ å¤æ‚åº¦ï¼Œé—®é¢˜å’Œä¹‹å‰çš„éƒ½å·®ä¸å¤šã€‚ Method ev(G) iv(G) v(G) homework.MainClass.main(String[]) 1 1 1 homework.SafeOutput.println(String) 1 1 1 homework.custumer.Controller.Controller(Scheduler) 1 1 1 homework.custumer.Controller.addElevator(ElevatorRequest) 1 1 1 homework.custumer.Controller.convertType(String) 3 2 3 homework.custumer.Controller.run() 1 1 1 homework.custumer.Elevator.Elevator(String,int) 1 1 1 homework.custumer.Elevator.close() 1 1 1 homework.custumer.Elevator.getCurrentFloor() 1 1 1 homework.custumer.Elevator.getMinDisReq(int,int) 1 1 1 homework.custumer.Elevator.getStatus() 1 1 1 homework.custumer.Elevator.inOne(Person) 1 3 3 homework.custumer.Elevator.isEmpty() 1 1 1 homework.custumer.Elevator.isFull() 1 1 1 homework.custumer.Elevator.move(boolean) 1 1 1 homework.custumer.Elevator.open() 1 3 3 homework.custumer.Elevator.outOne() 1 1 1 homework.custumer.Elevator.setStatus(Status) 1 1 1 homework.custumer.Elevator.sleepTime(EleTime) 2 2 5 homework.custumer.Elevator.updateCurrentFloor(boolean) 1 1 4 homework.custumer.ElevatorController.ElevatorController(Scheduler,String,int) 1 1 1 homework.custumer.ElevatorController.eleClose(int) 1 3 3 homework.custumer.ElevatorController.eleClosed(int,boolean) 1 5 6 homework.custumer.ElevatorController.eleOpen(int) 3 4 4 homework.custumer.ElevatorController.eleWait(int,boolean) 2 5 5 homework.custumer.ElevatorController.getGoalFloor(int,boolean) 4 3 5 homework.custumer.ElevatorController.run() 2 5 12 homework.custumer.ElevatorMul.ElevatorMul(int,int[]) 1 2 2 homework.custumer.ElevatorMul.convertIn(int) 3 1 3 homework.custumer.ElevatorMul.convertOut(int) 2 1 2 homework.custumer.ElevatorMul.getMinDisReq(int,int) 8 3 12 homework.custumer.ElevatorMul.inOne(Person) 1 1 1 homework.custumer.ElevatorMul.isEleEmpty() 2 1 2 homework.custumer.ElevatorMul.isEleFull() 2 1 2 homework.custumer.ElevatorMul.mulOut(int) 1 2 2 homework.custumer.ElevatorMul.outOne(int) 2 2 2 homework.custumer.ElevatorMul.updateEleSize(boolean) 1 1 2 homework.producer.RequestParser.RequestParser(Scheduler) 1 1 1 homework.producer.RequestParser.run() 3 5 6 homework.tray.Person.Person(PersonRequest) 1 1 1 homework.tray.Person.eleIdNull() 1 1 1 homework.tray.Person.equals(Object) 2 1 2 homework.tray.Person.getEl() 1 1 1 homework.tray.Person.getFr() 1 1 1 homework.tray.Person.getId() 1 1 1 homework.tray.Person.getMoveDis() 1 1 1 homework.tray.Person.getTo() 1 1 1 homework.tray.Person.getTransfer() 1 1 1 homework.tray.Person.getWaitTime() 1 1 1 homework.tray.Person.hashCode() 1 1 1 homework.tray.Person.makePersonIn() 1 1 1 homework.tray.Person.makePersonOut() 1 1 1 homework.tray.Person.moveUp() 1 1 1 homework.tray.Person.sameForward(boolean) 1 1 1 homework.tray.Person.setEl(String) 1 1 1 homework.tray.Person.setFr(int) 1 1 1 homework.tray.Person.setTransfer(int) 1 1 1 homework.tray.Person.setWaitTime(int) 1 1 1 homework.tray.Person.toString() 1 1 1 homework.tray.Person.transferPerson(int) 1 1 1 homework.tray.Scheduler.Scheduler() 1 1 1 homework.tray.Scheduler.failToGetOne(int,String,int) 1 1 1 homework.tray.Scheduler.getMinDis(int,int,String,int) 1 1 1 homework.tray.Scheduler.getMinDisWhenEmpty(int,String,int) 2 5 6 homework.tray.Scheduler.getOne(int,int,String,int) 1 1 1 homework.tray.Scheduler.hasRequestInFloor(int,String,int) 1 1 1 homework.tray.Scheduler.readNewRequest(Person) 1 1 1 homework.tray.Scheduler.stopReading() 1 1 1 homework.tray.Scheduler.stopTask() 1 1 1 homework.tray.Scheduler.tranOfTypeIsEmpty(int) 1 1 1 homework.tray.Scheduler.updateFlag(int,String,int) 1 1 1 homework.tray.WaitMul.WaitMul() 1 3 3 homework.tray.WaitMul.addOutsideMul(Person) 3 2 5 homework.tray.WaitMul.canStopIn(int,int) 1 1 1 homework.tray.WaitMul.convertIn(int) 3 1 3 homework.tray.WaitMul.convertOut(int) 2 1 2 homework.tray.WaitMul.failToGetOne(int,String,int) 3 1 3 homework.tray.WaitMul.getBestOne(int,int,String,int) 1 3 3 homework.tray.WaitMul.getDisOfTran(int,int,int) 1 1 1 homework.tray.WaitMul.getEleType(int) 3 1 3 homework.tray.WaitMul.getInsideTransfer(int,int) 4 4 14 homework.tray.WaitMul.getInsideTransfer(int,int,int,int) 2 3 4 homework.tray.WaitMul.getMinDisFloor(int,int,String,int) 2 4 4 homework.tray.WaitMul.getMinDisPerson(int,int,String,int) 4 2 8 homework.tray.WaitMul.getMinDownFloorReq(int,int,String,int) 3 2 3 homework.tray.WaitMul.getMinUpFloorReq(int,int,String,int) 3 2 3 homework.tray.WaitMul.getTranOfType(int) 3 2 3 homework.tray.WaitMul.hasRequestInFloor(int,int,String,int) 2 1 2 homework.tray.WaitMul.isEmpty() 3 2 3 homework.tray.WaitMul.mustTakeIn(int,int) 1 1 1 homework.tray.WaitMul.removeOneInTran(int) 1 3 3 homework.tray.WaitMul.searchInFloor(int,int,int,String,int) 6 7 12 homework.tray.WaitMul.tranOfTypeIsEmpty(int) 1 2 2 homework.tray.WaitMul.tranPut(int,int,int) 1 4 4 homework.tray.WaitMul.tranWait(int,int) 2 1 3 homework.tray.WaitMul.updateFlag(int,String,int) 1 4 4 ç±»å¤æ‚åº¦ä¹Ÿä¸€æ ·ã€‚ Class OCavg WMC homework.MainClass 1 1 homework.SafeOutput 1 1 homework.custumer.Controller 1.5 6 homework.custumer.Elevator 1.57 22 homework.custumer.Elevator.EleTime n/a 0 homework.custumer.Elevator.Status n/a 0 homework.custumer.ElevatorController 4.29 30 homework.custumer.ElevatorMul 2.9 29 homework.producer.RequestParser 3 6 homework.tray.Person 1.05 22 homework.tray.Scheduler 1.18 13 homework.tray.WaitMul 3.24 81 å››ã€ä¸‰çœå¾èº«4.1 ç¬¬äº”æ¬¡ä½œä¸šæœ¬æ¬¡ä½œä¸šåœ¨å¼ºæµ‹ä¸­æ²¡æœ‰å‡ºç°Bugï¼Œåœ¨äº’æµ‹ä¸­æ²¡æœ‰è¢«Hackã€‚ 4.2 ç¬¬å…­æ¬¡ä½œä¸šæœ¬æ¬¡ä½œä¸šåœ¨å¼ºæµ‹ä¸­æ²¡æœ‰å‡ºç°Bugï¼Œåœ¨äº’æµ‹ä¸­æ²¡æœ‰è¢«Hackã€‚ 4.3 ç¬¬ä¸ƒæ¬¡ä½œä¸šæœ¬æ¬¡ä½œä¸šåœ¨å¼ºæµ‹ä¸­æ²¡æœ‰å‡ºç°Bugï¼Œåœ¨äº’æµ‹ä¸­è¢«Hackä¸€æ¬¡ã€‚ è¿™æ¬¡å¾ˆæƒ¨åœ°è¢«Rideræš´æ¶ï¼ŒRiderå®åœ¨æ˜¯ä¸€ä¸ªå±…ä½åœ¨OOç½‘ç«™ä¸Šçš„ç‹ äººï¼Œæœ€ç»ˆæˆ˜ç»©30 / 168ï¼Œä»å¤´åˆ°å°¾ç©·è¿½ä¸èˆBerserkerï¼Œhackäº†æˆ‘è¯•äº†å¥½å‡ æ¬¡ä¹Ÿæ‰“ä¸åˆ°çš„Alteregoï¼ˆæˆ‘æœ¬åœ°ä¼šæµ‹å‡ºä»–æœ‰æ­»é”çš„æƒ…å†µï¼‰ï¼Œç”¨è¿è¡Œè¶…æ—¶æ­»é”è™äº†æˆ‘å’ŒSaberâ€¦â€¦ Riderä»å¤´åˆ°å°¾å°±åœ¨æäº¤ä¸€ä¸ªæ•°æ®ï¼ˆé™¤äº†å›ºå®šæ¬ºè´ŸBerserkerï¼Œè¿˜ä¼šæå¸¦æš´æ¶æˆ‘ä»¬ï¼‰ï¼š [1.0]651-FROM-5-TO-15[1.0]404-FROM-9-TO-1[5.0]797-FROM-10-TO-1[5.0]75-FROM-2-TO--2[5.0]816-FROM-1-TO-7[5.0]699-FROM-9-TO--3[9.0]46-FROM-11-TO-2[9.0]592-FROM--3-TO--2[9.0]152-FROM-1-TO--3[9.0]480-FROM-1-TO-2[9.0]385-FROM--3-TO-6[9.0]199-FROM--3-TO-1[9.0]632-FROM-13-TO-20[9.0]562-FROM-6-TO-12[9.0]72-FROM-9-TO-4[13.0]995-FROM-1-TO--2[13.0]977-FROM-1-TO-12[13.0]633-FROM-1-TO-3[13.0]176-FROM-1-TO-11[13.0]865-FROM-2-TO-1[13.0]471-FROM-8-TO-1[13.0]594-FROM-11-TO-4[13.0]765-FROM-3-TO--3[13.0]478-FROM-1-TO--3[17.0]357-FROM-1-TO-11[17.0]604-FROM-9-TO-8[17.0]447-FROM-1-TO-10[17.0]106-FROM-9-TO-14[17.0]194-FROM-7-TO-1[17.0]387-FROM-12-TO-1[17.0]760-FROM-1-TO-14[17.0]X1-ADD-ELEVATOR-C[17.0]874-FROM-16-TO--3[17.0]369-FROM-1-TO-9[17.0]268-FROM-8-TO--3[17.0]498-FROM--3-TO-5[17.0]340-FROM-10-TO-4[17.0]859-FROM-1-TO-8[17.0]423-FROM-1-TO-14[17.0]211-FROM--1-TO-2[21.0]518-FROM-17-TO-14[21.0]242-FROM-10-TO-1[25.0]871-FROM--3-TO-6[25.0]427-FROM--1-TO-1[25.0]X2-ADD-ELEVATOR-A[29.0]975-FROM-14-TO-1[29.0]504-FROM-1-TO--1[29.0]942-FROM-1-TO--1[29.0]96-FROM-1-TO--1[29.0]133-FROM--3-TO-1[29.0]558-FROM-15-TO--3[29.0]X3-ADD-ELEVATOR-A å•çœ‹æ•°æ®ï¼Œè¿™ç»„æ•°æ®çš„ç‰¹ç‚¹æ˜¯åˆ†å‡ ä¸ªæ—¶é—´æ®µï¼Œåœ¨åŒä¸€æ—¶åˆ»è¿›è¡Œå¤§é‡ä¹˜å®¢æŠ•æ”¾å’Œç”µæ¢¯å¢åŠ æ“ä½œã€‚ é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå‘ç”Ÿæ­»é”å‘¢ï¼Ÿç›¸ä¿¡æˆ‘ä»¬æˆ¿é—´çš„åŒå­¦éƒ½å¾ˆæƒ³äº†è§£ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿæ­»é”ï¼Œå°ç¼–å¯¹äºä¼šå‘ç”Ÿæ­»é”è¿™ä»¶äº‹ä¹Ÿæ„Ÿåˆ°å¾ˆæƒŠè®¶ï¼Œä½†æ˜¯å°±æ˜¯å‘ç”Ÿæ­»é”äº†ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯å‘ç”Ÿæ­»é”çš„æ•…äº‹äº†ã€‚å¯¹äºè¿™ä»¶äº‹æƒ…å¤§å®¶æœ‰ä»€ä¹ˆçœ‹æ³•å‘¢ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€å“¦ã€‚ â€¦â€¦è¨€å½’æ­£ä¼ â€¦â€¦æˆ‘æœ¬åœ°å°†è¿™ä¸ªæ•°æ®è·‘äº†1000æ¬¡ï¼Œä¹Ÿæ²¡æœ‰æˆåŠŸå¤ç°ã€‚è€Œæ ¹æ®è¯¾ç¨‹ç»„æä¾›çš„åŠ å¯†è¾“å‡ºï¼Œå¯ä»¥å‘ç°äº§ç”Ÿæ­»é”çš„æ ·ä¾‹è¾“å‡ºä¸­é—´æœ‰æ˜æ˜¾é—´éš”æœŸï¼Œç„¶è€ŒCPUæ—¶é—´ä¸º1.2sï¼Œè¯´æ˜æ²¡æœ‰å‘ç”Ÿæš´åŠ›è½®è¯¢ï¼Œè€Œæˆ‘æ‰€é‡‡ç”¨çš„æ¶æ„æ˜¯äººç±»åœ¨æ¯æ¬¡ç”µæ¢¯å‘ç”Ÿæ¥¼å±‚æ”¹å˜æ—¶éƒ½ä¼šé‡æ–°å‘¼å«å½“å‰æœ€è¿‘çš„ç”µæ¢¯ï¼Œæ‰€ä»¥â€¦â€¦æˆ‘æ˜¯çœŸçš„æƒ³ä¸å‡ºæ¥åŸå› äº†â€¦â€¦è§£å†³åŠæ³•å°±æ˜¯ç»™waitä»·æ ¼æ—¶é—´é™åˆ¶è¯•è¯•ï¼Ÿä½†æˆ‘ä¹Ÿä¸æ¸…æ¥šè¿™ä¸ªçš„ä½œç”¨ï¼Œæ¯•ç«Ÿç›´æ¥å†äº¤ä¸€éä¹Ÿè¿‡äº†â€¦â€¦ ä»¥ä¸Šï¼Œäº’æµ‹è¢«æ‰£åˆ†äº†æ˜¯æˆ‘èƒ½åŠ›ä¸å¤Ÿï¼Œç­‰è§£ç¦äº†ä¸€å®šè¦åŠ Riderè†œæ‹œä¸€ä¸‹ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿä¸ä¼šå¿˜è®°çš„ï¼Œä»¥åå§¿åŠ¿æ°´å¹³æå‡äº†è¦åŠªåŠ›å¼„æ˜ç™½ã€‚ äº”ã€äº’æµ‹ç­–ç•¥ç¬¬äº”ã€å…­æ¬¡æ²¡æœ‰å‘ç°ä»–äººBugï¼Œä½†æ˜¯ç¬¬å…­æ¬¡æœ‰æˆ¿é—´æˆå‘˜å‘ç°ä»–äººBugâ€¦â€¦ç¬¬ä¸ƒæ¬¡å‘ç°3å¤„Bugï¼ŒHackæˆåŠŸ2å¤„ã€‚ åœ¨äº’æµ‹æ—¶å‘ç°äº†åˆ«äººçš„çº¿ç¨‹ä¸å®‰å…¨Bugï¼š è°ƒåº¦å™¨ç±»ä½¿ç”¨for eachéå†å½“å‰ç”µæ¢¯åˆ—è¡¨ï¼Œå¦‚æœè¿™æ—¶å‡ºç°æ–°çš„ç”µæ¢¯æ·»åŠ è¯·æ±‚ï¼ˆè¿­ä»£è¿‡ç¨‹ä¸­è¿›è¡Œäº†ä¿®æ”¹ï¼‰ï¼Œå°±ä¼šæŠ›å¼‚å¸¸ã€‚ï¼ˆæäº¤4æ¬¡æ•°æ®æˆåŠŸ1æ¬¡ï¼‰ è€Œäº’æµ‹ç­–ç•¥ä¸Šï¼Œè¿™æ¬¡å°±æ²¡æœ‰å¯¹æ‹â€¦â€¦å¤šçº¿ç¨‹ä¸»è¦ä¾èµ–è‡ªåŠ¨æµ‹è¯•ï¼Œæ„Ÿè°¢HDLå­¦é•¿çš„å®šæ—¶è¾“å…¥è½®å­å’ŒæŸä½å­¦é•¿çš„è‡ªåŠ¨åŒ–æµ‹è¯•æœºå’ŒWPBçš„å¤šçº¿ç¨‹è¯„æµ‹æœºã€‚è¿™é‡Œå†æ¬¡è†œæ‹œä¸€ä¸‹ä¸€ä¸ªæ ·ä¾‹æäº¤20å¤šæ¬¡çš„å±…ä½åœ¨OOç½‘ç«™ä¸Šçš„Riderã€‚ ä¸€äº›å¡æ—¶é—´ç‚¹çš„æ•°æ®æˆ‘è¯•äº†ä¸‹æ— äººä¸­æ‹›â€¦â€¦æ¯•ç«Ÿå¯¹è‡ªå·±çš„æ€§èƒ½æœ‰ä¸€ç‚¹è‡ªä¿¡ï¼Œæ‰€ä»¥å½“æ—¶äº’æµ‹å°±æ²¡æœ‰æ·±å…¥æµ‹è¯•â€¦â€¦è¿™é‡Œå†æ¬¡è†œæ‹œä¸€ä¸‹å¡RTLEçš„å±…ä½åœ¨OOç½‘ç«™ä¸Šçš„Riderã€‚ å…­ã€å¿ƒå¾—ä½“ä¼šä»éš¾åº¦ä¸Šæ¥è¯´ï¼Œæˆ‘è§‰å¾—ç¬¬äºŒå•å…ƒæ¯”ç¬¬ä¸€å•å…ƒç•¥å°ã€‚ç¬¬ä¸€å•å…ƒä¸ºäº†æ€§èƒ½å’Œæ­£ç¡®æ€§ï¼Œéœ€è¦è€ƒè™‘çš„ä¸œè¥¿è¿˜æŒºå¤šçš„ã€‚è€Œè™½ç„¶è¯´ç›¸æ¯”å»å¹´ä»Šå¹´ç¬¬äºŒå•å…ƒçš„è¿›åº¦ææ—©ã€éœ€æ±‚å¢åŠ ï¼Œä½†æ˜¯æœ‰äº†ç¬¬ä¸€å•å…ƒå­¦ä¹ åˆ°çš„ç»éªŒï¼Œè¿­ä»£å¼€å‘ä½¿å¾—ä¸‰æ¬¡ä½œä¸šçš„æ”¹è¿›æ›´åŠ æ–¹ä¾¿ã€‚ è¿™ä¸€å•å…ƒå…³äºé”çš„æ¦‚å¿µç†è§£ä¸å®é™…æ“ä½œéå¸¸é‡è¦ï¼Œæˆ‘ä¸»è¦ä½¿ç”¨synchronizedå…³é”®å­—ä¿®é¥°å•ä¸€ç±»çš„æ–¹æ³•ï¼Œå‘ç”Ÿæ­»é”çš„æ¦‚ç‡è¾ƒä½ã€‚è€Œå¤šçº¿ç¨‹ä¹Ÿå¯¹è‡ªåŠ¨åŒ–æµ‹è¯•æœ‰äº†æ›´é«˜çš„è¦æ±‚ï¼Œä¹‹åä¹Ÿè¦å¼ºåŒ–Pythonç¼–ç¨‹èƒ½åŠ›ã€‚ ä¸è¿‡è¿™ä¸‰æ¬¡è¿˜æ˜¯èŠ±äº†å¾ˆå¤šæ—¶é—´åœ¨ä¿®å¤Bugä¸Šï¼Œå¸Œæœ›ä¸‹æ¬¡å¯ä»¥é¿å…ã€‚","permalink":"https://mondaycha.github.io/2020/04/09/414-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab2 å®éªŒæŠ¥å‘Š","date":"2020/04/04","text":"OS Lab2 å®éªŒæŠ¥å‘Šæ„Ÿè°¢PBï¼ŒPBå¤§æ•‘æ˜Ÿã€‚ ä¸€ã€å®éªŒæ€è€ƒé¢˜Thinking 2.1è¯·æ€è€ƒcacheç”¨è™šæ‹Ÿåœ°å€æ¥æŸ¥è¯¢çš„å¯èƒ½æ€§ï¼Œå¹¶ä¸”ç»™å‡ºè¿™ç§æ–¹å¼å¯¹è®¿å­˜å¸¦æ¥çš„å¥½å¤„å’Œåå¤„ã€‚å¦å¤–ï¼Œä½ èƒ½å¦èƒ½æ ¹æ®å‰ä¸€ä¸ªé—®é¢˜çš„è§£ç­”æ¥å¾—å‡ºç”¨ç‰©ç†åœ°å€æ¥æŸ¥è¯¢çš„ä¼˜åŠ¿? ç­”ï¼š å¦‚æœä½¿ç”¨è™šæ‹Ÿåœ°å€æ¥æŸ¥è¯¢cacheï¼š å¥½å¤„ï¼šå½“TLBæœªå‘½ä¸­ï¼Œcacheå‘½ä¸­æ—¶ï¼Œå¯ä»¥ç›´æ¥ç”¨è™šæ‹Ÿåœ°å€æŸ¥è¯¢ï¼Œä¸éœ€è¦ç»è¿‡MMUçš„è½¬æ¢ã€‚ åå¤„ï¼šä¸€ä¸ªç‰©ç†åœ°å€å¯æ˜ å°„åˆ°å¤šä¸ªè™šæ‹Ÿåœ°å€ï¼Œå¤šè¿›ç¨‹å…±ç”¨cacheå¯èƒ½ä¼šé€ æˆæ•°æ®è®¿é—®é”™è¯¯ï¼Œæœ€ç»ˆè¿˜æ˜¯éœ€è¦é€šè¿‡ç‰©ç†åœ°å€æ ¡éªŒæ˜¯å¦å‘½ä¸­ã€‚ ç”¨ç‰©ç†åœ°å€æ¥æŸ¥è¯¢çš„ä¼˜åŠ¿ï¼š ç”¨ç‰©ç†åœ°å€æŸ¥è¯¢ï¼Œç‰©ç†åœ°å€å‘½ä¸­åˆ™å¿…å‘½ä¸­ã€‚ Thinking 2.2è¯·æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œé’ˆå¯¹æˆ‘ä»¬æå‡ºçš„ç–‘é—®ï¼Œç»™å‡ºä¸€ä¸ªä¸Šè¿°æµç¨‹çš„ä¼˜åŒ–ç‰ˆæœ¬ï¼Œæ–°çš„ç‰ˆæœ¬éœ€è¦æœ‰æ›´å¿«çš„è®¿å­˜æ•ˆç‡ã€‚ï¼ˆæç¤ºï¼šè€ƒè™‘å¹¶è¡Œæ‰§è¡ŒæŸäº›æ­¥éª¤ï¼‰ ç­”ï¼š ä¼˜åŒ–ç‰ˆæœ¬ï¼š CPUç»™å‡ºè™šæ‹Ÿåœ°å€æ¥è®¿é—®æ•°æ®ï¼ŒTLBæ¥æ”¶åˆ°è¿™ä¸ªåœ°å€ä¹‹åæŸ¥æ‰¾æ˜¯å¦æœ‰å¯¹åº”çš„é¡µè¡¨é¡¹ã€‚ å‡è®¾é¡µè¡¨é¡¹å­˜åœ¨ï¼Œåˆ™æ ¹æ®ç‰©ç†åœ°å€åœ¨cacheä¸­æŸ¥è¯¢ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™MMUæ‰§è¡Œæ­£å¸¸çš„é¡µè¡¨æŸ¥è¯¢å·¥ä½œä¹‹åå†æ ¹æ®ç‰©ç†åœ°å€åœ¨cacheä¸­æŸ¥è¯¢ï¼ŒåŒæ—¶æ›´æ–°TLBä¸­çš„å†…å®¹ã€‚ å¦‚æœcacheå‘½ä¸­ï¼Œåˆ™ç›´æ¥è¿”å›ç»™CPUæ•°æ®ï¼›å¦‚æœæ²¡æœ‰å‘½ä¸­åˆ™æŒ‰ç…§ç›¸åº”çš„ç®—æ³•è¿›è¡Œcacheçš„æ›¿æ¢æˆ–è€…è£…å¡«ï¼ŒåŒæ—¶å¹¶è¡Œè¿”å›ç»™CPUæ•°æ®ã€‚ Thinking 2.3åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæœ‰è®¸å¤šå¯¹è™šæ‹Ÿåœ°å€æˆ–è€…ç‰©ç†åœ°å€æ“ä½œçš„å®å‡½æ•°(è¯¦è§include/mmu.h ),é‚£ä¹ˆæˆ‘ä»¬åœ¨è°ƒç”¨è¿™äº›å®çš„æ—¶å€™éœ€è¦å¼„æ¸…æ¥šéœ€è¦æ“ä½œçš„åœ°å€æ˜¯ç‰©ç†åœ°å€è¿˜æ˜¯è™šæ‹Ÿåœ°å€ï¼Œé˜…è¯»ä¸‹é¢çš„ä»£ç ï¼ŒæŒ‡å‡ºxæ˜¯ä¸€ä¸ªç‰©ç†åœ°å€è¿˜æ˜¯è™šæ‹Ÿåœ°å€ã€‚ int x;char *value = return_a_pointer();*value = 10;x = (int) value; ç­”ï¼š xæ˜¯è™šæ‹Ÿåœ°å€ã€‚ Thinking 2.4æˆ‘ä»¬åœ¨ include/queue.h ä¸­å®šä¹‰äº†ä¸€ç³»åˆ—çš„å®å‡½æ•°æ¥ç®€åŒ–å¯¹é“¾è¡¨çš„æ“ä½œã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨ include/queue.h æ–‡ä»¶ä¸­å®šä¹‰çš„é“¾è¡¨å’Œ glibc ç›¸å…³æºç è¾ƒä¸ºç›¸ä¼¼ï¼Œè¿™ä¸€é“¾è¡¨è®¾è®¡ä¹Ÿåº”ç”¨äº Linux ç³»ç»Ÿä¸­ (sys/queue.h æ–‡ä»¶)ã€‚è¯·é˜…è¯»è¿™äº›å®å‡½æ•°çš„ä»£ç ï¼Œè¯´è¯´å®ƒä»¬çš„åŸç†å’Œå·§å¦™ä¹‹å¤„ã€‚ ç­”ï¼š åŸç†ï¼šé€šè¿‡å®å®šä¹‰çš„å½¢å¼æè¿°åŒå‘é“¾è¡¨ã€‚ å·§å¦™ä¹‹å¤„ï¼š ä¸ä¾èµ–å…·ä½“çš„ç±»å‹ï¼Œç”±å®å®šä¹‰çš„ä¼ å‚å†³å®šã€‚ é‡‡ç”¨ç‰¹æ®Šçš„åŒé‡é“¾è¡¨ç»“æ„ï¼Œå¥½å¤„æ˜¯åˆ é™¤æ–¹ä¾¿ã€‚æ¯”å¦‚åœ¨Pageç»“æ„ä½“ä¸­ï¼Œpp_linkæœ‰ä¸¤ä¸ªåŸŸï¼Œå…¶ä¸­le_nextæŒ‡å‘ä¸‹ä¸€ä¸ªé¡µç»“æ„ä½“ï¼Œle_prevæŒ‡å‘ä¸Šä¸€ä¸ªé¡µç»“æ„ä½“çš„pp_linkçš„le_nextã€‚è¿™æ ·åœ¨è¿›è¡Œåˆ é™¤çš„æ—¶å€™ä¸»è¦çŸ¥é“éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹å°±å¯ä»¥äº†ã€‚ Thinking 2.5æˆ‘ä»¬æ³¨æ„åˆ°æˆ‘ä»¬æŠŠå®å‡½æ•°çš„å‡½æ•°ä½“å†™æˆäº† do { /* ... */ } while(0)çš„å½¢å¼ï¼Œè€Œä¸æ˜¯ä»…ä»…å†™æˆå½¢å¦‚ { /* ... */ } çš„è¯­å¥å—ï¼Œè¿™æ ·çš„å†™æ³•å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ ç­”ï¼š è¾…åŠ©å®šä¹‰å¤æ‚çš„å®ï¼Œé¿å…åœ¨è¿›è¡Œå¼•ç”¨æ—¶å‡ºé”™ï¼Œä½¿å®åœ¨å±•å¼€åä¿ç•™è¯­ä¹‰ã€‚ Thinking 2.6æ³¨æ„ï¼Œæˆ‘ä»¬å®šä¹‰çš„ Page ç»“æ„ä½“åªæ˜¯ä¸€ä¸ªä¿¡æ¯çš„è½½ä½“ï¼Œå®ƒåªä»£è¡¨äº†ç›¸åº”ç‰©ç†å†…å­˜é¡µçš„ä¿¡æ¯ï¼Œå®ƒæœ¬èº«å¹¶ä¸æ˜¯ç‰©ç†å†…å­˜é¡µã€‚ é‚£æˆ‘ä»¬çš„ç‰©ç†å†…å­˜é¡µç©¶ç«Ÿåœ¨å“ªå‘¢ï¼ŸPage ç»“æ„ä½“åˆæ˜¯é€šè¿‡æ€æ ·çš„æ–¹å¼æ‰¾åˆ°å®ƒä»£è¡¨çš„ç‰©ç†å†…å­˜é¡µçš„åœ°å€å‘¢ï¼Ÿ è¯·ä½ é˜…è¯» include/pmap.h ä¸ mm/pmap.c ä¸­ç›¸å…³ä»£ç ï¼Œç»™å‡ºä½ çš„æƒ³æ³•ã€‚ ç­”ï¼š ç‰©ç†å†…å­˜é¡µåœ¨è®¾å¤‡çš„ç‰©ç†å†…å­˜ä¸­ï¼ŒPage ç»“æ„ä½“ç”±allocåˆå§‹åŒ–å…¥å£ï¼Œæ ¹æ®Page ç»“æ„ä½“æŒ‡é’ˆï¼Œé€šè¿‡page2paï¼Œå‡å»èµ·å§‹ä½æ‰¾åˆ°å®ƒçš„é¡µå·ï¼Œä¹˜ä»¥é¡µé¢å¤§å°ï¼Œå¾—åˆ°å…¶ä»£è¡¨çš„ç‰©ç†å†…å­˜é¡µçš„åœ°å€ã€‚ Thinking 2.7è¯·é˜…è¯» include/queue.h ä»¥åŠ include/pmap.h, å°†Page_listçš„ç»“æ„æ¢³ç†æ¸…æ¥š,é€‰æ‹©æ­£ç¡®çš„å±•å¼€ç»“æ„(è¯·æ³¨æ„æŒ‡é’ˆ)ã€‚ ç­”ï¼š C: struct Page_list{ struct { struct { struct Page *le_next; struct Page **le_prev; } pp_link; u_short pp_ref; }* lh_first;} Thinking 2.8åœ¨ mmu.h ä¸­å®šä¹‰äº† bzero(void *b, size_t) è¿™æ ·ä¸€ä¸ªå‡½æ•°,è¯·ä½ æ€è€ƒï¼Œæ­¤å¤„çš„bæŒ‡é’ˆæ˜¯ä¸€ä¸ªç‰©ç†åœ°å€ï¼Œ è¿˜æ˜¯ä¸€ä¸ªè™šæ‹Ÿåœ°å€å‘¢ï¼Ÿ ç­”ï¼š è™šæ‹Ÿåœ°å€ã€‚ Thinking 2.9äº†è§£äº†äºŒçº§é¡µè¡¨é¡µç›®å½•è‡ªæ˜ å°„çš„åŸç†ä¹‹åï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒWin2kå†…æ ¸çš„è™šå­˜ç®¡ç†ä¹Ÿæ˜¯é‡‡ç”¨äº†äºŒçº§é¡µè¡¨çš„å½¢å¼ï¼Œå…¶é¡µè¡¨æ‰€å çš„ 4M ç©ºé—´å¯¹åº”çš„è™šå­˜èµ·å§‹åœ°å€ä¸º 0xC0000000ï¼Œé‚£ä¹ˆï¼Œå®ƒçš„é¡µç›®å½•çš„èµ·å§‹åœ°å€æ˜¯å¤šå°‘å‘¢ï¼Ÿ ç­”ï¼š 0xC0030000 è®¡ç®—æ–¹å¼ï¼š0xC0000000 + (0xC0000000 >> 12) * 4 = 0xC0030000ã€‚ Thinking 2.10æ³¨æ„åˆ°é¡µè¡¨åœ¨è¿›ç¨‹åœ°å€ç©ºé—´ä¸­è¿ç»­å­˜æ”¾ï¼Œå¹¶çº¿æ€§æ˜ å°„åˆ°æ•´ä¸ªåœ°å€ç©ºé—´ï¼Œæ€è€ƒï¼šæ˜¯å¦å¯ä»¥ç”±è™šæ‹Ÿåœ°å€ç›´æ¥å¾—åˆ°å¯¹åº”é¡µè¡¨é¡¹çš„è™šæ‹Ÿåœ°å€ï¼Ÿä¸Šä¸€èŠ‚æœ«å°¾æ‰€è¿°è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€æ­¥æŸ¥é¡µç›®å½•æœ‰å¿…è¦å—ï¼Œä¸ºä»€ä¹ˆï¼Ÿ ç­”ï¼š ç”±é¡µè¡¨ä¸è™šæ‹Ÿåœ°å€ç©ºé—´çš„æ˜ å°„å…³ç³»ï¼Œå¯ä»¥æ ¹æ®è™šæ‹Ÿåœ°å€å¾—åˆ°å¯¹åº”é¡µè¡¨é¡¹çš„è™šæ‹Ÿåœ°å€ã€‚ æœ‰å¿…è¦ã€‚ç¬¬ä¸€æ­¥æŸ¥é¡µç›®å½•è·å–çš„æ—¶äºŒçº§é¡µè¡¨çš„ç‰©ç†åœ°å€ã€‚ Thinking 2.11æ€è€ƒä¸€ä¸‹tlb_out æ±‡ç¼–å‡½æ•°ï¼Œç»“åˆä»£ç é˜è¿°ä¸€ä¸‹è·³è½¬åˆ°NOFOUNDçš„æµç¨‹ï¼Ÿä»MIPSæ‰‹å†Œä¸­æŸ¥æ‰¾tlbpå’ŒtlbwiæŒ‡ä»¤ï¼Œæ˜ç¡®å…¶ç”¨é€”ï¼Œå¹¶è§£é‡Šä¸ºä½•ç¬¬10è¡Œå¤„æŒ‡ä»¤åæœ‰4æ¡nopæŒ‡ä»¤ã€‚ ç­”ï¼š è·³è½¬åˆ°NOFOUNDçš„æµç¨‹ï¼š ä¿å­˜CP0_ENTRYHIçš„å€¼ï¼Œåˆ·æ–°CP0_ENTRYHIï¼ŒæŸ¥è¯¢TLBè¡¨é¡¹ï¼Œå¦‚æ— æ•ˆè·³è½¬åˆ°NOFOUNDï¼Œå¹¶æ¢å¤CP0_ENTRYHIçš„å€¼ï¼›è‹¥æœ‰æ•ˆï¼Œvalidå†™å…¥0ï¼Œè·³è½¬åˆ°NOFOUNDï¼Œå¹¶æ¢å¤CP0_ENTRYHIçš„å€¼ã€‚ æŒ‡ä»¤ï¼š Format: TLBP MIPS32Purpose: To find a matching entry in the TLB. Format: TLBWI MIPS32Purpose: To write a TLB entry indexed by the Index register. TLBPç”¨äºæŸ¥æ‰¾TLBï¼ŒTLBWIç”¨äºå‘TLBæŒ‡å®šä½ç½®å†™å…¥ã€‚ 4æ¡nopæŒ‡ä»¤ï¼š æ¸…ç©ºæµæ°´çº¿ï¼Œé˜²æ­¢å¼‚å¸¸å‡ºç°å½±å“CP0å·¥ä½œã€‚ Thinking 2.12æ˜¾ç„¶ï¼Œè¿è¡Œåç»“æœä¸æˆ‘ä»¬é¢„æœŸçš„ä¸ç¬¦ï¼Œvaå€¼ä¸º0x88888ï¼Œç›¸åº”çš„paä¸­çš„å€¼ä¸º0ã€‚è¿™è¯´æ˜æˆ‘ä»¬çš„ä»£ç ä¸­å­˜åœ¨é—®é¢˜ï¼Œè¯·ä½ ä»”ç»†æ€è€ƒæˆ‘ä»¬çš„è®¿å­˜æ¨¡å‹ï¼ŒæŒ‡å‡ºé—®é¢˜æ‰€åœ¨ã€‚ ç­”ï¼š åœ¨ä»£ç ä¸­ä½¿ç”¨äº†va2paå‡½æ•°ï¼Œè¿”å›çš„æ˜¯é¡µçš„èµ·å§‹åœ°å€ï¼Œè½¬æ¢è¿‡ç¨‹ä¸­æ¸…ç©ºäº†ä½12ä½ï¼Œå› æ­¤è·å–çš„paå¹¶ä¸æ˜¯0x88888å¯¹åº”çš„å€¼ã€‚ Thinking 2.13åœ¨X86ä½“ç³»ç»“æ„ä¸‹çš„æ“ä½œç³»ç»Ÿï¼Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å¯„å­˜å™¨CR4ï¼Œåœ¨å…¶ä¸­æœ‰ä¸€ä¸ªPSEä½ï¼Œå½“è¯¥ä½è®¾ä¸º1æ—¶å°†å¼€å¯4MBå¤§ç‰©ç†é¡µé¢æ¨¡å¼ï¼Œè¯·æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œè¯´æ˜å½“PSEå¼€å¯æ—¶çš„é¡µè¡¨ç»„ç»‡å½¢å¼ä¸æˆ‘ä»¬å½“å‰çš„é¡µè¡¨ç»„ç»‡å½¢å¼çš„åŒºåˆ«ã€‚ ç­”ï¼š ç›®å‰æ˜¯äºŒçº§é¡µè¡¨ç»„ç»‡å½¢å¼ï¼Œå¼€å¯4MBå¤§ç‰©ç†é¡µé¢æ¨¡å¼åæ˜¯ä¸€ä¸ªä¸€çº§é¡µè¡¨è¡¨é¡¹ç›´æ¥æ˜ å°„åˆ°4MBå¤§å°çš„é¡µã€‚åœ¨Xv6ç³»ç»Ÿåˆå§‹åŒ–æ—¶ï¼Œä¼šä½¿ç”¨åˆ°4MBå¤§é¡µã€‚ Thinking 2.11ï¼ˆæŒ‡å¯¼ä¹¦ï¼‰è§‚å¯Ÿç»™å‡ºçš„ä»£ç å¯ä»¥å‘ç°ï¼Œpage_insert ä¼šé»˜è®¤ä¸ºé¡µé¢è®¾ç½®PTE_Vçš„æƒé™ã€‚è¯·é—®ï¼Œä½ è®¤ä¸ºæ˜¯å¦åº”è¯¥å°†PTE_R ä¹Ÿä½œä¸ºé»˜è®¤æƒé™ï¼Ÿå¹¶è¯´æ˜ç†ç”±ã€‚ ç­”ï¼š ä¸åº”è¯¥ï¼ŒPTE_Rä¸ºå†™æƒé™ä½ï¼Œè€Œåœ¨è¿›è¡Œpage_insertæ—¶å¹¶ä¸çŸ¥é“é¡µé¢æ˜¯å¦å¯å†™ã€‚ äºŒã€å®éªŒéš¾ç‚¹å›¾ç¤ºå®éªŒä¸­æ¯”è¾ƒéš¾çš„åœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯è¿™é‡Œçš„åœ°å€è½¬æ¢ï¼š å¦å¤–ä¸€ä¸ªåœ°æ–¹å°±æ˜¯åŒé‡é“¾è¡¨çš„æ“ä½œï¼Œè¿™è¾¹çš„é“¾è¡¨æ“ä½œå‡½æ•°å®åœ¨æ˜¯ç»•â€¦â€¦æ¯”å¦‚LIST_INSERT_BEFOREå‡½æ•°ï¼š /* * Insert the element \"elm\" *before* the element \"listelm\" which is * already in the list. The \"field\" name is the link element * as above. */#define LIST_INSERT_BEFORE(listelm, elm, field) do { \\ (elm)->field.le_prev = (listelm)->field.le_prev; \\ LIST_NEXT((elm), field) = (listelm); \\ *(listelm)->field.le_prev = (elm); \\ (listelm)->field.le_prev = &LIST_NEXT((elm), field); \\ } while (0) è¿™é‡Œçš„9æ˜¯*((listelm)->field.le_prev)ï¼Œä¹Ÿå°±æ˜¯listelmçš„ä¸Šä¸€ä¸ªpreelmçš„nextæŒ‡å‘æ’å…¥çš„elmï¼›10åˆ™æ˜¯è®©listelmçš„prevæŒ‡é’ˆæŒ‡å‘elmçš„nextæŒ‡é’ˆï¼Œä»è€Œå®ç°é“¾è¡¨çš„å‰æ’æ“ä½œã€‚ å†æ¬¡ç¥­å‡ºè¿™å¼ ç¾¤å‹å‘çš„å›¾ï¼ˆç°åœ¨æƒ³æƒ³æ•°æ®ç»“æ„æ˜¯å¤§ä¸€ä¸‹ï¼Œå½¼æ—¶æ˜¯å¤§äºŒä¸‹çš„åŠ©æ•™ä»¬å¤§æ¦‚ç‡å°±æ˜¯ä»OSè¯¾ä¸Šè·å¾—çš„çµæ„Ÿï¼‰ï¼š æ‰€ä»¥LIST_REMOVEå‡½æ•°å°±æ˜¯è¿™ä¹ˆå†™çš„ï¼š /* * Remove the element \"elm\" from the list. * The \"field\" name is the link element as above. */#define LIST_REMOVE(elm, field) do { \\ if (LIST_NEXT((elm), field) != NULL) \\ LIST_NEXT((elm), field)->field.le_prev = \\ (elm)->field.le_prev; \\ *(elm)->field.le_prev = LIST_NEXT((elm), fieldc); \\ } while (0) è¦ä»é“¾è¡¨ä¸­åˆ é™¤elmï¼Œé‚£ä¹ˆå°±å…ˆæŠŠelmçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„prevæŒ‡é’ˆè®¾ç½®ä¸ºelmçš„å‰ä¸€ä¸ªå…ƒç´ çš„nextï¼Œå†å°†elmçš„ä¸Šä¸€ä¸ªpreelmçš„nextæŒ‡å‘åä¸€ä¸ªelmã€‚åˆ é™¤è¿™ä¸ªå…ƒç´ åªéœ€çŸ¥é“å…¶è‡ªèº«ã€‚ æœ€åæ˜¯æ€ç»´å¯¼å›¾å¼çš„éš¾ç‚¹æ ‘â€”â€” ![](G:\\OneDrive\\OneDrive - buaa.edu.cn\\MWD\\å­¦ä¹ \\æ“ä½œç³»ç»Ÿ\\ä½œä¸š\\Refer\\å†…å­˜ç®¡ç†éš¾ç‚¹.png) ä¸‰ã€ä½“ä¼šä¸æ„Ÿæƒ³Lab2éš¾åº¦è¯„ä»·ï¼šâ˜…â˜…â˜…â˜…â˜† Lab2-extraéš¾åº¦è¯„ä»·ï¼šâ˜…â˜…â˜…â˜†â˜† èŠ±è´¹æ—¶é—´ï¼šLab2 15hï¼ŒLab2-extra 4h ä½“ä¼šå’Œæ„Ÿæƒ³ï¼š ç¬¬äºŒæ¬¡Labæˆ‘ä¹Ÿå†™äº†å¾ˆä¹…ï¼Œæ€»ç»“å‘åœ¨äº†è‡ªå·±çš„æš‚å®šÂ·åšå®¢é‡Œâ€”â€”https://mondaycha.github.io/2020/03/29/329-1/ã€‚ è¿™ä¹Ÿæ˜¯ä¸€æ¬¡å¾ˆæœ‰æŒ‘æˆ˜æ€§çš„Labï¼Œåˆ†å€¼ä¹Ÿå¾ˆé«˜ã€‚æ„Ÿè°¢å­¦é•¿çš„èµ„æ–™ä»¥åŠç¾¤é‡Œçš„è®¨è®ºï¼Œè®©æˆ‘å­¦åˆ°äº†å¾ˆå¤šã€‚OSå¯¹è‡ªå­¦çš„è¦æ±‚å¾ˆé«˜ï¼Œä¹‹åä¹Ÿè¦ç»§ç»­åŠ æ²¹ã€‚","permalink":"https://mondaycha.github.io/2020/04/04/404-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week5","date":"2020/04/02","text":"çˆ±è¯¾ç¨‹ 2.3 é£æœºçš„é˜»åŠ›åœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œç”±äºæµç¨‹ä¹‹é—´æœ‰å†…æ‘©æ“¦ï¼Œåœ¨é è¿‘ç®¡å£çš„æ—¶å€™æµé€Ÿæ…¢ä¸€ç‚¹ã€‚ç©ºæ°”å’Œç©ºæ°”ä¹‹é—´çš„æµç¨‹ä¼šäº§ç”Ÿæ‘©æ“¦ï¼Œç©ºæ°”ä¸é£è¡Œå™¨çš„è¡¨é¢ä¹Ÿä¼šäº§ç”Ÿæ‘©æ“¦ã€‚ç©ºæ°”çš„ç²˜æ€§ä½è¡¨é¢å…‰æ»‘åº¦ï¼Œæ°”æµæµåŠ¨çŠ¶æ€ï¼Œä½“è¡¨é¢ç§¯å¤§å°éƒ½æ˜¯ç²˜æ€§æ‘©æ“¦é˜»åŠ›çš„å½±å“å› ç´ ã€‚ç›¸åŒçš„è¿é£æˆªé¢ç§¯æ¡ä»¶ä¸‹ï¼Œä¸åŒå½¢çŠ¶å’Œå°ºå¯¸çš„ç‰©ä½“ä¸Šæœ‰ç›¸åŒçš„é˜»åŠ›ã€‚ çˆ±è¯¾ç¨‹ 3.1 è¶…å£°é€Ÿé£è¡Œç‰¹ç‚¹åœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œè¶…å£°é€Ÿé£æœºçš„å¤šç§ç¿¼å‹ï¼Œå°½å¯èƒ½å…¼é¡¾é«˜é€Ÿé£è¡Œä¸ä½é€Ÿé£è¡Œä¹‹é—´çš„çŸ›ç›¾ã€‚å›½äº§æ­¼åä½¿ç”¨çš„æ˜¯é¸­å¼ç¿¼ã€‚è¶…å£°é€Ÿé£è¡Œè¿˜ä¼šäº§ç”Ÿå£°çˆ†å’Œçƒ­éšœï¼Œå¯¹å‘¨å›´ç¯å¢ƒå’Œé£æœºçš„é£è¡Œéƒ½æœ‰ç€æ¯”è¾ƒå¤§çš„å½±å“ã€‚è¶…å£°é€Ÿé£è¡Œå™¨æ¯”ä½äºšå£°é€Ÿé£è¡Œå™¨æœ‰äº†å¾ˆå¤§çš„å¤–å½¢åŒºåˆ«ã€‚ ä¸ºä»€ä¹ˆé£æœºè®¾è®¡æ—¶è¦å°½é‡å¢å¤§å‡åŠ›ï¼Ÿå¦‚åŒå¥¥è¿ç²¾ç¥æ˜¯æ›´é«˜æ›´å¿«æ›´å¼ºï¼Œé£è¡Œå™¨ä¹Ÿåœ¨è¿½æ±‚æ›´é«˜æ›´å¿«æ›´è¿œæ›´å®‰å…¨æ›´èˆ’é€‚ã€‚åœ¨é£æœºè®¾è®¡æ—¶è¦å°½é‡å¢å¤§å‡åŠ›ï¼Œå› ä¸ºè¿™æ ·å°±å¯ä»¥æ‰¿è½½æ›´å¤§çš„é‡é‡ã€‚æ›´åŠ ç¬¦åˆäººä»¬å¯¹èˆªç©ºè¿è¾“çš„é£è¡Œå™¨å®é™…åº”ç”¨çš„éœ€æ±‚ã€‚ ä¸ºä»€ä¹ˆé£æœºè®¾è®¡æ—¶è¦å°½é‡å‡å°é˜»åŠ›ï¼Ÿå½±å“é£æœºé£è¡Œçš„å› ç´ ä¸»è¦æ˜¯å‡åŠ›å’Œé˜»åŠ›ï¼Œé€šè¿‡å‡å°é˜»åŠ›åœ¨è¿›è¡Œé£è¡Œçš„è¿‡ç¨‹ä¸­å°±å¯ä»¥é‡‡ç”¨æ›´å°çš„å‘åŠ¨æœºåŠŸç‡ï¼Œæ›´åŠ ç»æµã€‚å¦å¤–é˜»åŠ›è¾ƒå¤§æ—¶ä¹Ÿä¼šäº§ç”Ÿç²˜æ€§æ‘©æ“¦ç­‰ï¼Œå¯¹é£æœºçš„åˆ¶é€ ææ–™ä¹Ÿæœ‰äº†æ›´é«˜çš„è¦æ±‚ï¼Œæ‰€ä»¥å°½é‡å‡å°é˜»åŠ›æœ‰åˆ©äºé£æœºçš„å®‰å…¨ç¨³å®šæ€§ã€‚","permalink":"https://mondaycha.github.io/2020/04/02/402-1/","photos":[]},{"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://mondaycha.github.io/tags/%E9%9A%8F%E7%AC%94/"}],"categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://mondaycha.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"title":"Shields æµ‹è¯•","date":"2020/03/31","text":"è¿™æ˜¯æµ‹è¯•é¡µï¼Œå¦‚æœæ­£å¸¸ï¼Œä¸‹æ–¹æœ‰å›¾ç‰‡â€”â€” æ„Ÿè°¢YLSç»™æˆ‘çš„Bilibiliç²‰ä¸åšçš„å°ç‰Œç‰Œ","permalink":"https://mondaycha.github.io/2020/03/31/331-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://mondaycha.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab2 å­¦ä¹ ç¬”è®° (Part 2)","date":"2020/03/29","text":"OS Lab2çš„éš¾åº¦è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œä¸ºäº†æ›´å¥½çš„æŒæ¡ï¼Œæˆ‘å¸Œæœ›èƒ½é€šè¿‡æ’°å†™åšå®¢åŠ æ·±å¯¹ç›¸å…³çŸ¥è¯†ç‚¹çš„ç†è§£ã€‚ å­¦ä¹ æ—¶çš„å‚è€ƒèµ„æ–™åœ¨å­¦ä¹ Lab2çš„è¿‡ç¨‹ä¸­ï¼Œæœ€æ­£ç»çš„æ–¹å¼åº”è¯¥æ˜¯è®¤çœŸé˜…è¯»æ‰€æœ‰ç›¸å…³çš„ä»£ç ä¸å®â€¦â€¦ä¸è¿‡å‘ç°äº†ä¸¤åå­¦é•¿çš„åšå®¢ï¼Œå¯¹äºLab2çš„ä»‹ç»å¾ˆå……åˆ†â€”â€” LAB2åˆå§‹åŒ–æµç¨‹çš„æ¢³ç†ï¼šhttps://ausar.xyz/index.php/archives/66/#comments æ“ä½œç³»ç»Ÿlab2å®éªŒæ€»ç»“â€”â€”Part1ï¼šhttps://www.cnblogs.com/puublog/p/10657916.html å¸Œæœ›èƒ½è¾¹å†™è¾¹ç†æ¸…æ€è·¯â€¦â€¦è¦ä¸ç„¶è¯¾ä¸Šæµ‹è¯•bissâ€¦â€¦ MMU/TLBå’Œå†…å­˜è®¿é—®Lab2çš„å†…å®¹ä¸»è¦ä¸å†…å­˜ç®¡ç†æœ‰å…³ã€‚å†…å­˜ç¿»è¯‘ä¸­çš„ä¸¤å¤§éƒ¨ä»¶ï¼šMMUå’ŒTLBï¼Œå…¶ä¸­MMUæ˜¯ç¡¬ä»¶è®¾å¤‡ï¼Œå°†é€»è¾‘åœ°å€æ˜ å°„ä¸ºç‰©ç†åœ°å€ï¼Œå¹¶å¯ä»¥å®ç°å†…å­˜è®¿é—®çš„æƒé™æ£€æŸ¥ã€‚TLBåˆ™æ˜¯ä¸ºäº†è§£å†³å¤šçº§é¡µè¡¨å¸¦æ¥çš„è®¿å­˜ä½æ•ˆçš„é—®é¢˜ï¼Œæ˜¯é¡µè¡¨çš„ä¸€éƒ¨åˆ†é«˜é€Ÿç¼“å­˜ï¼Œè®©è®¡ç®—æœºèƒ½å¤Ÿä¸ç»è¿‡é¡µè¡¨å°±æŠŠè™šæ‹Ÿåœ°å€æ˜ å°„æˆç‰©ç†åœ°å€ã€‚ è€Œå…³äºCacheï¼Œè¿™éƒ¨åˆ†æˆ‘å…¶å®è¿˜ä¸æ˜¯ç‰¹åˆ«ç†è§£ï¼Œåœ¨åšæ€è€ƒé¢˜çš„æ—¶å€™å†æƒ³æ¸…æ¥šã€‚ MIPSè™šæ‹Ÿæ˜ å°„å¸ƒå±€32ä½çš„MIPS CPUæœ€å¤§å¯»å€ç©ºé—´ä¸º4GB(2^32å­—èŠ‚)ï¼Œè¢«åˆ’åˆ†ä¸º4éƒ¨åˆ†â€”â€” kusegï¼Œ2Gï¼Œç”¨æˆ·å†…å­˜ç©ºé—´ï¼Œéœ€è¦é€šè¿‡MMUè¿›è¡Œè™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢ã€‚ kseg0ï¼Œ512Mï¼Œå†…æ ¸åœ°å€ï¼Œå°†æœ€é«˜ä½æ¸…é›¶å°±å¯ä»¥è¢«è½¬æ¢ä¸ºç‰©ç†åœ°å€ï¼Œä½¿ç”¨ç¼“å­˜ã€‚ kseg1ï¼Œ512Mï¼Œå†…æ ¸åœ°å€ï¼Œé«˜ä¸‰ä½æ¸…é›¶å¯è½¬æ¢ï¼Œä¸ä½¿ç”¨ç¼“å­˜ï¼Œé€šå¸¸ç”¨æ¥å®ç°å¯¹å¤–è®¾çš„è®¿é—®ã€‚ kseg2ï¼Œ1Gï¼Œåªèƒ½åœ¨å†…æ ¸æ€ä½¿ç”¨ï¼Œéœ€è¦MMUçš„è½¬æ¢ã€‚ å…¶ä»–å°Point: å†…æ ¸æ€ä¸Šè¿°è™šå­˜ç©ºé—´éƒ½å¯ä»¥è®¿é—® kusegã€kseg2è®¿é—®éœ€è¦é€šè¿‡MMU ç‰©ç†å†…å­˜ç®¡ç†åˆå§‹åŒ–æµç¨‹è¯´æ˜åœ¨Lab2ï¼Œå†…æ ¸åŠ è½½å®Œæ¯•åè·³è½¬åˆ°init/main.cä¸‹æ‰§è¡Œç¨‹åºï¼Œ main.cå†…éƒ¨è°ƒç”¨äº†mips_init();ï¼Œè¿™æ˜¯ä¸€ä¸ªæ­»å¾ªç¯å‡½æ•°ï¼Œå¦‚æœåœæ­¢åˆ™ä¼šé€šè¿‡panicæŠ¥é”™ã€‚é‚£ä¹ˆpanicæ˜¯å•¥å‘¢ï¼Ÿåœ¨include/printf.hä¸‹å¯ä»¥æ‰¾åˆ°å®šä¹‰ï¼š #define panic(...) _panic(__FILE__, __LINE__, __VA_ARGS__) å…·ä½“æŸ¥çœ‹include/printf.cï¼Œå‘ç°åœ¨æ‰“å°é”™è¯¯ä¿¡æ¯ä¹‹åå°±é™·å…¥æ­»å¾ªç¯ç­‰å¾…ä¸­æ–­å¤„ç†ã€‚ mips_init();é€šè¿‡mips_detect_memory();ï¼Œmips_vm_init();ï¼Œpage_init();ä¸‰ä¸ªå‡½æ•°æ¥å®ç°ç‰©ç†å†…å­˜ç®¡ç†çš„ç›¸å…³æ•°æ®ç»“æ„çš„åˆå§‹åŒ–ã€‚ å†…å­˜æ§åˆ¶å—4KBä¸ºä¸€é¡µï¼Œå†…å­˜åˆ†é…ä¹Ÿæ˜¯ä»¥é¡µä¸ºåŸºæœ¬å•ä½è¿›è¡Œã€‚ä¸ºäº†è®°å½•åˆ†é…æƒ…å†µï¼Œè¯¾ç¨‹ä¸­ä½¿ç”¨Pageç»“æ„ä½“ä¿å­˜ä¸€é¡µå†…å­˜ç›¸å…³ä¿¡æ¯ï¼Œå®šä¹‰åœ¨include/pamp.hä¸­ï¼š typedef LIST_ENTRY(Page) Page_LIST_entry_t;struct Page { Page_LIST_entry_t pp_link; /* free list link */ // Ref is the count of pointers (usually in page table entries) // to this page. This only holds for pages allocated using // page_alloc. Pages allocated at boot time using pmap.c's \"alloc\" // do not have valid reference count fields. u_short pp_ref;}; pp_linkçš„ç±»å‹ä¸ºLIST_ENTRY(Page)ï¼Œå…¶å®šä¹‰å¯ä»¥åœ¨include/queue.hä¸­æ‰¾åˆ°ï¼š /* * Use this inside a structure \"LIST_ENTRY(type) field\" to use * x as the list piece. * * The le_prev points at the pointer to the structure containing * this very LIST_ENTRY, so that if we want to remove this list entry, * we can do *le_prev = le_next to update the structure pointing at us. */#define LIST_ENTRY(type) \\ struct { \\ struct type *le_next; /* next element */ \\ struct type **le_prev; /* address of previous next element */ \\ } è¿™å°±æ˜¯åœ¨ä¸Šæ¬¡çš„æ€»ç»“ä¸­æè¿‡çš„ç‰¹æ®Šçš„åŒé‡é“¾è¡¨ç»“æ„ï¼Œå¥½å¤„æ˜¯åˆ é™¤æ–¹ä¾¿ã€‚æ‰€ä»¥åœ¨Pageç»“æ„ä½“ä¸­ï¼Œpp_linkæœ‰ä¸¤ä¸ªåŸŸï¼Œå…¶ä¸­le_nextæŒ‡å‘ä¸‹ä¸€ä¸ªé¡µç»“æ„ä½“ï¼Œle_prevæŒ‡å‘ä¸Šä¸€ä¸ªé¡µç»“æ„ä½“çš„pp_linkçš„le_nextã€‚(listelm)->field.le_prevæ˜¯listelmä¸Šä¸€ä¸ªelmçš„le_nextï¼Œè®©å®ƒæŒ‡å‘æ–°å¢çš„elmã€‚å…³äºè¿™ä¸€ç‚¹å¯ä»¥åœ¨include/queue.hä¸­çš„LIST_INSERT_AFTERå®šä¹‰ä¸­æ‰¾åˆ°ï¼š (elm)->field.le_prev = &((listelm)->field.le_next); pp_refåˆ™æ˜¯è¿™ä¸€é¡µé¢çš„å¼•ç”¨æ¬¡æ•°ã€‚æ‰€ä»¥Pageç»“æ„ä½“å¤§æ¦‚å°±æ˜¯ä¸€å¼ å­˜å‚¨é¡µä½¿ç”¨ä¿¡æ¯ã€åœ°å€çš„é“¾è¡¨ï¼Œæœ¬èº«å¹¶ä¸æ˜¯ç‰©ç†å†…å­˜é¡µã€‚ä¹‹åçš„exercise2.1å°±æ˜¯å…³äºé“¾è¡¨æ“ä½œå‡½æ•°LIST_INSERT_HEADå’ŒLIST_INSERT_TAILçš„è¡¥å…¨ã€‚å•ä»æ’å…¥æ•ˆç‡çš„è§’åº¦LIST_INSERT_HEADå‡½æ•°æ˜¾ç„¶æ›´å¥½ä¸€äº›ï¼Œåè€…è¿˜è¦éå†é“¾è¡¨ã€‚ è¿™è¾¹çš„é“¾è¡¨æ“ä½œå‡½æ•°å®åœ¨æ˜¯ç»•â€¦â€¦æ¯”å¦‚LIST_INSERT_BEFOREå‡½æ•°ï¼š /* * Insert the element \"elm\" *before* the element \"listelm\" which is * already in the list. The \"field\" name is the link element * as above. */#define LIST_INSERT_BEFORE(listelm, elm, field) do { \\ (elm)->field.le_prev = (listelm)->field.le_prev; \\ LIST_NEXT((elm), field) = (listelm); \\ *(listelm)->field.le_prev = (elm); \\ (listelm)->field.le_prev = &LIST_NEXT((elm), field); \\ } while (0) è¿™é‡Œçš„9æ˜¯*((listelm)->field.le_prev)ï¼Œä¹Ÿå°±æ˜¯listelmçš„ä¸Šä¸€ä¸ªpreelmçš„nextæŒ‡å‘æ’å…¥çš„elmï¼›10åˆ™æ˜¯è®©listelmçš„prevæŒ‡é’ˆæŒ‡å‘elmçš„nextæŒ‡é’ˆï¼Œä»è€Œå®ç°é“¾è¡¨çš„å‰æ’æ“ä½œã€‚ å†æ¬¡ç¥­å‡ºè¿™å¼ ç¾¤å‹å‘çš„å›¾ï¼ˆç°åœ¨æƒ³æƒ³æ•°æ®ç»“æ„æ˜¯å¤§ä¸€ä¸‹ï¼Œå½¼æ—¶æ˜¯å¤§äºŒä¸‹çš„åŠ©æ•™ä»¬å¤§æ¦‚ç‡å°±æ˜¯ä»OSè¯¾ä¸Šè·å¾—çš„çµæ„Ÿï¼‰ï¼š æ‰€ä»¥LIST_REMOVEå‡½æ•°å°±æ˜¯è¿™ä¹ˆå†™çš„ï¼š /* * Remove the element \"elm\" from the list. * The \"field\" name is the link element as above. */#define LIST_REMOVE(elm, field) do { \\ if (LIST_NEXT((elm), field) != NULL) \\ LIST_NEXT((elm), field)->field.le_prev = \\ (elm)->field.le_prev; \\ *(elm)->field.le_prev = LIST_NEXT((elm), fieldc); \\ } while (0) è¦ä»é“¾è¡¨ä¸­åˆ é™¤elmï¼Œé‚£ä¹ˆå°±å…ˆæŠŠelmçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„prevæŒ‡é’ˆè®¾ç½®ä¸ºelmçš„å‰ä¸€ä¸ªå…ƒç´ çš„nextï¼Œå†å°†elmçš„ä¸Šä¸€ä¸ªpreelmçš„nextæŒ‡å‘åä¸€ä¸ªelmã€‚åˆ é™¤è¿™ä¸ªå…ƒç´ åªéœ€çŸ¥é“å…¶è‡ªèº«ã€‚ å†…å­˜åˆ†é…å’Œé‡Šæ”¾åœ¨exercise2.2éœ€è¦è¡¥å…¨mips_detect_memory()å‡½æ•°ï¼Œè¿™æ˜¯æˆ‘ä»¬initçš„ç¬¬ä¸€æ­¥ã€‚è¿™é‡Œéœ€è¦è®©æ“ä½œç³»ç»ŸçŸ¥é“å¯ç”¨çš„ç‰©ç†å†…å­˜çš„å¤§å°å’ŒèŒƒå›´ï¼Œä¹Ÿå°±æ˜¯å¯¹æç¤ºçš„å››ä¸ªå…¨å±€å˜é‡è¿›è¡Œè®¾ç½®ã€‚æ ¹æ®è¾“å‡ºåˆ¤æ–­extraä¸º0ï¼Œgxemulæ¨¡æ‹Ÿå†…æ ¸è¿è¡Œç¯å¢ƒçš„æ—¶å€™å¹¶æ²¡æœ‰æ¨¡æ‹Ÿæ’å¤–ç½®å­˜å‚¨çš„æƒ…å†µã€‚ ä¹‹ååœ¨mips_vm_init()ä¸­å®Œæˆäº†å¯¹æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€å¿…é¡»çš„æ•°æ®ç»“æ„ â€“ é¡µç›®å½•ï¼ˆpgdirï¼‰ã€å†…å­˜æ§åˆ¶å—æ•°ç»„ï¼ˆpagesï¼‰å’Œè¿›ç¨‹æ§åˆ¶å—æ•°ç»„ï¼ˆenvsï¼‰æ‰€éœ€çš„ç‰©ç†å†…å­˜çš„åˆ†é…ï¼Œè¿™ä¸€éƒ¨åˆ†ä¼šåœ¨æœ€åçš„å¯åŠ¨æµç¨‹ä¸­å†æ¢³ç†ä¸€éã€‚åœ¨å®Œæˆå¯¹è¿™å‡ ä¸ªå…³é”®éƒ¨åˆ†çš„å†…å­˜åˆ†é…ä¹‹åï¼Œå‰©ä½™çš„å†…å­˜å°±å¯ä»¥åŠ å…¥åˆ°ç©ºé—²é“¾è¡¨ä¸­ï¼Œè¿™ä¸€æ­¥éœ€è¦ç”¨åˆ°page_init()å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯exercise2.3çš„å®éªŒå†…å®¹ã€‚ åœ¨page_init()å‡½æ•°çš„æ³¨é‡Šçªç„¶å‡ºç°äº†ä¸€ä¸ªå…¨å±€å˜é‡â€”â€”freememï¼Œé‚£ä¹ˆå®ƒæ˜¯å•¥å‘¢ï¼Ÿå®ƒçš„ç±»å‹æ˜¯ç‰©ç†åœ°å€ã€è™šæ‹Ÿåœ°å€è¿˜æ˜¯å†…æ ¸è™šæ‹Ÿåœ°å€ï¼ŸCè¯­è¨€ä¸­longçš„å…¨å±€å˜é‡åˆå€¼ä¸º0ï¼Œåœ¨mips_vm_init()ä¸­è°ƒç”¨äº†allocå‡½æ•°ï¼Œå°±æ¶‰åŠå¯¹freememçš„èµ‹å€¼ï¼Œè¿™é‡Œç”¨åˆ°äº†externæŒ‡å‘çš„end[]æ•°ç»„æ¥èµ‹åˆå€¼ï¼Œä½†æˆ‘æ²¡æœ‰åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°æœ€å¼€å§‹çš„å®šä¹‰â€¦â€¦å¥‡äº†æ€ªäº†ï¼›è€Œä»è¿™é‡Œç”¨åˆ°çš„PADDR(kva)å®ä¹Ÿå¯ä»¥å¾—å‡ºfreememæ˜¯å†…æ ¸è™šæ‹Ÿåœ°å€çš„ç»“è®ºï¼Œè¿™ä¸€ç‚¹åœ¨æˆ‘ä»¬åç»­çš„æ“ä½œä¸­ååˆ†é‡è¦ã€‚ æ€»ä¹‹ç”±äºå†…å­˜çš„åˆ†é…æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥freememä¹‹å‰æŒ‡å‘çš„å°±æ˜¯å·²ç»åˆ†é…å®Œæ¯•çš„é¡µï¼Œåº”è¯¥è¦å°†å…¶pp_refç½®1ï¼Œä¹‹ååˆ™æ˜¯æœªåˆ†é…çš„ï¼Œå°†å…¶pp_refç½®0å¹¶åŠ å…¥åˆ°ç©ºé—²é¡µçš„é“¾è¡¨ä¸­ï¼Œç”±æ­¤å°±å¯ä»¥è¿›è¡Œä»¥é¡µä¸ºå•ä½çš„ç‰©ç†å†…å­˜åˆ†é…ä¸é‡Šæ”¾ã€‚ åœ¨exercise2.4é‡Œï¼Œpage_allocå‡½æ•°ç”¨æ¥ä»ç©ºé—²é“¾è¡¨ä¸­åˆ†é…ä¸€é¡µç‰©ç†å†…å­˜ï¼Œè€Œpage_freeå‡½æ•°åˆ™ç”¨äºå°†ä¸€é¡µä¹‹å‰åˆ†é…çš„å†…å­˜é‡æ–°åŠ å…¥åˆ°ç©ºé—²é“¾è¡¨ä¸­ã€‚ è™šæ‹Ÿå†…å­˜ç®¡ç†åœ°å€è½¬æ¢ å†…æ ¸è™šæ‹Ÿåœ°å€ï¼š0x80010000ï¼Œkseg0 PADDR(kva)ï¼šè™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢ KADDR(pa)ï¼šç‰©ç†åœ°å€åˆ°è™šæ‹Ÿåœ°å€çš„è½¬æ¢ PDX(va)ï¼šè·å¾—ä¸€ä¸ªè™šæ‹Ÿåœ°å€å¯¹åº”çš„é¡µç›®å½•ç´¢å¼• PTX(va)ï¼šè·å¾—è¿™ä¸ªè™šå­˜åœ°å€å¯¹åº”çš„é¡µè¡¨ç´¢å¼• é¡µç›®å½•è‡ªæ˜ å°„ è¿›ç¨‹çš„é¡µè¡¨ä½ç½®ï¼šUVPT(0x7fc00000) åˆ° ULIM(0x80000000) ä¹‹é—´çš„ç©ºé—´ï¼Œ4MB åˆ›å»ºé¡µè¡¨åœ¨exercise2.5ï¼Œéœ€è¦å¯¹mm/pmap.cä¸­çš„boot_pgdir_walkå’Œpgdir_walkå‡½æ•°è¿›è¡Œå¡«å……ï¼Œå…¶ä¸­boot_pgdir_walkæ˜¯åœ¨å†…æ ¸åˆšå¯åŠ¨çš„æ—¶å€™è¿è¡Œï¼Œé€šè¿‡allocç›´æ¥ä»¥å­—èŠ‚ä¸ºå•ä½åˆ†é…ç‰©ç†å†…å­˜ï¼›åè€…åœ¨ç©ºé—²é¡µé¢é“¾è¡¨åˆå§‹åŒ–ä¹‹åè¿è¡Œï¼Œä½¿ç”¨page_allocä»¥é¡µä¸ºå•ä½åˆ†é…ç‰©ç†å†…å­˜ã€‚ é¦–å…ˆæ¥çœ‹çœ‹boot_pgdir_walkï¼š /* Overview: Get the page table entry for virtual address `va` in the given page directory `pgdir`. If the page table is not exist and the parameter `create` is set to 1, then create it.*/static Pte *boot_pgdir_walk(Pde *pgdir, u_long va, int create){ Pde *pgdir_entryp; Pte *pgtable, *pgtable_entry; /* Step 1: Get the corresponding page directory entry and page table. */ /* Hint: Use KADDR and PTE_ADDR to get the page table from page directory * entry value. */ pgdir_entryp = pgdir + PDX(va); // é€šè¿‡ PDX(va) æ¥è·å¾—ä¸€ä¸ªè™šæ‹Ÿåœ°å€å¯¹åº”çš„é¡µç›®å½•ç´¢å¼• // å‡­å€Ÿç´¢å¼•åœ¨é¡µç›®å½•ä¸­å¾—åˆ°å¯¹åº”çš„äºŒçº§é¡µè¡¨çš„åŸºå€(ç‰©ç†åœ°å€) if ((*pgdir_entryp) && PTE_V) // æ£€æµ‹åœ°å€æ˜¯å¦æœ‰æ•ˆ { pgtable = (Pte *)KADDR(PTE_ADDR(*pgdir_entryp)); // æŠŠè¿™ä¸ªç‰©ç†åœ°å€è½¬åŒ–ä¸ºå†…æ ¸è™šæ‹Ÿåœ°å€(KADDR) } /* Step 2: If the corresponding page table is not exist and parameter `create` * is set, create one. And set the correct permission bits for this new page * table. */ // å¦‚æœè™šæ‹Ÿåœ°å€æ‰€å¯¹åº”çš„äºŒçº§é¡µè¡¨ä¸å­˜åœ¨ else if (create == 1) // ä¸ºè¿™ä¸ªè™šæ‹Ÿåœ°å€åˆ›å»ºä¸€ä¸ªæ–°çš„é¡µè¡¨ { pgtable = (Pte *)alloc(BY2PG, BY2PG, 1); // ç”³è¯·ä¸€é¡µç‰©ç†å†…å­˜æ¥å­˜æ”¾è¿™ä¸ªé¡µè¡¨ // å°†å®ƒçš„ç‰©ç†åœ°å€èµ‹å€¼ç»™å¯¹åº”çš„é¡µç›®å½•é¡¹ *pgdir_entryp = PADDR(pgtable) | PTE_V; // è®¾ç½®å¥½é¡µç›®å½•é¡¹çš„æƒé™ä½ } /* Step 3: Get the page table entry for `va`, and return it. */ pgtable_entry = &pgtable[PTX(va)]; // é€šè¿‡ PTX(va) è·å¾—è¿™ä¸ªè™šå­˜åœ°å€å¯¹åº”çš„é¡µè¡¨ç´¢å¼• return pgtable_entry; // ä»é¡µè¡¨ä¸­å¾—åˆ°å¯¹åº”çš„é¡µé¢çš„ç‰©ç†åœ°å€} è¿”å›å€¼æ˜¯Pteï¼Œè¾“å…¥å€¼åˆ™åŒ…æ‹¬Pdeçš„æŒ‡é’ˆï¼Œè¿™ä¸¤è€…çš„å®šä¹‰åœ¨include/mmu.hä¸­å¯ä»¥æ‰¾åˆ°ï¼š typedef u_long Pde;typedef u_long Pte; ä¸¤è€…éƒ½æ˜¯unsigned longç±»å‹ï¼Œé•¿åº¦ä¸º32ä½ï¼Œè€Œè™šæ‹Ÿåœ°å€çš„é•¿åº¦ä¹Ÿæ˜¯32ä½ï¼Œæ–¹ä¾¿è½¬æ¢ã€‚ è¿™é‡Œç†è§£è¿˜ä¸å¤Ÿæ·±å…¥ï¼Œæ´å¼•å­¦é•¿çš„è§£é‡Šï¼š ä¸‹é¢è¯´æ˜ä¸€ä¸‹Pde*çš„ç†è§£ï¼ˆPde*å’ŒPte*æ˜¯ä¸€æ ·çš„ï¼‰ Pde *pgdir_entryp; åœ¨include/mmu.hä¸­å®šä¹‰äº† typedef` `u_long Pde; Pdeçš„ç±»å‹å°±æ˜¯unsigned longï¼Œå 4Bã€‚å®ƒçš„æŒ‡é’ˆæ˜¯è¦å¯»æ‰¾è™šæ‹Ÿç©ºé—´ï¼Œå¤§å°ä¹Ÿæ˜¯ä¸€ä¸ªé¡µè¡¨é¡¹ï¼Œ4Bã€‚Pdeå’ŒPde*éƒ½æ˜¯4Bï¼Œä½¿å®ƒä»¬çš„è½¬æ¢éå¸¸æ–¹ä¾¿ã€‚æŒ‡é’ˆå®é™…ä¸Šä¸€å—ä»¥å®ƒä¸ºåœ°å€çš„å†…å­˜å•å…ƒã€‚æ‰€ä»¥Pdeçš„æŒ‡é’ˆ(Pde*)æ‰€æŒ‡çš„åœ°å€å°±æ˜¯è™šæ‹Ÿåœ°å€ï¼Œè€Œè¿™å—åœ°å€çš„å†…å®¹(Pde)æ˜¯ç‰©ç†åœ°å€ï¼Œæ‰€ä»¥å®ç°äº†è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»ã€‚ è€Œpgdir_walkå‡½æ•°ä¹Ÿä¸ä¹‹ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºåˆ›å»ºæ—¶çš„å¤„ç†ï¼š else if (create == 1) { if (page_alloc(&ppage) == -E_NO_MEM) // out of memory. { return -E_NO_MEM; } // å·²ç»ç”³è¯·å¥½äº†é¡µï¼Œä¼ å…¥çš„æŒ‡é’ˆå·²ç»æ”¹å˜ pgtable = page2kva(ppage); *pgdir_entryp = PADDR(pgtable) | PTE_R | PTE_V; // PTE_Rï¼šè„ä½ ppage->pp_ref++; // è¿™ä¸ªè®¾ç½®refçš„æ“ä½œä¸è¦å¿˜äº†â€¦â€¦ } åœ°å€æ˜ å°„å°†ç›¸åº”çš„ç‰©ç†é¡µé¢åœ°å€å¡«å…¥å¯¹åº”è™šæ‹Ÿåœ°å€çš„é¡µè¡¨é¡¹ï¼Œå¡«å……mm/pmap.cä¸­çš„boot_map_segmentå‡½æ•°ã€‚ åœ¨exercise2.6ï¼Œå°†[va, va+size)çš„è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€[pa,pa+size)ä¸­ï¼Œæ ¹æ®permå¯¹è¿™ä¸ªåœ°å€æ ‡è®°ä½æ›´æ–°ï¼Œå®ç°äº†åœ¨è™šæ‹Ÿåœ°å€æ‰€å¯¹åº”çš„äºŒçº§é¡µè¡¨é‡Œå­˜æ”¾ï¼ˆç‰©ç†é¡µæ¡†çš„ï¼‰ç‰©ç†åœ°å€ã€‚ é€šè¿‡forå¾ªç¯å®ç°ï¼Œå‡½æ•°å†…è¿˜ç»™äº†ä¸´æ—¶å˜é‡ã€‚ /* Step 2: Map virtual address space to physical address. *//* Hint: Use `boot_pgdir_walk` to get the page table * entry of virtual address `va`. */for (i = 0; i < (size / BY2PG); i++)// è¿™é‡Œå›å¤´è®°å¾—ä¿®æ”¹ï¼Œæ„Ÿè§‰Pbè¯´çš„å¾ˆæœ‰é“ç†â€¦â€¦{ va_temp = va + i * BY2PG; // çªç„¶å‘ç°è¿™é‡Œå¯ä»¥ç”¨æ›´å¥½çš„æ–¹å¼â€¦â€¦ pgtable_entry = boot_pgdir_walk(pgdir, va_temp, 1); // è¿”å›é¡µè¡¨é¡¹çš„è™šæ‹Ÿåœ°å€ *pgtable_entry = (pa + i * BY2PG) | perm | PTE_V; // æŒ‡å‘ç‰©ç†åœ°å€ï¼Œè®¾ç½®æ ‡è®°ä½} è¿™ä¸ªå‡½æ•°å®Œæˆäº†å¯¹äº[va,va+size)è¿™ä¸€ç‰‡è™šæ‹Ÿåœ°å€çš„é¡µè¡¨çš„è®¾ç½®ï¼ŒæŠŠå¯¹åº”çš„ç‰©ç†åœ°å€å­˜å…¥äº†å¯¹åº”çš„é¡µè¡¨ä¸­ã€‚ page insert and page removeåœ¨exercise2.7ï¼Œéœ€è¦å¡«å……page_insertå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†vaè™šæ‹Ÿåœ°å€å’Œå…¶è¦å¯¹åº”çš„ç‰©ç†é¡µppçš„æ˜ å°„å…³ç³»ä»¥permçš„æƒé™è®¾ç½®åŠ å…¥é¡µç›®å½•ã€‚ int page_insert(Pde *pgdir, struct Page *pp, u_long va, u_int perm); ç„¶åå°±æ˜¯å¤ä¹ æ±‡ç¼–çŸ¥è¯†â€¦â€¦æƒ³åˆ°æˆ‘çš„78åˆ†ç¥­ç¥–ç†è®ºè¯¾ç‘Ÿç‘Ÿå‘æŠ–â€¦â€¦ä»MIPSæ‰‹å†Œä¸­æŸ¥æ‰¾tlbpå’ŒtlbwiæŒ‡ä»¤ã€‚ Format: TLBP MIPS32Purpose: To find a matching entry in the TLB. Format: TLBWI MIPS32Purpose: To write a TLB entry indexed by the Index register. æœ€åçš„æœ€åå•Šï¼ŒçœŸçš„å¥½å¤šâ€¦â€¦ å†™åˆ°è¿™é‡Œè„‘å­ç¡®å®æ¸…æ¥šäº†ä¸€äº›ï¼Œæ˜å¤©å†™Extraå§ã€‚ åŠ æ²¹ï¼å¥¥é‡Œç»™ï¼","permalink":"https://mondaycha.github.io/2020/03/29/329-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS ç¬¬äº”æ¬¡ä½œä¸š","date":"2020/03/25","text":"1ï¼‰å™è¿°ç¼ºé¡µä¸­æ–­çš„å¤„ç†æµç¨‹ã€‚ ç°åœºä¿æŠ¤ï¼šé™·å…¥å†…æ ¸æ€ï¼Œä¿å­˜å¿…è¦çš„ä¿¡æ¯ã€‚ é¡µé¢å®šä½ï¼šæŸ¥æ‰¾å‡ºå‘ç”Ÿç¼ºé¡µä¸­æ–­çš„è™šæ‹Ÿé¡µé¢ã€‚ æƒé™æ£€æŸ¥ï¼šæ£€æŸ¥è™šæ‹Ÿåœ°å€çš„æœ‰æ•ˆæ€§ä»¥åŠå®‰å…¨ä¿æŠ¤ä½ï¼Œå¦‚æœå‘ç”Ÿä¿æŠ¤é”™è¯¯ï¼Œåˆ™æ€æ­»è¯¥è¿›ç¨‹ã€‚ åˆ†é…é¡µæ¡†ï¼šæŸ¥æ‰¾ä¸€ä¸ªç©ºé—²çš„é¡µæ¡†ï¼›å¦‚æœæ²¡æœ‰åˆ™é€šè¿‡é¡µé¢ç½®æ¢ç®—æ³•æ‰¾åˆ°ä¸€ä¸ªéœ€è¦æ¢å‡ºçš„é¡µæ¡†ã€‚ é¡µé¢å†™å›ï¼šå¦‚æœæ‰¾çš„é¡µæ¡†ä¸­çš„å†…å®¹è¢«ä¿®æ”¹äº†ï¼Œåˆ™éœ€è¦å°†ä¿®æ”¹çš„å†…å®¹ä¿å­˜åˆ°ç£ç›˜ä¸Šã€‚ é¡µé¢è°ƒå…¥ï¼šå°†ä¿æŒåœ¨ç£ç›˜ä¸Šçš„é¡µé¢å†…å®¹å¤åˆ¶åˆ°è¯¥é¡µæ¡†ä¸­ã€‚ æ›´æ–°é¡µè¡¨ï¼šå½“ç£ç›˜ä¸­çš„é¡µé¢å†…å®¹å…¨éƒ¨è£…å…¥é¡µæ¡†åï¼Œå‘CPUå‘é€ä¸€ä¸ªä¸­æ–­ã€‚æ“ä½œç³»ç»Ÿæ›´æ–°å†…å­˜ä¸­çš„é¡µè¡¨é¡¹ï¼Œå°†è™šæ‹Ÿé¡µé¢æ˜ å°„çš„é¡µæ¡†å·æ›´æ–°ä¸ºå†™å…¥çš„é¡µæ¡†ï¼Œå¹¶å°†é¡µæ¡†æ ‡è®°ä¸ºæ­£å¸¸çŠ¶æ€ã€‚ æ¢å¤ç°åœºï¼šæ¢å¤ç¼ºé¡µä¸­æ–­å‘ç”Ÿå‰çš„çŠ¶æ€ï¼Œå°†ç¨‹åºæŒ‡é’ˆé‡æ–°æŒ‡å‘å¼•èµ·ç¼ºé¡µä¸­æ–­çš„æŒ‡ä»¤ã€‚ ç»§ç»­æ‰§è¡Œï¼šé€€å‡ºå†…æ ¸æ€ï¼Œç¨‹åºé‡æ–°æ‰§è¡Œå¼•å‘ç¼ºé¡µä¸­æ–­çš„æŒ‡ä»¤ï¼Œè¿›è¡Œå­˜å‚¨è®¿é—®ã€‚ 2ï¼‰å‡è®¾é¡µé¢çš„è®¿é—®å­˜åœ¨ä¸€å®šçš„å‘¨æœŸæ€§å¾ªç¯ï¼Œä½†å‘¨æœŸä¹‹é—´ä¼šéšæœºå‡ºç°ä¸€äº›é¡µé¢çš„è®¿é—®ã€‚ä¾‹å¦‚0,1,2â€¦,511,431,0,1,2â€¦511,332,0,1,2,â€¦,511ç­‰ã€‚è¯·æ€è€ƒï¼š(1) LRUã€FIFOå’ŒClockç®—æ³•çš„æ•ˆæœå¦‚ä½•ï¼Ÿ(2) å¦‚æœæœ‰500ä¸ªé¡µæ¡†ï¼Œèƒ½å¦è®¾è®¡ä¸€ä¸ªä¼˜äºLRUã€FIFOå’ŒClockçš„ç®—æ³•ï¼Ÿ LRUã€FIFOå’ŒClockç®—æ³•çš„æ•ˆæœå‡ç›¸åŒã€‚ ç®—æ³•ï¼šå°½å¯èƒ½å‡å°‘æ›¿æ¢çš„é¡µé¢ã€‚å°†å…¶ä¸­499é¡µæ¡†ç”¨äºå›ºå®šé¡µé¢çš„æ˜ å°„ï¼Œå‰©ä¸‹1ä¸ªé¡µé¢å¯æ›¿æ¢ã€‚ 3ï¼‰å‡è®¾æœ‰10ä¸ªé¡µé¢ï¼Œnä¸ªé¡µæ¡†ã€‚é¡µé¢çš„è®¿é—®é¡ºåºä¸º0, 9, 8, 4, 4, 3, 6, 5, 1, 5, 0, 2, 1, 1, 1, 1, 8, 8, 5, 3, 9, 8, 9, 9, 6, 1, 8, 4, 6, 4, 3, 7, 1, 3, 2, 9, 8, 6, 2, 9, 2, 7, 2, 7, 8, 4, 2, 3, 0, 1, 9, 4, 7, 1, 5, 9, 1, 7, 3, 4, 3, 7, 1, 0, 3, 5, 9, 9, 4, 9, 6, 1, 7, 5, 9, 4, 9, 7, 3, 6, 7, 7, 4, 5, 3, 5, 3, 1, 5, 6, 1, 1, 9, 6, 6, 4, 0, 9, 4, 3ã€‚å½“nåœ¨[1,10]ä¸­å–å€¼æ—¶ï¼Œè¯·ç¼–å†™ç¨‹åºå®ç°OPTã€LRUã€FIFOé¡µé¢ç½®æ¢ç®—æ³•ï¼Œå¹¶æ ¹æ®é¡µé¢è®¿é—®é¡ºåºæ¨¡æ‹Ÿæ‰§è¡Œï¼Œåˆ†åˆ«è®¡ç®—ç¼ºé¡µæ•°é‡ï¼Œç”»å‡ºç¼ºé¡µæ•°é‡éšé¡µæ¡†æ•°nçš„å˜åŒ–æ›²çº¿ï¼ˆ3æ¡çº¿ï¼‰ ï¼ˆä»£ç é™„ä½œä¸šæœ«ï¼‰ 4ï¼‰ä¸€ä¸ª32ä½çš„è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿæœ‰ä¸¤çº§é¡µè¡¨ï¼Œå…¶é€»è¾‘åœ°å€ä¸­ï¼Œç¬¬22åˆ°31ä½æ˜¯ç¬¬ä¸€çº§é¡µè¡¨ï¼Œ12ä½åˆ°21ä½æ˜¯ç¬¬äºŒçº§é¡µè¡¨ï¼Œé¡µå†…åç§»å 0åˆ°11ä½ã€‚ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸º4GBï¼Œå¦‚æœä»0x80000000å¼€å§‹æ˜ å°„4MBå¤§å°é¡µè¡¨ç©ºé—´ï¼Œè¯·é—®ç¬¬ä¸€çº§é¡µè¡¨æ‰€å 4KBç©ºé—´çš„èµ·å§‹åœ°å€ï¼Ÿå¹¶è¯´æ˜ç†ç”±ã€‚ï¼ˆæ³¨æ„Bä»£è¡¨å­—èŠ‚ï¼Œä¸€ä¸ª32ä½åœ°å€å 4å­—èŠ‚ï¼‰ è®¡ç®—æ–¹å¼ä¸é¡µç›®å½•è‡ªæ˜ å°„è®¡ç®—å…¬å¼ç±»ä¼¼ï¼Œ ç¬¬ä¸€çº§é¡µè¡¨æ‰€å 4KBç©ºé—´çš„èµ·å§‹åœ°å€ä¸º0x80000000|0x80000000>>10 = 0x80200000ã€‚ 5ï¼‰ è¿›ç¨‹æ•´ä¸ªçš„åœ°å€ç©ºé—´æœ‰2^32å­—èŠ‚ï¼Ÿä¸€é¡µæœ‰2^10å­—èŠ‚ã€‚ 0x0 è¿‡ç¨‹ï¼šé¡µç›®å½•åœ°å€ä¸º0x0ï¼Œé¡µè¡¨åœ°å€ä¸º0x0ï¼Œé¡µå†…åç§»ä¸º0x0ã€‚ è®¿é—®é¡µç›®å½•0x0ï¼Œæœ‰æ•ˆä½ä¸º0ï¼Œè®¿é—®æ— æ•ˆã€‚ 0x00803004 è¿‡ç¨‹ï¼šé¡µç›®å½•åœ°å€ä¸º0x2ï¼Œé¡µè¡¨åœ°å€ä¸º0x3ï¼Œé¡µå†…åç§»ä¸º0x4ã€‚ è®¿é—®é¡µç›®å½•0x2ï¼Œå¾—åˆ°é¡µè¡¨çš„é¡µæ¡†åœ°å€ä¸º0x5000ä¸”æœ‰æ•ˆï¼Œè®¿é—®é¡µè¡¨0x3é¡¹ï¼Œå¾—åˆ°é¡µæ¡†åœ°å€ä¸º0x20000ä¸”æœ‰æ•ˆï¼ŒåŠ ä¸Šåç§»é‡å³å¾—åˆ°è½¬æ¢åçš„ç‰©ç†åœ°å€â€”â€”0x20004ã€‚ æœ€ç»ˆè®¿å­˜è·å–åˆ°çš„æ•°æ®ä¸º0x0ã€‚ 0x00402001 è¿‡ç¨‹ï¼šé¡µç›®å½•åœ°å€ä¸º0x1ï¼Œé¡µè¡¨åœ°å€ä¸º0x2ï¼Œé¡µå†…åç§»ä¸º0x1ã€‚ è®¿é—®é¡µç›®å½•0x1ï¼Œå¾—åˆ°é¡µè¡¨çš„é¡µæ¡†åœ°å€ä¸º0x1000ä¸”æœ‰æ•ˆï¼Œè®¿é—®é¡µè¡¨0x2é¡¹ï¼Œå¾—åˆ°é¡µæ¡†åœ°å€ä¸º0x5000ä¸”æœ‰æ•ˆï¼ŒåŠ ä¸Šåç§»é‡å³å¾—åˆ°è½¬æ¢åçš„ç‰©ç†åœ°å€â€”â€”0x5001ã€‚ æœ€ç»ˆè®¿å­˜è·å–åˆ°çš„æ•°æ®ä¸º0x4e001ã€‚ ç‰©ç†åœ°å€0x326028å¯¹åº”çš„åç§»é‡ä¸º0x28ï¼Œå¯¹åº”çš„é¡µæ¡†åœ°å€ä¸º0x32600ï¼ŒæŸ¥æ‰¾äºŒçº§é¡µè¡¨å¾—ï¼Œä½äºé¡µæ¡†åœ°å€ä¸º0x20000çš„é¡µè¡¨çš„ç¬¬0x1é¡¹ä¸­ï¼Œè¯¥é¡µè¡¨ä¿¡æ¯ä½äºé¡µç›®å½•çš„ç¬¬0x3é¡¹ã€‚ å¯¹åº”çš„è™šæ‹Ÿåœ°å€ä¸º0x00c01028ã€‚ é™„ï¼šç¬¬ä¸‰é¢˜ä»£ç import java.util.ArrayList;import java.util.HashMap;import java.util.LinkedList;import java.util.Map;import java.util.Queue;public class MainClass { public static final int[] readpage = { 0, 9, 8, 4, 4, 3, 6, 5, 1, 5, 0, 2, 1, 1, 1, 1, 8, 8, 5, 3, 9, 8, 9, 9, 6, 1, 8, 4, 6, 4, 3, 7, 1, 3, 2, 9, 8, 6, 2, 9, 2, 7, 2, 7, 8, 4, 2, 3, 0, 1, 9, 4, 7, 1, 5, 9, 1, 7, 3, 4, 3, 7, 1, 0, 3, 5, 9, 9, 4, 9, 6, 1, 7, 5, 9, 4, 9, 7, 3, 6, 7, 7, 4, 5, 3, 5, 3, 1, 5, 6, 1, 1, 9, 6, 6, 4, 0, 9, 4, 3 }; public static void main(String[] args) { System.out.print(\"OPT: \"); for (int n = 1; n","permalink":"https://mondaycha.github.io/2020/03/25/325-1/","photos":["https://pic.downk.cc/item/5e7b6422504f4bcb040f2bb5.png"]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://mondaycha.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab2 å­¦ä¹ ç¬”è®° (Part 1)","date":"2020/03/23","text":"å‰è¨€æŒ‘æˆ˜å¼€å§‹äº†ï¼ŒåŠ æ²¹ï¼ï¼ï¼ åŒå‘é“¾è¡¨æ“ä½œæ‹¾é—åœ¨Exercise2.1ï¼Œéœ€è¦å¯¹åŒå‘é“¾è¡¨è¿›è¡Œæ“ä½œã€‚ åœ¨è¿™é‡Œé‡‡ç”¨äº†ä¸€ç§ç‰¹æ®Šçš„é“¾è¡¨å½¢å¼ï¼Œå¦‚ä¸Šå›¾ï¼ˆæˆ‘æ‰¾ä¸åˆ°è¿™ä¸ªè¯¾ä»¶äº†ï¼Œå›¾ç‰‡æ¥è‡ªç¾¤æˆå‘˜ï¼‰ é“¾è¡¨çš„æ’å…¥æ“ä½œï¼Œå¯¹æ³¨é‡Šåšäº†ä¸€ç‚¹ä¿®æ­£â€”â€” // Note: assign a to b a = b//Step 1, assign elm.next to listelem.next.//Step 2: Judge whether listelm.next is NULL, if not, then assign listelm.next.pre to a proper value.//step 3: Assign listelm.next to a proper value.//step 4: Assign elm.pre to a proper value. è¿™ä¸ªè®¾è®¡æ„Ÿè§‰è¿˜æ˜¯å¾ˆå·§å¦™çš„ã€‚ å…³äºå…¨å±€å˜é‡/* Step 1: Initialize basemem.* (When use real computer, CMOS tells us how many kilobytes there are). */basemem = 0x4000000;maxpa = 0x4000000;extmem = 0x0;// Step 2: Calculate corresponding npage value.npage = basenum >> 12; åæ¥çœ‹äº†ä¸€ä¸‹åœ¨mmu.hé‡Œé¢æœ‰å¯¹SHIFTçš„å®šä¹‰ï¼Œæ›´ä¸¥è°¨çš„æ¥è¯´åº”è¯¥æ˜¯è¦å†™é‚£ä¸ªå§ã€‚ å¦‚ä½•ç”¨å‘½ä»¤è¡Œå‹ç¼©æ–‡ä»¶å‹ç¼©æœåŠ¡å™¨ä¸Šå½“å‰ç›®å½•çš„å†…å®¹ä¸ºxxx.zipæ–‡ä»¶ zip -r xxx.zip ./* è§£å‹zipæ–‡ä»¶åˆ°å½“å‰ç›®å½• unzip filename.zip è¿™æ ·å°±å¯ä»¥ä»å®éªŒç¯å¢ƒcopyä»£ç äº†ï¼ å¦‚ä½•è¿è¡Œå†…æ ¸gxemul -E testmips -C R3000 -M 64 åé¢å¯ä»¥è·Ÿvmlinuxçš„åœ°å€ï¼Œä¹Ÿå¯ä»¥å†™ä¸ªshè„šæœ¬æ¥è¿è¡Œã€‚ è¯¾ç¨‹ç¾¤é›¶æ•£çŸ¥è¯†ç‚¹æ”¶é›†2.1 åŠ©æ•™æç¤ºï¼štypeofçš„ä½¿ç”¨ æ³¨é‡Šæç¤ºé”™è¯¯ï¼šåº”è¯¥æ˜¯listelm->field.next->field.prev 2.2 npageæŒ‡çš„æ˜¯64MB/4KB extraé‚£ä¸ªå¡«0ï¼ˆåŸå› ï¼šæ ¹æ®è¾“å‡ºåˆ¤æ–­ä¸º0ï¼Œå¦ä¸€æ–¹é¢æˆ‘ä»¬å°±æ²¡æœ‰å¤–ç½®å­˜å‚¨ï¼Œgxæ¨¡æ‹Ÿçš„æ—¶å€™æ²¡æœ‰æ¨¡æ‹Ÿä½ é¢å¤–æ’å†…å­˜æ¡ï¼‰ Debugè®°å½•1Exercise2.1 åŒå‘é“¾è¡¨æ“ä½œé”™è¯¯ å€ŸåŠ©pbçš„testç¨‹åº 2Exercise 2.4ï¼Œè¾“å‡ºå¦‚ä¸‹ç»“æœâ€”â€” -------------------------------------------------------------------------------main.c: main is start ...init.c: mips_init() is calledPhysical memory: 65536K available, base = 65536K, extended = 0Kto memory 80401000 for struct page directory.to memory 80431000 for struct Pages.pmap.c: mips vm init success[ dev_mp: unimplemented relative addr 0x8 ][ dev_mp: unimplemented relative addr 0x14 ]Segmentation fault (core dumped) åˆæ­¥åˆ†æï¼šä¸pmap.cä¸­çš„ä¸‰ä¸ªå‡½æ•°å¡«å†™æœ‰å…³ æ£€æŸ¥è­¦å‘Šâ€”â€” pmap.c: In function 'page_init':pmap.c:183: warning: passing argument 1 of 'va2pa' from incompatible pointer typepmap.c: In function 'page_alloc':pmap.c:230: warning: passing argument 1 of 'bzero' makes pointer from integer without a cast è¯´æ˜typeä¸å¯¹ï¼Œè¿›è¡Œä¿®æ”¹å®Œæˆdebugå·¥ä½œã€‚","permalink":"https://mondaycha.github.io/2020/03/23/323-2/","photos":["https://pic.downk.cc/item/5e78981c5c56091129c65218.png"]},{"tags":[{"name":"Git","slug":"Git","permalink":"https://mondaycha.github.io/tags/Git/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"å¦‚ä½•ä½¿ç”¨Gitä»è¿œç¨‹ä»“åº“è·å–æ‰€æœ‰åˆ†æ”¯","date":"2020/03/23","text":"git branch -r | grep -v '\\->' | while read remote; do git branch --track \"${remote#origin/}\" \"$remote\"; donegit fetch --allgit pull --all æ¥æºï¼šStackoverflow é“¾æ¥ï¼šhttp://stackoverflow.com/questions/10312521/how-to-fetch-all-git-branches","permalink":"https://mondaycha.github.io/2020/03/23/323-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab1 å®éªŒæŠ¥å‘Š","date":"2020/03/21","text":"OS Lab1 å®éªŒæŠ¥å‘Šä¸€ã€å®éªŒæ€è€ƒé¢˜æ€è€ƒé¢˜0.1ä¹Ÿè®¸ä½ ä¼šå‘ç°æˆ‘ä»¬çš„readelfç¨‹åºæ˜¯ä¸èƒ½è§£æä¹‹å‰ç”Ÿæˆçš„å†…æ ¸æ–‡ä»¶(å†…æ ¸æ–‡ä»¶æ˜¯å¯æ‰§è¡Œæ–‡ä»¶)çš„ï¼Œè€Œæˆ‘ä»¬ä¹‹åå°†è¦ä»‹ç»çš„å·¥å…·readelfåˆ™å¯ä»¥è§£æï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ(æç¤ºï¼šå°è¯•ä½¿ç”¨readelf -hï¼Œè§‚å¯Ÿä¸åŒ) ç­”ï¼š é€šè¿‡readelf -hå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ä¹‹å‰ç”Ÿæˆçš„å†…æ ¸æ–‡ä»¶vmlinuxæ˜¯å¤§å°¾ç«¯elfæ–‡ä»¶ï¼Œè€Œæµ‹è¯•ä½¿ç”¨çš„testELFæ˜¯å°å°¾ç«¯elfæ–‡ä»¶ã€‚ ~/work/18373580-lab/gxemul$ readelf -h vmlinuxELF Header: Magic: 7f 45 4c 46 01 02 01 00 00 00 00 00 00 00 00 00 Class: ELF32 Data: 2's complement, big endian ... ~/work/18373580-lab/gxemul$ readelf -h ../readelf/testELFELF Header: Magic: 7f 45 4c 46 01 01 01 00 00 00 00 00 00 00 00 00 Class: ELF32 Data: 2's complement, little endian ... ç”±äºæˆ‘ä»¬çš„readelfç¨‹åºå°šæœªå®Œå–„ï¼Œç›®å‰åªèƒ½åœ¨å°å°¾ç«¯ç¯å¢ƒä¸‹è¿è¡Œï¼Œæ— æ³•æ­£ç¡®è¯»å–å¤§å°¾ç«¯elfæ–‡ä»¶çš„å†…å®¹ï¼Œå› æ­¤ä¸èƒ½æ­£ç¡®è¾“å‡ºæ®µå¤´è¡¨å†…ä¿¡æ¯ã€‚åœ¨Lab1-extraä¸­é€šè¿‡å¯¹readelfçš„è¡¥å……ä¿®æ”¹ï¼Œå°±å¯ä»¥è¿›è¡Œè§£æäº†ã€‚ æ€è€ƒé¢˜0.2å†…æ ¸å…¥å£åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿmain å‡½æ•°åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿæˆ‘ä»¬æ˜¯æ€ä¹ˆè®©å†…æ ¸è¿›å…¥åˆ°æƒ³è¦çš„ main å‡½æ•°çš„å‘¢ï¼Ÿåˆæ˜¯æ€ä¹ˆè¿›è¡Œè·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°çš„å‘¢ï¼Ÿ ç­”ï¼š å†…æ ¸åœ¨kseg0å†…ï¼Œmain å‡½æ•°åœ¨User Space(kuseg)å†…ã€‚ åœ¨æœ¬æ¬¡Lab1ä¸­ï¼Œscse0_3.ldsé‡Œé€šè¿‡ENTRY(_start)æŒ‡ä»¤æŒ‡å®šäº†start.Sä¸­çš„_start()å‡½æ•°æŒ‡å‘å†…æ ¸å…¥å£ã€‚main å‡½æ•°è·¯å¾„ä¸ºinit/main.cã€‚ _start()å‡½æ•°åˆå§‹åŒ–CPUï¼Œè®¾ç½®æ ˆæŒ‡é’ˆï¼Œé€šè¿‡jalæŒ‡ä»¤è®©å†…æ ¸è·³è½¬åˆ°mainå‡½æ•°ã€‚åœ¨é“¾æ¥å¯æ‰§è¡Œæ–‡ä»¶ä¹‹åé€šè¿‡è·³è½¬æŒ‡ä»¤è·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°ã€‚ äºŒã€å®éªŒéš¾ç‚¹å›¾ç¤ºä¸ä¼ å›¾äº† ä¸‰ã€ä½“ä¼šä¸æ„Ÿæƒ³Lab1éš¾åº¦è¯„ä»·ï¼šâ˜…â˜…â˜…â˜†â˜† Lab1-extraéš¾åº¦è¯„ä»·ï¼šâ˜…â˜…â˜…â˜†â˜† èŠ±è´¹æ—¶é—´ï¼šLab1 9hï¼ŒLab1-extra2h ä½“ä¼šå’Œæ„Ÿæƒ³ï¼š åœ¨Lab1æˆ‘æ„Ÿå—åˆ°äº†æ·±æ·±çš„ææƒ§ã€‚æˆ‘æ„è¯†åˆ°äº†å¦‚æœæˆ‘ä¸å†é‡‡å–ç­–ç•¥ï¼Œå¾ˆå¿«æˆ‘å°±ä¼šéš¾ä»¥è·Ÿä¸Šç›®å‰çš„è¿›åº¦ã€‚ åœ¨è¿™ä¸€èŠ‚ä¸­éš¾ç‚¹æ˜¯printå‡½æ•°çš„è¡¥å……ï¼Œç„¶è€Œä¸€å¼€å§‹æˆ‘å´æ¯«æ— æ€è·¯ï¼Œå‚è€ƒPPTå’ŒAusarçš„æŒ‡å¯¼ä¹¦è¡¥å……æ‰å¡«å†™å‡ºæ¥ï¼›è€Œåœ¨Lab1-extraï¼Œæˆ‘èŠ±è´¹äº†å¤§é‡çš„æ—¶é—´deç¿»è½¬å‡½æ•°çš„bugï¼Œå¦‚æœæ˜¯è¯¾ä¸Šæµ‹è¯•çš„è¯æ ¹æœ¬åšä¸å‡ºï¼›æ€è€ƒé¢˜0.2æ›´æ˜¯è®©æˆ‘ä¸€å¤´é›¾æ°´ï¼Œä¸æ¸…æ¥šé¢˜ç›®è¡¨è¾¾çš„æ„æ€ã€‚ ç›®å‰æ­£åœ¨è¯»æŒ‡å¯¼ä¹¦å’ŒELFæ‰‹å†Œï¼Œæˆ‘éå¸¸è¿·èŒ«ï¼Œä½†OOå°†å æ®æˆ‘çš„å¦ä¸€å¤§åŠæ—¶é—´â€¦â€¦å®Œå…¨ä¸æ¸…æ¥šè¦é‡‡å–ä»€ä¹ˆç­–ç•¥æ¥å­¦ä¹ ï¼Œä¹Ÿåªèƒ½èµ°ä¸€æ­¥çœ‹ä¸€æ­¥äº†ã€‚ æœ€åæ˜¯å¯¹äºæ¥ä¸‹æ¥Labçš„æƒ³æ³•ï¼š åœ¨å¼€å§‹Labä¹‹å‰ï¼Œè·å–å…¨éƒ¨èµ„æ–™ï¼ˆLab1çš„èµ„æ–™æˆ‘è§‰å¾—å¾ˆåˆ†æ•£ï¼Œè®©äººæ‘¸ä¸åˆ°å¤´è„‘ï¼‰ å¯¹äºä¸ç†è§£çš„å†…å®¹ï¼Œæœé›†ç›¸å…³èµ„æ–™ï¼ˆä½†çœŸçš„å¤ªæ‚äº†ï¼Œç³»ç»Ÿå·®åˆ«ä¹Ÿå¤§ï¼‰ ç¥ˆç¥·æˆ‘èƒ½å­˜æ´»ä¸‹å»å§ã€‚","permalink":"https://mondaycha.github.io/2020/03/21/321-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week4","date":"2020/03/20","text":"çˆ±è¯¾ç¨‹ 3.4 æ¢æœˆå·¥ç¨‹å‘å±•åœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œå«¦å¨¥ä¸‰æœŸå·¥ç¨‹ï¼Œä¸­å›½æ•´ä¸ªæ¢æœˆå·¥ç¨‹åˆ†ä¸ºâ€œç»•â€ã€â€œè½â€ã€â€œå›â€3ä¸ªé˜¶æ®µã€‚ç¬¬ä¸€æ­¥ï¼Œç¬¬ä¸€é¢—æœˆçƒæ¢æµ‹å«æ˜Ÿâ€œå«¦å¨¥ä¸€å·â€å·²äº2007å¹´10æœˆ24æ—¥å‘å°„ï¼›ç¬¬äºŒæ­¥æ˜¯å‘å°„æœˆçƒè½¯ç€é™†å™¨ï¼Œçªç ´åœ°å¤–å¤©ä½“çš„ç€é™†æŠ€æœ¯ï¼›ç¬¬ä¸‰æ­¥æ˜¯å‘å°„æœˆçƒè½¯ç€é™†å™¨ï¼Œçªç ´è‡ªåœ°å¤–å¤©ä½“è¿”å›åœ°çƒçš„æŠ€æœ¯ï¼Œè¿›è¡Œæœˆçƒæ ·å“è‡ªåŠ¨å–æ ·å¹¶è¿”å›åœ°çƒã€‚ çˆ±è¯¾ç¨‹ 2.1 æµä½“æµåŠ¨åŸºæœ¬è§„å¾‹åœ¨è¿™èŠ‚è¯¾æˆ‘å­¦ä¹ åˆ°ï¼Œèˆªç©ºåŸºäºç©ºæ°”åŠ¨åŠ›å­¦åŸç†ï¼Œèˆªç©ºå™¨éœ€è¦æœ‰è¶³å¤Ÿçš„å‡åŠ›ã€‚èˆªç©ºå™¨èƒ½å¤Ÿè‰¯å¥½çš„é£è¡Œéœ€è¦ä¸‰ä¸ªè¦ç´ â€”â€”è¶³å¤Ÿå‡åŠ›ã€è¶³å¤ŸåŠ¨åŠ›ã€è‰¯å¥½çš„ç¨³å®šæ€§ã€‚æµä½“æµåŠ¨åŸºæœ¬è§„å¾‹æœ‰è´¨é‡å®ˆæ’ä¸è¿ç»­æ€§æ–¹ç¨‹ï¼Œå¾—åˆ°é€Ÿåº¦ä¸æˆªé¢çš„å…³ç³»â€”â€”æˆªé¢ç§¯å¤§ï¼Œæµé€Ÿå˜å°ã€‚èƒ½é‡å®ˆæ’ä¸ä¼¯åŠªåˆ©æ–¹ç¨‹ï¼Œé™å‹åŠ åŠ¨å‹ä¸ºå¸¸æ•°ï¼Œæµé€Ÿå¤§ï¼ŒåŠ¨å‹å¤§ã€‚è¯¾ä¸Šçš„â€œèŒ…å±‹ä¸ºç§‹é£æ‰€ç ´â€çš„ä¾‹å­ä¹Ÿå¾ˆç”ŸåŠ¨å½¢è±¡ã€‚ çˆ±è¯¾ç¨‹ 2.2 é£æœºçš„å‡åŠ›åœ¨ç¬¬äºŒèŠ‚ï¼Œæˆ‘å­¦ä¹ åˆ°ï¼Œé£æœºä¸Šä¸‹ç¿¼çš„æµé€Ÿä¸åŒï¼Œä¸Šä¸‹ç¿¼é¢å½¢æˆå‹å¼ºå·®ï¼Œä»è€Œäº§ç”Ÿäº†å‡åŠ›ï¼Œä½¿å¾—é£æœºå¹³è¡¡äº†é‡åŠ›ã€‚å½±å“å‡åŠ›çš„å› ç´ æœ‰â€”â€”ç¿¼é¢ç§¯ã€é£è¡Œé€Ÿåº¦ã€ç©ºæ°”å¯†åº¦ã€ç¿¼å‹å’Œè¿è§’ï¼ˆé£ç­äº§ç”Ÿå‡åŠ›çš„åŸå› ï¼‰ã€‚è¿è§’è¿‡å¤§ä¼šå¼•èµ·å¤±é€Ÿï¼Œä¸åˆ©äºèµ·é™ï¼Œå€ŸåŠ©è¥Ÿç¿¼å¢å‡è£…ç½®å¯ä»¥å®ç°å¹³ç¨³èµ·é™ã€‚é«˜å‡åŠ›ã€ä½é˜»åŠ›æ˜¯è®¾è®¡é£æœºçš„æ°¸æ’ç›®æ ‡ã€‚ å­¦å ‚åœ¨çº¿ 3 æ¢æœˆå·¥ç¨‹åœ¨å­¦å ‚åœ¨çº¿çš„3.7/9/9ï¼Œæˆ‘å­¦ä¹ åˆ°ï¼Œâ€œå«¦å¨¥ä¸€å·â€æ˜¯æˆ‘å›½ç¬¬ä¸€é¢—æœˆçƒæ¢æµ‹å«æ˜Ÿï¼Œçªç ´äº†å¾ˆå¤šå…³é”®æŠ€æœ¯ï¼Œé£è¡Œè½¨é“è®¾è®¡å°±æ˜¯å…³é”®çš„ä¸€ç¯ã€‚ä¸­å›½æ•´ä¸ªæ¢æœˆå·¥ç¨‹åˆ†ä¸ºâ€œç»•â€ã€â€œè½â€ã€â€œå›â€3ä¸ªé˜¶æ®µã€‚å«¦å¨¥ä¸‰å·åœ¨æœˆçƒä¸ŠæˆåŠŸè½¯ç€é™†ï¼Œæœ‰ç€éå¸¸é‡è¦çš„æ„ä¹‰ã€‚å«¦å¨¥äº”å·åˆ™å°†å®ç°â€œå›â€ï¼Œä¸å‰é¢å‡ ä¸ªæ¢æµ‹å™¨ä¸åŒï¼Œé¢„è®¡äº2020å¹´å‘å°„ã€‚ å«¦å¨¥å››å·åœ¨æœˆçƒèƒŒé¢ç€é™†æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿä¹‹æ‰€ä»¥äººç±»å¯¹äºæœˆçƒçš„æ¢ç´¢éƒ½é›†ä¸­åœ¨æ­£é¢ï¼Œæ˜¯å› ä¸ºåœ¨èƒŒé¢çš„ç€é™†éš¾åº¦è¿œè¿œå¤§äºæ­£é¢ã€‚æœˆçƒèƒŒé¢æ¥æ”¶ä¸åˆ°æ¥è‡ªåœ°çƒçš„ä»»ä½•è¾å°„å¹²æ‰°ï¼Œé£è¡Œå™¨æ— æ³•ä¸åœ°é¢å–å¾—è”ç»œã€‚ä¸­å›½æˆåŠŸéƒ¨ç½²äº†â€œé¹Šæ¡¥å·â€ä¸­ç»§å«æ˜Ÿï¼Œä¸ºå«¦å¨¥å››å·åœ¨æœˆçƒèƒŒé¢ç€é™†åšå¥½äº†å‡†å¤‡ã€‚å«¦å¨¥å››å·åœ¨æœˆçƒèƒŒé¢ç€é™†ï¼Œå¯ä»¥é‡‡é›†æœˆçƒèƒŒé¢çš„ç‰¹æœ‰ä¿¡æ¯ï¼Œè€Œå«¦å¨¥å››å·ä»»åŠ¡æ›´æ˜¯ä¸ºä¸­å›½èˆªå¤©è¿ˆå‡ºäº†çªç ´æ€§çš„ä¸€æ­¥ã€‚ æˆ‘å›½åŒ—æ–—å«æ˜Ÿå¯¼èˆªç³»ç»Ÿæœ‰å“ªäº›åŠŸèƒ½ï¼Ÿæˆ‘å›½åŒ—æ–—å«æ˜Ÿå¯¼èˆªç³»ç»Ÿå·²å¹¿æ³›åº”ç”¨äºäº¤é€šè¿è¾“ã€åŸºç¡€æµ‹ç»˜ã€å·¥ç¨‹å‹˜æµ‹ã€èµ„æºè°ƒæŸ¥ã€åœ°éœ‡ç›‘æµ‹ã€æ°”è±¡æ¢æµ‹å’Œæµ·æ´‹å‹˜æµ‹ç­‰é¢†åŸŸã€‚å…·ä½“çš„åŠŸèƒ½å¦‚ä¸‹ï¼š åŸºæœ¬å¯¼èˆªæœåŠ¡ã€‚ä¸ºå…¨çƒç”¨æˆ·æä¾›æœåŠ¡ï¼Œç©ºé—´ä¿¡å·ç²¾åº¦å°†ä¼˜äº0.5ç±³ï¼›å…¨çƒå®šä½ç²¾åº¦å°†ä¼˜äº10ç±³ï¼Œæµ‹é€Ÿç²¾åº¦ä¼˜äº0.2ç±³/ç§’ï¼Œæˆæ—¶ç²¾åº¦ä¼˜äº20çº³ç§’ï¼›äºšå¤ªåœ°åŒºå®šä½ç²¾åº¦å°†ä¼˜äº5ç±³ï¼Œæµ‹é€Ÿç²¾åº¦ä¼˜äº0.1ç±³/ç§’ï¼Œæˆæ—¶ç²¾åº¦ä¼˜äº10çº³ç§’ï¼Œæ•´ä½“æ€§èƒ½å¤§å¹…æå‡ã€‚ çŸ­æŠ¥æ–‡é€šä¿¡æœåŠ¡ã€‚ä¸­å›½åŠå‘¨è¾¹åœ°åŒºçŸ­æŠ¥æ–‡é€šä¿¡æœåŠ¡ï¼ŒæœåŠ¡å®¹é‡æé«˜10å€ï¼Œç”¨æˆ·æœºå‘å°„åŠŸç‡é™ä½åˆ°åŸæ¥çš„1/10ï¼Œå•æ¬¡é€šä¿¡èƒ½åŠ›1000æ±‰å­—ï¼ˆ14000æ¯”ç‰¹ï¼‰ï¼›å…¨çƒçŸ­æŠ¥æ–‡é€šä¿¡æœåŠ¡ï¼Œå•æ¬¡é€šä¿¡èƒ½åŠ›40æ±‰å­—ï¼ˆ560æ¯”ç‰¹ï¼‰ã€‚ æ˜ŸåŸºå¢å¼ºæœåŠ¡ã€‚æŒ‰ç…§å›½é™…æ°‘èˆªç»„ç»‡æ ‡å‡†ï¼ŒæœåŠ¡ä¸­å›½åŠå‘¨è¾¹åœ°åŒºç”¨æˆ·ï¼Œæ”¯æŒå•é¢‘åŠåŒé¢‘å¤šæ˜Ÿåº§ä¸¤ç§å¢å¼ºæœåŠ¡æ¨¡å¼ï¼Œæ»¡è¶³å›½é™…æ°‘èˆªç»„ç»‡ç›¸å…³æ€§èƒ½è¦æ±‚ã€‚ å›½é™…æœæ•‘æœåŠ¡ã€‚æŒ‰ç…§å›½é™…æµ·äº‹ç»„ç»‡åŠå›½é™…æœç´¢å’Œæ•‘æ´å«æ˜Ÿç³»ç»Ÿæ ‡å‡†ï¼ŒæœåŠ¡å…¨çƒç”¨æˆ·ã€‚ä¸å…¶ä»–å«æ˜Ÿå¯¼èˆªç³»ç»Ÿå…±åŒç»„æˆå…¨çƒä¸­è½¨æœæ•‘ç³»ç»Ÿï¼ŒåŒæ—¶æä¾›è¿”å‘é“¾è·¯ï¼Œæå¤§æå‡æœæ•‘æ•ˆç‡å’Œèƒ½åŠ›ã€‚ ç²¾å¯†å•ç‚¹å®šä½æœåŠ¡ã€‚æœåŠ¡ä¸­å›½åŠå‘¨è¾¹åœ°åŒºç”¨æˆ·ï¼Œå…·å¤‡åŠ¨æ€åˆ†ç±³çº§ã€é™æ€å˜ç±³çº§çš„ç²¾å¯†å®šä½æœåŠ¡èƒ½åŠ›ã€‚ ï¼ˆå‚è€ƒèµ„æ–™ï¼šç™¾åº¦ç™¾ç§‘ï¼‰","permalink":"https://mondaycha.github.io/2020/03/20/320-1/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"OO ç¬¬ä¸€å•å…ƒæ€»ç»“ è¡¨è¾¾å¼æ±‚å¯¼","date":"2020/03/19","text":"OO ç¬¬ä¸€å•å…ƒæ€»ç»“ è¡¨è¾¾å¼æ±‚å¯¼OOç¬¬ä¸€å•å…ƒé€šè¿‡ä¸‰æ¬¡é€’è¿›å¼çš„ä½œä¸šè®©æˆ‘ä»¬å®ç°è¡¨è¾¾å¼æ±‚å¯¼ï¼Œåœ¨è¿™å‡ æ¬¡ä½œä¸šä¸­æˆ‘ä¹Ÿæœ‰å¾ˆå¤šæ”¶è·ã€‚ä¸‹é¢å°±å›é¡¾ä¸€ä¸‹å‰ä¸‰æ¬¡ä½œä¸šä¸­å­˜åœ¨çš„é—®é¢˜ã€‚ åœ¨ä¸ªäººçœ‹æ¥ï¼Œè¡¨è¾¾å¼æ±‚å¯¼çš„éš¾ç‚¹ä¸»è¦æœ‰ä¸‰éƒ¨åˆ†â€”â€”å¯¹è¾“å…¥çš„å¤„ç†ã€è¡¨è¾¾å¼çš„å­˜å‚¨ç»“æ„ä»¥åŠåŒ–ç®€ã€‚è¿™ä¸‰æ¬¡ä½œä¸šæˆ‘æ‰€é‡‡ç”¨çš„è¡¨è¾¾å¼å­˜å‚¨ç»“æ„éƒ½ä¸ç›¸åŒï¼Œä¸è¿‡é‡æ„çš„é€Ÿåº¦è¿˜æ˜¯æ¯”è¾ƒå¿«çš„ï¼ˆå®‰æ…°è‡ªå·±ï¼‰ã€‚ ç¬¬ä¸€æ¬¡ä½œä¸šåœ¨ç¬¬ä¸€æ¬¡ä½œä¸šä¸­ï¼Œæˆ‘çš„ç¨‹åºæ€»ä½“æ¶æ„ä¸ºæå–å¹‚å‡½æ•°ä¸ºPolyå¯¹è±¡ï¼Œå»ºç«‹Polynomialç±»è§£æè¡¨è¾¾å¼åˆ›å»ºå¹‚å‡½æ•°å¯¹è±¡ï¼Œåœ¨ä¸»ç±»Derivativeä¸­è¿›è¡Œéƒ¨åˆ†æ€§èƒ½ä¼˜åŒ–å·¥ä½œã€‚ â‘  ç¨‹åºç»“æ„åˆ†æUMLç±»å›¾ï¼š ç¬¬ä¸€æ¬¡ä½œä¸šçš„å¹‚å‡½æ•°å› å­è¾ƒä¸ºç®€å•ï¼Œä»£ç ä¸­ä»…æç‚¼å‡ºPolyå¯¹è±¡ï¼Œå¹¶åœ¨å…¶å†…éƒ¨å®ç°æ±‚å¯¼æ–¹æ³•ã€‚ Methodå¤æ‚åº¦ï¼š Method ev(G) iv(G) v(G) Derivative.main(String[]) 1 1 1 Derivative.printAnswer(HashMap) 4 5 7 Poly.Poly(BigInteger,BigInteger) 1 1 1 Poly.addCoef(BigInteger) 1 1 1 Poly.compareTo(Object) 1 1 1 Poly.derivative() 1 2 2 Poly.equals(Object) 2 2 2 Poly.getCoeff() 1 1 1 Poly.getIndex() 1 1 1 Poly.hashCode() 1 1 1 Poly.toString() 1 11 12 Polynomial.Polynomial(String) 1 1 1 Polynomial.getPolyitem() 1 2 2 Polynomial.getfirstitem() 1 9 10 ç¬¬ä¸€æ¬¡ä½œä¸šä¸­ï¼ŒåŒ–ç®€ä¸»è¦åœ¨ä¸»ç±»Derivativeçš„printAnswer()æ–¹æ³•ï¼ˆå°†ç¬¬ä¸€ä¸ªæ­£é¡¹ä¼˜å…ˆè¾“å‡ºï¼‰å’ŒPolyç±»çš„toString()æ–¹æ³•ä¸­ï¼ŒprintAnswer()æ¶‰åŠå¯¹è¡¨è¾¾å¼çš„éå†ï¼ŒåŸºæœ¬å¤æ‚æ€§é«˜ï¼›toString()åˆ™åŒ…å«å¤§é‡æ¡ä»¶è¯­å¥ï¼Œå¤šæ¬¡è°ƒç”¨äº†BigIntegerä¸­çš„æ–¹æ³•ï¼Œå¾ªç¯ä¾èµ–æ€§é«˜ã€‚è€Œè¡¨è¾¾å¼è§£ææˆ‘é‡‡ç”¨çš„æ˜¯æ­£åˆ™+çŠ¶æ€æœºçš„ç­–ç•¥ï¼ˆè¿™ä¸ªç­–ç•¥ä¸‰æ¬¡ä½œä¸šå‡æ²¿ç”¨ï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆèˆ’æœçš„ï¼‰ï¼Œåœ¨getfirstitem()ä¸­å¤„ç†ä¸åŒç±»å‹è¾“å…¥å¹¶å½’ä¸€åŒ–ï¼Œä»£ç è¾ƒä¸ºå¤æ‚ã€‚ â‘¡ ç¨‹åºBugåˆ†æç¬¬ä¸€æ¬¡ä½œä¸šåœ¨å¼ºæµ‹ã€äº’æµ‹ä¸­å‡æœªå‡ºç°Bugã€‚ â‘¢ äº’æµ‹é‡‡ç”¨ç­–ç•¥äº’æµ‹æ—¶æˆ‘é‡‡ç”¨çš„ç­–ç•¥æ˜¯â€œè¡¥åˆ€â€ã€‚æˆ‘å…ˆæ˜¯ç”¨ç®€å•çš„è‡ªåŠ¨æµ‹è¯•ç¨‹åºè·‘äº†ä¸‹æˆ¿é—´å†…æˆå‘˜çš„ä»£ç ï¼Œä¸è¿‡è²Œä¼¼æ²¡æœ‰å‡ºç°é—®é¢˜ï¼›ç„¶è€Œåœ£æ¯æˆ˜äº‰å‘ç”Ÿäº†è½¬æœºâ€”â€”Riderç«Ÿç„¶æ‹¿ä¸‹äº†ä¸€è¡€ï¼ äºæ˜¯æˆ‘ä¸€ä¸€æ£€æŸ¥å…¶ä»–æˆå‘˜çš„ä»£ç ï¼Œå‘ç°Berserkerçš„æ­£åˆ™å­˜åœ¨é—®é¢˜ï¼šåœ¨æ­£åˆ™ä¸­åŒ¹é…çš„æ˜¯â€œ[+|-]{0,2}(\\\\d*.)?x(..[+|-]?\\\\d+)?â€ï¼Œå…¶ä¸­çš„â€œ.â€å¯åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œå°±ä¼šé”™è¯¯è§£æè¡¨è¾¾å¼ã€‚ ç¬¬ä¸€æ¬¡äº’æµ‹æ—¶è®¤çœŸè¯»äº†å±‹å†…å…¶ä»–åŒå­¦çš„ä»£ç ï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆæœ‰æ”¶è·çš„ã€‚ä¹‹åä¸¤æ¬¡å¤§éƒ¨åˆ†éƒ½è¯»ä¸ä¸‹å»ï¼Œå¯è¯»æ€§å®åœ¨æ˜¯è®©äººè‚ç–¼â€¦â€¦æ”¾åˆ°è¯„æµ‹å§¬é‡Œè‡ªç”Ÿè‡ªç­å§ï¼å¦å¤–è¿™æ¬¡äº’æµ‹ä¹Ÿè®©æˆ‘æ„è¯†åˆ°äº†é«˜å·¥åŒå­¦çš„å¯æ€•ä¹‹å¤„ï¼ˆè¯¯ï¼‰ï¼Œå…¨å±‹å­å°±è¿™ä¸€ä¸ªBugï¼Œå¤§ä½¬æ¢ç€èŠ±æ ·hackâ€¦â€¦å·å·æ›´å¥åº·ã€‚ â‘£ å¯¹è±¡åˆ›å»ºæ¨¡å¼åœ¨ç¬¬ä¸€æ¬¡ä½œä¸šä¸­ï¼Œæˆ‘å¹¶æ²¡æœ‰åº”ç”¨å¯¹è±¡åˆ›å»ºæ¨¡å¼ï¼Œè¡¨è¾¾å¼è§£æå°±é¡ºä¾¿newäº†æ–°å› å­ï¼ŒPolynomialç±»çš„ç´§è€¦åˆæ¯”è¾ƒä¸¥é‡ã€‚ ç¬¬äºŒæ¬¡ä½œä¸šç¬¬äºŒæ¬¡ä½œä¸šå¢åŠ äº†ä¸‰è§’å‡½æ•°å› å­ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä¹Ÿå·å·çœ‹äº†ä¸€ä¸‹å»å¹´çš„ç¬¬ä¸‰æ¬¡ä½œä¸šé¢˜ç›®ï¼Œæ–°å¢åŠ çš„åµŒå¥—å¯¹äºè¡¨è¾¾å¼çš„åŒ–ç®€æ— ç–‘æ˜¯ä¸å°çš„æŒ‘æˆ˜ã€‚æ‰€ä»¥åœ¨è§„åˆ’ç¬¬äºŒæ¬¡ä½œä¸šçš„æ€»ä½“æ¶æ„æ—¶ï¼Œæˆ‘å°±é¢ä¸´ç€ä¸€ä¸ªé€‰æ‹©â€”â€”æ˜¯è¦å»ºç«‹ç»ˆå°†åœ¨ç¬¬ä¸‰æ¬¡ä½œä¸šé‡æ„çš„å››å…ƒç»„é¡¹ï¼›è¿˜æ˜¯è¦é‡‡ç”¨â€œè¡¨è¾¾å¼-é¡¹-å› å­â€ä¸‰å±‚ç»“æ„ï¼Œä¸ºç¬¬ä¸‰æ¬¡ä½œä¸šç•™å¥½è¿­ä»£çš„ç©ºé—´ï¼Ÿ ç»è¿‡ä¸€ç•ªæŒ£æ‰ï¼ˆå…¶å®å¹¶æ²¡æœ‰ï¼Œå› ä¸ºæˆ‘è¿˜ä¸ä¼šå†™ä¸‰å±‚ç»“æ„ï¼‰ï¼Œæˆ‘é€‰æ‹©äº†åŠ¿å¿…å¸¦æ¥é‡æ„çš„å››å…ƒç»„å½¢å¼ï¼Œä¹Ÿå°±æ˜¯å°†è¡¨è¾¾å¼çš„æ¯ä¸€é¡¹ä»¥â€œcoeff*x**powindex*sin(x)**sinindex*cos(x)**cosindexâ€çš„å½¢å¼å­˜å‚¨ï¼Œè¿™æ ·å¤„ç†æ–¹å¼å°±å’Œç¬¬ä¸€æ¬¡ä½œä¸šåŸºæœ¬ä¸€è‡´ã€‚åœ¨åŸºæœ¬æ¶æ„æ²¿ç”¨ç¬¬ä¸€æ¬¡ä½œä¸šçš„æƒ…å†µä¸‹ï¼Œç¬¬äºŒæ¬¡ä½œä¸šç»™æˆ‘æœ€å¤§çš„æŒ‘æˆ˜åè€Œæ˜¯ä¸‰è§’å‡½æ•°çš„åŒ–ç®€ï¼Œæˆ‘çš„åŒ–ç®€ç±»Simplifyçš„è¡Œæ•°æ˜¯æœ€å¤šçš„ã€‚ â‘  ç¨‹åºç»“æ„åˆ†æUMLç±»å›¾ï¼š æ¶æ„åŸºæœ¬æ²¿ç”¨ç¬¬ä¸€æ¬¡ä½œä¸šï¼ŒUMLä¹Ÿå·®ä¸å¤šï¼Œä¸è¿‡è¿™æ¬¡çš„ç®€åŒ–æ›´å¤æ‚ä¸€äº›ã€‚ Methodå¤æ‚åº¦ï¼š Method ev(G) iv(G) v(G) DeriPrinter.DeriPrinter(HashMap) 1 7 7 DeriPrinter.getAnswer(HashMap) 4 5 7 DeriPrinter.printAnswer() 1 2 2 Item.Item(BigInteger,BigInteger,BigInteger) 1 1 1 Item.compareTo(Object) 3 3 3 Item.equals(Object) 2 4 4 Item.getCosin() 1 1 1 Item.getPowin() 1 1 1 Item.getSinin() 1 1 1 Item.hashCode() 1 1 1 Item.toString() 1 5 8 MainClass.main(String[]) 1 1 1 MutiItem.MutiItem(BigInteger,BigInteger,BigInteger,BigInteger) 1 1 1 MutiItem.MutiItem(BigInteger,Item) 1 1 1 MutiItem.addCoeff(BigInteger) 1 1 1 MutiItem.compareTo(Object) 1 1 1 MutiItem.derivate() 1 5 5 MutiItem.equals(Object) 2 2 2 MutiItem.getCoeff() 1 1 1 MutiItem.getCosin() 1 1 1 MutiItem.getIdentity() 1 1 1 MutiItem.getItem() 1 1 1 MutiItem.getPowin() 1 1 1 MutiItem.getSinin() 1 1 1 MutiItem.hashCode() 1 1 1 MutiItem.toString() 1 5 5 ParseExp.MutiItemSign() 2 3 4 ParseExp.ParseExp(String) 1 5 6 ParseExp.WrongFormat(String) 1 1 1 ParseExp.getExpression() 1 2 2 ParseExp.getFirstitem() 3 13 14 Simplify.Simplify(HashMap) 1 2 2 Simplify.exitmatch(BigInteger,Item,Item,Item,HashMap) 2 3 4 Simplify.searchcos(HashMap) 4 6 9 Simplify.simplify() 1 3 4 ç”±äºä¸€å¼€å§‹å¹¶æ²¡æœ‰æ˜ç¡®çš„åŒ–ç®€æ€è·¯ï¼Œåœ¨ç¬¬ä¸€éå®ç°äº†åŸºæœ¬æ±‚å¯¼åŠŸèƒ½çš„ä»£ç é€šè¿‡ä¸­æµ‹ä¹‹åï¼Œæˆ‘ä¸ºäº†å®ç°åŒ–ç®€åŠŸèƒ½ï¼Œåˆå¯¹ä»£ç å†…ç±»çš„ç»“æ„åšäº†å¾ˆå¤šä¿®æ”¹ï¼Œåœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œå°½ç®¡æˆ‘ç¡®å®ç”¨ç±»å°†è¡¨è¾¾å¼ä¸­çš„Itemä¸MulItemåšäº†å°è£…ï¼Œä½†æˆ‘å´èƒ¡ä¹±ä¿®æ”¹å†…éƒ¨æ–¹æ³•ï¼Œè¿™å¹¶ä¸ç¬¦åˆé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œä¹Ÿå¯¼è‡´æœ€åä»£ç å¯è¯»æ€§æå·®ï¼Œä¹Ÿä¸ºäº’æµ‹æ—¶è¢«å‘ç°çš„BugåŸ‹ä¸‹äº†ç¥¸æ ¹ã€‚å…·ä½“è¡¨ç°åˆ°MetricReloadedçš„åˆ†æä¸Šï¼Œå°±æ˜¯ParseExpç±»çš„getFirstitem()ä¾ç„¶æ˜¯å¤æ‚åº¦é‡ç¾åŒºï¼Œæ²¡æœ‰é‡‡ç”¨å·¥å‚æ¨¡å¼ä¹Ÿä½¿å¾—å®ƒä¸å…¶ä»–ç±»çš„ä¾èµ–æä¸ºä¸¥é‡ï¼Œä¼˜åŒ–è¾“å‡ºçš„å†…å®¹ä¾ç„¶æœ‰å¾ˆé«˜çš„åŸºæœ¬å¤æ‚æ€§ã€‚ â‘¡ ç¨‹åºBugåˆ†æå¼ºæµ‹ä¸­è·å¾—æ€§èƒ½åˆ†ä¸º16.545/20ï¼Œåœ¨å¤„ç†è¡¨è¾¾å¼åŒ–ç®€æ—¶ï¼Œæˆ‘æ‰€é‡‡ç”¨çš„æ˜¯æš´åŠ›æœç´¢çš„æ–¹å¼ï¼Œæ¯æ¬¡æœç´¢åˆ°å¯ä»¥åˆå¹¶çš„é¡¹å°±å°†å…¶åˆå¹¶ï¼Œç„¶åè¿›è¡Œé‡æ–°æœç´¢ã€‚ è¿™ç§æ–¹æ³•æ˜¾ç„¶åªèƒ½æ‰¾åˆ°ä¸€ä¸ªæä¼˜è§£ï¼Œå´ä¸èƒ½æ‰¾åˆ°æœ€ä¼˜è§£ï¼Œè¡¨è¾¾å¼é¡¹å­˜å‚¨é¡ºåºå¯¹ç»“æœä¹Ÿæœ‰å¾ˆå¤§å½±å“ã€‚ä¸€ç§æ›´åŠ å¯è¡Œçš„æ–¹å¼æ˜¯é‡‡ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œä¸è¿‡å½“æ—¶å¹¶æ²¡æœ‰æƒ³å‡ºå…·ä½“çš„å®ç°æ–¹æ³•ï¼Œåªå¥½ä½œç½¢ã€‚ äº’æµ‹æ—¶è¢«æ‰¾å‡ºæ¥ä¸€ä¸ªBugï¼ŒåŒæ—¶å‘ç°Berserkerçš„ä¸€ä¸ªBugï¼ˆç‹‚æˆ˜å£«æ—¥å¸¸èººæªï¼‰ã€‚è€Œæˆ‘çš„Bugæ˜¯HashMapçš„Keyå†™é”™ï¼Œåœ¨ç”ŸæˆMulItemçš„Keyæ—¶ï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯å°†æŒ‡æ•°æ‹¼æ¥ä¸ºStringçš„æ–¹å¼ï¼Œåœ¨æŒ‡æ•°è¾ƒå¤§æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸åŒé¡¹è¢«å½“ä½œåŒä¸€é¡¹å­˜å…¥HashMapä¸­ï¼Œé€ æˆæ±‚å¯¼é”™è¯¯ã€‚ ä¿®æ”¹ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ç”ŸæˆStringçš„æ—¶å€™ç»™ä¸åŒæŒ‡æ•°åŠ ä¸ªåˆ†éš”ç¬¦å°±å¥½äº†â€”â€” public MutiItem(BigInteger a, BigInteger b, BigInteger c, BigInteger d) { this.coeff = a; this.item = new Item(b, c, d); // before: identity = \"\" + b + c + d; identity = \"\" + b + \".\" + c + \".\" + d;} å¯ä»¥å‘ç°è¿™é‡Œæˆ‘çš„MutiItemçš„æ„é€ æ–¹æ³•æ˜¯éå¸¸æ··ä¹±çš„ï¼Œä¸è¿‡æ²¡æœ‰å‘ç°è¿™ä¹ˆæ˜æ˜¾çš„Bugï¼Œä¸€æ–¹é¢å°±æ˜¯æ··ä¹±çš„ä¼˜åŒ–å¸¦æ¥çš„å‰¯ä½œç”¨ï¼›å¦ä¸€æ–¹é¢ä¹Ÿæ˜¯å› ä¸ºè¿™æ ·çš„æ•°æ®å‡ºç°å‡ ç‡ç¡®å®å¾ˆå°ï¼ŒåŒå±‹é‡Œä¹Ÿåªæœ‰ä¸€ä¸ªåŒå­¦å‘ç°äº†è¿™ä¸ªBugï¼ˆæˆ‘åæ¥å’Œhackæˆ‘çš„åŒå­¦äº¤æµäº†ä¸‹ï¼Œæœç„¶æ˜¯é•¿æ—¶é—´è·‘éšæœºè‡ªåŠ¨æµ‹è¯•ç¨‹åºæ‰æ‰¾åˆ°çš„â€¦â€¦ï¼‰ â‘¢ äº’æµ‹é‡‡ç”¨ç­–ç•¥åœ¨è¿™æ¬¡äº’æµ‹æ˜¯é‡‡ç”¨å¯¹æ‹+æ‰‹åŠ¨æ„é€ æ ·ä¾‹+Pythonç”Ÿæˆéšæœºæ•°æ®è‡ªåŠ¨è¯„æµ‹çš„æ–¹å¼ã€‚å±‹å†…é™¤æˆ‘åªæœ‰ä¸€ä¸ªBugï¼Œå¤§å®¶å¾ˆå¿«æ‰¾åˆ°ä¹‹åä¹Ÿæ¯”è¾ƒä½›ç³»ã€‚ äº’æµ‹ä¸­é˜…è¯»äº†åŒå±‹å­å¤§ä½¬å¤„ç†ç®€åŒ–çš„DFSï¼Œç¡®å®å‰å®³ï¼›å¦å¤–è¿˜æ‹œè¯»äº†å¦ä¸€ä¸ªæˆ¿é—´Alteregoçš„æ¶æ„ï¼Œç±»ä¼¼Sympyçš„è¡¨è¾¾å¼ç»“æ„ç®€ç›´å«äººæ‹æ¡ˆå«ç»ï¼Œè®¡ç®—æ–¹å¼ä¼˜ç¾ï¼Œè®©æˆ‘çœ‹åˆ°äº†ä»€ä¹ˆæ˜¯çœŸæ­£çš„å°è£…ã€å¤šæ€ã€ç»§æ‰¿ï¼Œä¹Ÿæœ‰æ›´å¤šä¿¡å¿ƒå»é¢å¯¹ç¬¬ä¸‰æ¬¡ä½œä¸šã€‚ï¼ˆä¸è¿‡å¬è¯´åœ¨é‚£ä¸ªå±‹Alteregoè¢«hackçš„å¾ˆæƒ¨ï¼Œæ‚²ï¼‰ â‘£ å¯¹è±¡åˆ›å»ºæ¨¡å¼åœ¨ç¬¬äºŒæ¬¡ä½œä¸šä¸­ï¼Œç”±äºä½¿ç”¨çš„æ˜¯å’Œç¬¬ä¸€æ¬¡ä½œä¸šç±»ä¼¼çš„å››å…ƒç»„é¡¹ï¼Œæˆ‘ä¾ç„¶æ²¡æœ‰åº”ç”¨å¯¹è±¡åˆ›å»ºæ¨¡å¼ï¼Œè¡¨è¾¾å¼è§£æé‡Œåˆnewäº†æ–°å› å­ï¼Œç´§è€¦åˆä¾ç„¶ä¸¥é‡ã€‚è¿™åœ¨ç¬¬ä¸‰æ¬¡ä½œä¸šä¸­æœ‰ä¸€å®šæ”¹å–„ã€‚ ç¬¬ä¸‰æ¬¡ä½œä¸šå‰ä¸¤æ¬¡ä½œä¸šéƒ½æ²¡æœ‰å¯¹è¡¨è¾¾å¼è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼Œå¯¼è‡´äº†ç¬¬ä¸‰æ¬¡ä½œä¸šè¡¨è¾¾å¼çš„å­˜å‚¨ç»“æ„å¿…é¡»å¤§æ”¹ã€‚ å¥½åœ¨è¡¨è¾¾å¼æ±‚å¯¼çš„ä¸‰å¤§éš¾ç‚¹â€”â€”å¯¹è¾“å…¥çš„å¤„ç†ã€è¡¨è¾¾å¼çš„å­˜å‚¨ç»“æ„ä»¥åŠåŒ–ç®€ï¼Œè¿™æ¬¡éƒ½å¤„ç†å¾—æ¯”è¾ƒå¥½â€”â€” å¯¹è¾“å…¥çš„å¤„ç†ä¸Šï¼Œæœ‰äº†å‰ä¸¤æ¬¡ä½œä¸šä¸­é‡‡ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼åŠ æœ‰é™çŠ¶æ€æœºè¯»å…¥çš„ç»éªŒï¼Œä¿®æ”¹å¾ˆå¿«ï¼› è¡¨è¾¾å¼çš„å­˜å‚¨ç»“æ„ä¸Šå¸å–äº†Alteregoçš„æ¶æ„ï¼ˆæ„Ÿè°¢Alteregoï¼ï¼ï¼ï¼ï¼‰ï¼Œåœ¨è¿›è¡Œé‡æ„çš„æ—¶å€™æ€è·¯æ¯”è¾ƒæ¸…æ™°ï¼Œé¿å…äº†ç¬¬äºŒæ¬¡ä½œä¸šæƒ¨å‰§çš„é‡æ¼”ï¼› åŒ–ç®€ä¸Šï¼Œå±‚æ¬¡åŒ–çš„è¡¨è¾¾å¼å­˜å‚¨æ–¹å¼å‘æŒ¥å‡ºäº†å®ƒçš„ä¼˜è¶Šæ€§ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ¥å£è¿›è¡Œå› å­ç±»å‹çš„è½¬æ¢ï¼Œæ•ˆæœå¥½ï¼› åœ¨ç¬¬ä¸‰æ¬¡ä½œä¸šæˆ‘ä¹Ÿé¦–æ¬¡é‡‡ç”¨äº†Packageæ¥ç®¡ç†ç±»ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå°è¿›æ­¥ã€‚ â‘  ç¨‹åºç»“æ„åˆ†æUMLç±»å›¾ï¼š è¿™ä¸€æ¬¡çš„ç±»å›¾å¾ˆä¹±ï¼Œä¸»è¦åŸå› è¿˜æ˜¯åœ¨äºè¡¨è¾¾å¼ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå› å­åµŒå¥—è¿›ä¸‰è§’å‡½æ•°ä¸­ï¼Œç±»ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ä¹Ÿæ¯”è¾ƒæ˜æ˜¾ã€‚ Methodå¤æ‚åº¦ï¼š Method ev(G) iv(G) v(G) homework.MainClass.main(String[]) 1 2 2 homework.expression.ExpFunction.Exception.Exception(String) 1 1 1 homework.expression.ExpFunction.deleteSpace(String) 3 7 10 homework.expression.ExpFunction.matchParentheses(String,int) 6 6 7 homework.expression.ExpFunction.readIndex(String) 2 1 2 homework.expression.ExpFunction.simplifyExpParentheses(String) 9 11 14 homework.expression.ExpFunction.simplifyParentheses(String,int[]) 1 1 8 homework.expression.ExpFunction.simplifySign(String) 4 3 4 homework.expression.ExpParser.Exception.Exception(String) 1 1 1 homework.expression.ExpParser.ExpParser(String) 3 2 3 homework.expression.ExpParser.getItemAdd(String,boolean) 5 6 9 homework.expression.ExpParser.getItemMul(String) 4 3 5 homework.expression.ExpParser.matchParentheses() 7 4 8 homework.expression.ExpParser.readOneItem(String) 6 9 12 homework.expression.ExpParser.spliter() 1 1 1 homework.expression.ExpSimplify.ExpSimplify(Derivable) 1 2 2 homework.expression.ExpSimplify.OnlyOneDiff(Derivable,Derivable) 9 17 26 homework.expression.ExpSimplify.getDiff(boolean,int,int,ItemMul,ItemMul) 1 4 6 homework.expression.ExpSimplify.searchSimplify(ItemAdd) 4 4 4 homework.expression.ExpSimplify.simplify() 2 2 4 homework.polyitem.factor.Factor.Factor() 1 1 1 homework.polyitem.factor.Factor.Factor(BigInteger) 1 1 1 homework.polyitem.factor.Factor.getIndex() 1 1 1 homework.polyitem.factor.Factor.setIndex(BigInteger) 1 1 1 homework.polyitem.factor.Factor.updateIndex(BigInteger) 1 1 1 homework.polyitem.factor.FactorExp.FactorExp() 1 1 1 homework.polyitem.factor.FactorExp.FactorExp(ItemAdd) 1 1 1 homework.polyitem.factor.FactorExp.FactorExp(ItemAdd,BigInteger) 1 1 1 homework.polyitem.factor.FactorExp.clone() 1 1 1 homework.polyitem.factor.FactorExp.derivate() 4 4 5 homework.polyitem.factor.FactorExp.equals(Object) 3 3 4 homework.polyitem.factor.FactorExp.equalsZero() 1 1 1 homework.polyitem.factor.FactorExp.getExpression() 1 1 1 homework.polyitem.factor.FactorExp.identity() 1 1 1 homework.polyitem.factor.FactorExp.toString() 1 4 4 homework.polyitem.factor.FactorFactory.readPower(Matcher) 1 2 2 homework.polyitem.factor.FactorFactory.readTrian(Matcher) 1 2 3 homework.polyitem.factor.FactorFactory.simplifyFunc(Derivable) 2 4 5 homework.polyitem.factor.FuncConst.FuncConst() 1 1 1 homework.polyitem.factor.FuncConst.FuncConst(BigInteger) 1 1 1 homework.polyitem.factor.FuncConst.FuncConst(String) 1 1 1 homework.polyitem.factor.FuncConst.clone() 1 1 1 homework.polyitem.factor.FuncConst.derivate() 1 1 1 homework.polyitem.factor.FuncConst.equals(Object) 2 2 2 homework.polyitem.factor.FuncConst.equalsOne() 1 1 1 homework.polyitem.factor.FuncConst.equalsZero() 1 1 1 homework.polyitem.factor.FuncConst.getValue() 1 1 1 homework.polyitem.factor.FuncConst.identity() 1 1 1 homework.polyitem.factor.FuncConst.setValue(BigInteger) 1 1 1 homework.polyitem.factor.FuncConst.toString() 1 1 1 homework.polyitem.factor.FuncConst.updateValue(BigInteger) 1 1 1 homework.polyitem.factor.FuncPower.FuncPower() 1 1 1 homework.polyitem.factor.FuncPower.FuncPower(BigInteger) 1 1 1 homework.polyitem.factor.FuncPower.clone() 1 1 1 homework.polyitem.factor.FuncPower.derivate() 1 1 2 homework.polyitem.factor.FuncPower.equals(Object) 2 2 2 homework.polyitem.factor.FuncPower.equalsZero() 1 1 1 homework.polyitem.factor.FuncPower.identity() 1 1 1 homework.polyitem.factor.FuncPower.toString() 1 1 2 homework.polyitem.factor.FuncTrian.FuncTrian() 1 1 1 homework.polyitem.factor.FuncTrian.FuncTrian(boolean) 1 1 1 homework.polyitem.factor.FuncTrian.FuncTrian(boolean,BigInteger) 1 1 1 homework.polyitem.factor.FuncTrian.FuncTrian(boolean,ItemAdd) 1 1 1 homework.polyitem.factor.FuncTrian.FuncTrian(boolean,ItemAdd,BigInteger) 1 1 1 homework.polyitem.factor.FuncTrian.clone() 1 2 2 homework.polyitem.factor.FuncTrian.derivate() 4 4 6 homework.polyitem.factor.FuncTrian.equals(Object) 6 4 8 homework.polyitem.factor.FuncTrian.equalsZero() 3 3 4 homework.polyitem.factor.FuncTrian.identity() 1 4 5 homework.polyitem.factor.FuncTrian.toString() 1 2 3 homework.polyitem.item.ItemAdd.ItemAdd() 1 1 1 homework.polyitem.item.ItemAdd.ItemAdd(Derivableâ€¦) 1 3 3 homework.polyitem.item.ItemAdd.ItemAdd(HashMap) 1 1 1 homework.polyitem.item.ItemAdd.ItemAddPut(Derivable) 1 4 4 homework.polyitem.item.ItemAdd.PutItemMul(ItemMul) 1 5 5 homework.polyitem.item.ItemAdd.clone() 1 2 2 homework.polyitem.item.ItemAdd.derivate() 2 2 3 homework.polyitem.item.ItemAdd.equals(Object) 3 2 3 homework.polyitem.item.ItemAdd.equalsZero() 3 2 3 homework.polyitem.item.ItemAdd.getAdditem() 1 1 1 homework.polyitem.item.ItemAdd.getOnlyOne() 4 2 4 homework.polyitem.item.ItemAdd.identity() 1 1 1 homework.polyitem.item.ItemAdd.onlyContainOne() 1 1 1 homework.polyitem.item.ItemAdd.toString() 6 5 7 homework.polyitem.item.ItemMul.ItemMul() 1 1 1 homework.polyitem.item.ItemMul.ItemMul(Derivableâ€¦) 3 3 3 homework.polyitem.item.ItemMul.ItemMulPut(Derivable) 3 5 6 homework.polyitem.item.ItemMul.PutFactor(Factor) 6 10 10 homework.polyitem.item.ItemMul.PutItemMul(ItemMul) 1 2 2 homework.polyitem.item.ItemMul.clone() 1 2 2 homework.polyitem.item.ItemMul.derivate() 6 2 7 homework.polyitem.item.ItemMul.equals(Object) 3 2 3 homework.polyitem.item.ItemMul.equalsZero() 3 2 3 homework.polyitem.item.ItemMul.getCoeff() 2 2 2 homework.polyitem.item.ItemMul.getMutiitem() 1 1 1 homework.polyitem.item.ItemMul.getOneExp() 5 2 5 homework.polyitem.item.ItemMul.identity() 2 3 4 homework.polyitem.item.ItemMul.negateCoeff(boolean) 1 2 2 homework.polyitem.item.ItemMul.onlyOneExp() 3 3 7 homework.polyitem.item.ItemMul.onlyOneFactor() 4 3 7 homework.polyitem.item.ItemMul.removeItem(Derivable) 1 2 2 homework.polyitem.item.ItemMul.setCoeffOne() 1 1 1 homework.polyitem.item.ItemMul.toString() 1 7 7 homework.polyitem.item.ItemMul.updateCoeff(BigInteger) 1 1 1 MetricReloadedåˆ†æç¨‹åºå¤æ‚åº¦æ›´åŠ ç—…æ€äº†ï¼Œå¤§é‡æ–¹æ³•çš„ç»“æ„åŒ–ç¨‹åº¦å­˜åœ¨é—®é¢˜ï¼Œå¹¶ä¸”é›†ä¸­åœ¨ä¸åŒ–ç®€æœ‰å…³çš„æ–¹æ³•ä¸­ã€‚è¡¨è¾¾å¼è§£æä¸­çš„readOneItem()æ–¹æ³•ä¸‰é¡¹å‡è¶…æ ‡ï¼Œè™½ç„¶æˆ‘å·²ç»è¿›è¡Œäº†é‡‡ç”¨äº†ä¸€éƒ¨åˆ†çš„å·¥å‚æ¨¡å¼ã€å°†æ­£åˆ™è¡¨è¾¾å¼å­˜å…¥å•ç‹¬çš„ç±»ä¸­ä»¥è¢«è°ƒç”¨çš„è§£è€¦åˆçš„åŠªåŠ›ã€‚ Packageå¤æ‚åº¦ï¼š Package v(G)avg v(G)tot homework 2 2 homework.expression 6.68 127 homework.polyitem.factor 1.86 93 homework.polyitem.item 3.38 115 é€šè¿‡åˆ†åŒ…ï¼Œå°†å‡ å¤§åŠŸèƒ½åŒºåˆ†å¼€ï¼ˆä¸è¿‡è¿™æ¬¡çœ‹åˆ°20%çš„æ€§èƒ½åˆ†ï¼Œå¢åŠ äº†æš´åŠ›æœç´¢æå–å…¬å› å¼çš„ç®€åŒ–æ–¹æ³•ï¼Œè¿˜æ˜¯æ”¾åœ¨Expå¤„ç†ä¸­ï¼Œæ‰€ä»¥è€¦åˆåº¦ä¹Ÿæœ‰ç‚¹é«˜ï¼‰ã€‚ â‘¡ ç¨‹åºBugåˆ†æâ€œOOä¸­æœ€æƒ¨çš„ï¼Œä¸æ˜¯è¢«åŒå±‹hackäº†50ä¸ªåŒè´¨Bugï¼Œè€Œæ˜¯åœ¨æˆªæ­¢æäº¤çš„ä¸‹ä¸€ç§’æ„è¯†åˆ°äº†è‡ªå·±çš„Bugâ€ â€”â€”æ²ƒèŒ¨åŸºÂ·ç¡•å¾· åœ¨ç¬¬ä¸‰æ¬¡ä½œä¸šä¸­ï¼Œæˆ‘ä¸ºäº†ç®€åŒ–åšäº†ä¸å°‘å·¥ä½œï¼Œä¹Ÿç”¨éšæœºæ•°æ®è‡ªåŠ¨æµ‹è¯•ç¨‹åºåšäº†å¤§é‡çš„æ£€éªŒã€‚ç„¶è€Œå°±åœ¨å‘¨å…­æ™šä¸Šæˆªæ­¢æäº¤åçš„å‡ ç§’ï¼Œæˆ‘çªç„¶æ„è¯†åˆ°æˆ‘çš„è¾“å‡ºæ˜¯æœ‰é—®é¢˜çš„â€”â€”å¯¹äºè¡¨è¾¾å¼å› å­ï¼Œæˆ‘å°†å…¶è®¾ç½®ä¸ºç»§æ‰¿äº†Factorç±»ï¼ŒåŒæ ·æ‹¥æœ‰æŒ‡æ•°Indexå±æ€§ï¼Œåœ¨è¾“å‡ºæ—¶ï¼Œé‡‡ç”¨çš„æ˜¯å’Œå¹‚å‡½æ•°ã€ä¸‰è§’å‡½æ•°ä¸€æ ·çš„è¾“å‡ºæ–¹å¼â€”â€”â€œ`(exp)**index`â€ï¼Œä½†åœ¨è¾“å…¥æ—¶è¡¨è¾¾å¼å› å­æ˜¯ä¸å…è®¸æœ‰æŒ‡æ•°çš„ï¼Œå› æ­¤å±äºWFã€‚ä½†å¯¹äºSympyï¼Œè¡¨è¾¾å¼çš„æ ¼å¼é™å®šå¾ˆå®½æ¾ï¼Œé€šè¿‡è®¡ç®—å¹¶ä¸èƒ½æ‰¾åˆ°é”™è¯¯ã€‚ é‚£èƒ½å’‹åŠâ€¦â€¦å‘¨å…­æ™šä¸Šçœ‹ç•ªè½¬ç§»æ³¨æ„åŠ›ï¼Œå‘¨æ—¥åœ¨äº’æµ‹ä¸­å°½å¯èƒ½æŒ½å›æŸå¤±â€¦â€¦æœ€åå‘ç°å¼ºæµ‹æ²¡æœ‰å‡ºç°è¿™ç§è¾“å‡ºï¼Œä½†äº’æµ‹æ—¶è¢«åŒå±‹ä¸¤åServentå‘ç°äº†è¿™ä¸ªBugã€‚å¥½åœ¨ä¿®å¤å·¥ä½œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå®åœ¨æ˜¯ä¾¥å¹¸ã€‚ â‘¢ äº’æµ‹é‡‡ç”¨ç­–ç•¥åœ¨è¿™æ¬¡äº’æµ‹ä¾ç„¶æ˜¯é‡‡ç”¨å¯¹æ‹ï¼ˆå¯¹å†›å®å…·ï¼‰+æ‰‹åŠ¨æ„é€ æ ·ä¾‹ï¼ˆæˆ‘è‡ªå·±æ„é€ äº†å¯èƒ½ä¼šTLEçš„æ ·ä¾‹ï¼Œä¹Ÿåˆ†äº«åˆ°äº†ç¾¤é‡Œï¼‰+Pythonç”Ÿæˆéšæœºæ•°æ®è‡ªåŠ¨è¯„æµ‹çš„æ–¹å¼ã€‚ åœ¨è¿™æ¬¡å¯¹Pythonç”Ÿæˆéšæœºæ•°æ®åšäº†ä¼˜åŒ–ï¼Œæ¯”å¦‚Casteråœ¨æŒ‡æ•°ä¸º0æ—¶ä¼šå‡ºç°å„ç§åŠè¯¡çš„é”™è¯¯ï¼Œç„¶è€Œäº’æµ‹é™å®šæŒ‡æ•°>0ï¼Œäºæ˜¯æˆ‘å°†å¯¹Casterçš„éšæœºæ•°æ®è®¾ä¸ºæŒ‡æ•°å§‹ç»ˆ>0ï¼Œå…¶ä»–æˆå‘˜ç…§æ—§ï¼Œé¿å…äº†åå¤æŸ¥çœ‹ä¸èƒ½hackçš„Bugå¸¦æ¥çš„å¤±è½æ„Ÿã€‚ æœ€åç¨å¾®åæ§½ä¸€ä¸‹â€œä¸ä¼˜åŒ–å°±ä¸ä¼šDieâ€ï¼Œåœ¨è¿™æ¬¡äº’æµ‹ä¸­ï¼Œæˆ¿é—´å†…8åæˆå‘˜ï¼Œ4åä¼˜åŒ–è¾“å‡º4åä¸ä¼˜åŒ–ï¼Œæœ€åå‡ºBugçš„éƒ½æ˜¯é‚£4åä¼˜åŒ–è¾“å‡ºçš„â€¦â€¦å…¶ä¸­Berserkerè¿˜ä¼šåœ¨è¡¨è¾¾å¼åµŒå¥—è¿‡å¤šæ—¶é™·å…¥æ­»å¾ªç¯ï¼Œæˆªæ­¢è‡³æœ¬æ–‡å‘ç¨¿æ—¶å·²è¢«ä¿®å¥½ã€‚ â‘£ å¯¹è±¡åˆ›å»ºæ¨¡å¼åœ¨è¿™æ¬¡çš„ä½œä¸šä¸­ç»ˆäºç”¨åˆ°äº†å·¥å‚æ¨¡å¼ï¼è™½ç„¶åŸå› æ˜¯è¡¨è¾¾å¼è§£ææ–¹æ³•å¤ªé•¿ï¼Œä¸å¾—ä¸å°†ç”Ÿæˆé¡¹çš„ä»£ç ç‹¬ç«‹å¼€æ¥ã€‚ä¸è¿‡æˆ‘ä¹Ÿåªç”¨å·¥å‚æ¨¡å¼å¤„ç†äº†å¹‚å‡½æ•°ã€ä¸å«åµŒå¥—å› å­çš„ä¸‰è§’å‡½æ•°ã€å¸¸æ•°ï¼Œå«åµŒå¥—å› å­çš„ä¸‰è§’å‡½æ•°çš„ç”Ÿæˆä¸æˆ‘çš„çŠ¶æ€æœºå¯†åˆ‡ç›¸å…³ï¼Œéš¾ä»¥æŠ½è±¡å‡ºæ¥ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘çš„æ¶æ„ä¸­çš„ä¸è¶³ã€‚ å¿ƒå¾—ä½“ä¼šåœ¨å¯’å‡çš„æ—¶å€™ï¼Œæˆ‘æ›¾çœ‹åˆ°çŸ¥ä¹ä¸Š@HansBugå­¦é•¿å…³äºOOè¯¾ç¨‹æ”¹é©çš„å›ç­”ï¼Œè€Œé€šè¿‡è¿™ä¸€ä¸ªå¤šæœˆçš„å®é™…ä½“éªŒï¼ŒOOç»™æˆ‘çš„æ„Ÿå—è¿˜æ˜¯å¾ˆèµçš„ï¼Œé€šè¿‡äº’æµ‹é˜…è¯»åŒå­¦ä»£ç ã€ä¸èˆå‹ä»¬çš„äº¤æµï¼ˆæ„Ÿè°¢@VOIDMalkuthï¼ï¼ï¼ï¼‰ã€æ°´è®¨è®ºåŒºä»¥åŠå­¦ä¹ ç†è®ºè¯¾ï¼Œæ”¶è·å¾ˆå¤§ã€‚ ç¬¬ä¸€å•å…ƒä¹Ÿåªæ˜¯ä»é¢å‘è¿‡ç¨‹åˆ°é¢å‘å¯¹è±¡çš„è¿‡æ¸¡ç¯‡ç« ï¼Œé€šè¿‡è¿™æ¬¡åæ€ï¼Œæˆ‘ä¹Ÿå‘ç°äº†è¿‡å»å‡ æ¬¡ä»£ç ä¸­è‡ªå·±ç»“æ„è¾ƒä¸ºä¸åˆç†çš„éƒ¨åˆ†ï¼Œå¸Œæœ›èƒ½å¤Ÿåœ¨æ¥ä¸‹æ¥å¤šçº¿ç¨‹ç­‰çŸ¥è¯†çš„å­¦ä¹ ä¸­è¿›ä¸€æ­¥æ”¹å–„ã€‚","permalink":"https://mondaycha.github.io/2020/03/19/319-3/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week3","date":"2020/03/19","text":"1.3 ä¸­å›½èˆªç©ºèˆªå¤©æŠ€æœ¯çš„å‘å±•åœ¨è¿™æ¬¡çš„æ…•è¯¾ä¸­æˆ‘å­¦ä¹ åˆ°ï¼Œä¸­å›½èˆªç©ºäº‹ä¸šçš„è“¬å‹ƒå‘å±•æ˜¯ä»æ–°ä¸­å›½æˆç«‹ä¹‹åå¼€å§‹çš„ï¼Œä¸­å›½èˆªå¤©äº‹ä¸šæ˜¯åœ¨ä¸Šä¸–çºª50å¹´ä»£ä¸­æœŸå¼€å§‹çš„ï¼Œ1956å¹´ï¼Œæˆ‘å›½åˆ¶å®šäº†12å¹´ç§‘å­¦å‘å±•è¿œæ™¯è§„åˆ’ï¼ŒæŠŠç«ç®­å’Œå–·æ°”æŠ€æœ¯åˆ—ä¸ºé‡ç‚¹å‘å±•é¡¹ç›®ã€‚ä»å¼€å›½å¤§å…¸æ—¶çš„17æ¶é£æœºç»•å›å†é£ï¼Œåˆ°ä»Šå¤©çš„å¼ºå¤§èˆªç©ºèˆªå¤©åŠ›é‡ï¼Œä¸­å›½çš„å‘å±•è®©äººå¿ƒæ½®æ¾æ¹ƒã€‚ 2 ä¸­å›½èˆªç©ºæŠ€æœ¯çš„å‘å±•åœ¨ç¬¬äºŒç« æˆ‘å­¦ä¹ åˆ°ï¼Œä¸ºä¸­å›½èˆªç©ºåšå‡ºå·¨å¤§è´¡çŒ®ï¼Œè¢«ç§°ä¸ºä¸­å›½â€œèˆªç©ºå…ˆé©±â€çš„æ˜¯å†¯å¦‚ã€‚ä¸€ç›´ä»¥æ¥ï¼Œå¬è¯´åŒ—èˆªçš„â€œå†¯å¦‚ä¹¦é™¢â€ã€â€œå†¯å¦‚æ¯â€ï¼Œæ²¡æœ‰æƒ³åˆ°åŸæ¥å†¯å¦‚å…ˆç”Ÿçš„æˆå°±å¦‚æ­¤ä¹‹é«˜ã€‚å½“ä»Šä¸­å›½èˆªç©ºç•Œä¹Ÿä»¥â€œå†¯å¦‚ä¸€å·â€é¦–é£æˆåŠŸçš„1909å¹´ä¸ºä¸­å›½èˆªç©ºå…ƒå¹´ã€‚ 3 ä¸­å›½èˆªå¤©æŠ€æœ¯çš„å‘å±•åœ¨è¿™ä¸€ç« æˆ‘å­¦ä¹ åˆ°ï¼Œ1956å¹´ï¼Œæˆ‘å›½åˆ¶å®šäº†12å¹´ç§‘å­¦å‘å±•è¿œæ™¯è§„åˆ’ï¼Œä¸¤å¼¹ä¸€æ˜Ÿã€è½½äººèˆªå¤©å…«å¤§ç³»ç»Ÿã€ä¸­å›½è½½äººèˆªå¤©çš„ç¬¬ä¸€æ­¥â€”â€”å°†èˆªå¤©å‘˜é€ä¸Šå¤ªç©ºï¼Œç¬¬äºŒæ­¥â€”â€”å¤ªç©ºè¡Œèµ°ä¸å¤ªç©ºå¯¹æ¥ï¼›ç¬¬ä¸‰æ­¥â€”â€”å»ºè®¾ç©ºé—´ç«™ã€‚è™½ç„¶æœ€è¿‘çš„é•¿ä¸ƒæ”¹å‘å°„å¤±åˆ©ï¼Œä½†æœªæ¥ä¸€å®šä¼šæ›´å¥½ã€‚ C919çš„å¸‚åœºå‰æ™¯ åœ¨å›½å†…ï¼ŒC919è¿˜æœ‰ç€å¹¿é˜”çš„å¸‚åœº ä¸­å›½çš„å•†ç”¨å¤§é£æœºçš„è·¯è¿˜å¾ˆé•¿ï¼Œæ›´å¤šæ˜¯æ”¹å˜æ—¢æœ‰çš„å›½é™…è´¸æ˜“è§„åˆ™ï¼› æ–°å‹å† çŠ¶ç—…æ¯’ç–«æƒ…ä¸‹ï¼Œèˆªç©ºè¿è¾“ä¸šé¢ä¸´ç€ä¸¥å³»çš„æŒ‘æˆ˜ï¼Œä¸å®¹ä¹è§‚ ç–«æƒ…ä¹Ÿæ˜¯ä¸­å›½çš„æœºä¼šï¼Œå€ŸC919æ‰“ç ´ç°æœ‰çš„å›½é™…è´¸æ˜“è§„åˆ™ï¼Œé£å‘æœªæ¥ å¤ªç©ºç«™çš„å»ºè®¾æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ èˆªå¤©äº‹ä¸šçš„å‘å±•ï¼Œç¦»ä¸å¼€ç©ºé—´ç«™ã€‚ ä¸ºä»äº‹ç§‘å­¦å®éªŒï¼Œæä¾›è‰¯å¥½ç ”ç©¶æ¡ä»¶ã€‚æ˜¯åœ°é¢ä¸Šæ— æ³•å¤åˆ¶ã€æ— æ³•æ›¿ä»£çš„ç‰¹æ®Šç§‘ç ”ç¯å¢ƒã€‚ 2024å¹´å›½é™…ç©ºé—´ç«™é€€å½¹ï¼Œä¸ºä¸­å›½å¸¦æ¥æ–°çš„æœºä¼š æå‡æˆ‘å›½å›½é™…åœ°ä½ï¼Œå‘æ˜Ÿè¾°å¤§æµ·æ¢ç´¢","permalink":"https://mondaycha.github.io/2020/03/19/319-1/","photos":[]},{"tags":[{"name":"èˆªæ¦‚","slug":"èˆªæ¦‚","permalink":"https://mondaycha.github.io/tags/%E8%88%AA%E6%A6%82/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ã€Šèˆªç©ºèˆªå¤©æ¦‚è®ºã€‹Week2","date":"2020/03/09","text":"2.1 ä¸–ç•Œèˆªç©ºæŠ€æœ¯å‘å±•åœ¨ç¬¬ä¸€èŠ‚ï¼Œæˆ‘å­¦ä¹ åˆ°äº†å¤§æ°”å±‚åˆ’åˆ†ä¸ºå¯¹æµå±‚ã€å¹³æµå±‚ã€ä¸­é—´å±‚ã€çƒ­å±‚å’Œæ•£é€¸å±‚ï¼ˆå¤–å¤§æ°”å±‚ï¼‰ç­‰5ä¸ªå±‚æ¬¡ã€‚èˆªç©ºå™¨çš„å¤§æ°”é£è¡Œç¯å¢ƒæ˜¯å¯¹æµå±‚å’Œå¹³æµå±‚ã€‚è€å¸ˆä»‹ç»äº†æœ€æ—©çš„èˆªç©ºå™¨â€”â€”çƒ­æ°”çƒï¼ˆè½»äºç©ºæ°”çš„èˆªç©ºå™¨ï¼‰ã€é£è‰‡ç­‰ï¼Œç¾å›½çš„è±ç‰¹å…„å¼Ÿåˆ¶ä½œçš„ç¬¬ä¸€æ¶æœ‰åŠ¨åŠ›é£æœºé£è¡Œè€…ä¸€å·ç«‹ä¸‹äº†èˆªç©ºçš„é‡Œç¨‹ç¢‘ã€‚è€Œä¹‹åä¸€æˆ˜ã€äºŒæˆ˜çš„ä½œæˆ˜é£æœºçš„è®¾è®¡ä¹Ÿè®©äººæƒŠå¹ï¼Œä»æ´»å¡å‘åŠ¨æœºåˆ°å–·æ°”æ—¶ä»£çš„å˜åŒ–ä¹Ÿè®©äººæ„Ÿå—åˆ°èˆªç©ºèˆªå¤©çš„é­…åŠ›ã€‚è€Œå¯¹äºç›®å‰çš„å››ä»£æœºæ¥è¯´ï¼Œéšèº«ã€è¶…å£°é€Ÿå·¡èˆªã€è¿‡å¤±é€ŸæœºåŠ¨ï¼Œè¶…è§†è·æ”»å‡»å››ç§èƒ½åŠ›ä¹Ÿéå¸¸é‡è¦ã€‚ç¬¬äºŒèŠ‚åˆ™é‡ç‚¹ä»‹ç»äº†å…³äºé£æœºçš„å†…å®¹ã€‚ä»ç¬¬å››ä»£ç›´å‡æœºçš„ç ”å‘ï¼Œåˆ°ç°ä»£æ°‘ç”¨é£æœºçš„å‘å±•ã€‚è¶…å£°é€Ÿå®¢æœºä¸æ–°ä¸€ä»£çš„æ°‘ç”¨å®¢æœºï¼Œè®©æˆ‘ä»¬ä¸ç¦å¼€å§‹å±•æœ›èˆªç©ºçš„ç¾å¥½æœªæ¥ã€‚èˆªç©ºä¹Ÿæœ‰ç€æ›´é«˜ã€æ›´å¿«ã€æ›´è¿œã€æ›´å¤§çš„å‘å±•æ–¹å‘ï¼Œæ°‘ç”¨é£æœºå°†æ›´åŠ å®‰å…¨ï¼Œæ›´åŠ èˆ’é€‚ï¼Œæ›´åŠ ç»æµï¼Œæ›´åŠ ç¯ä¿ã€‚ 2.2å…³äºä¸–ç•Œèˆªå¤©æŠ€æœ¯å‘å±•ï¼Œåœ¨ç¬¬ä¸€èŠ‚ï¼Œæˆ‘äº†è§£åˆ°äº†é½å¥¥å°”å°”ç§‘å¤«æ–¯åŸºçš„å¤šçº§ç«ç®­æˆä¸ºäº†ç°åœ¨èˆªå¤©å™¨å‘å±•çš„åŸºç¡€ã€‚v2ç«ç®­æˆä¸ºäº†ç°ä»£å¤§å‹ç«ç®­çš„é¼»ç¥–ã€‚åœ¨å¤ªç©ºç«èµ›ä¹‹ä¸­ï¼Œèˆªå¤©ä¹Ÿå¾—åˆ°äº†é•¿è¶³çš„å‘å±•ã€‚å¯¹äºä»Šå¤©çš„æˆ‘ä»¬æ¥è¯´ï¼Œèˆªå¤©æ¢ç´¢å·²ç»å˜å¾—ç¨€æ¾å¹³å¸¸ï¼Œä½†äººç±»è¦æƒ³è¦è¿ˆå‡ºå¤ªé˜³ç³»ï¼Œè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚ 2.3äººé€ åœ°çƒå«æ˜Ÿã€‚ èˆªå¤©å™¨æœ‰æ— äººèˆªå¤©å™¨ä¸è½½äººèˆªå¤©å™¨ã€å†›ç”¨èˆªå¤©å™¨ä¸æ°‘ç”¨èˆªå¤©å™¨çš„åˆ’åˆ†ï¼Œä¸æˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»ã€ç»æµå‘å±•ã€ç§‘ç ”æ¢æµ‹ç­‰å¯†åˆ‡ç›¸å…³çš„å°±æ˜¯äººé€ åœ°çƒå«æ˜Ÿã€‚ äººé€ åœ°çƒå«æ˜Ÿä¸­çš„ç§‘å­¦å«æ˜Ÿå¯ç”¨äºç©ºé—´å¤©æ–‡çš„æ¢æµ‹æŠ€æœ¯ï¼›è¯•éªŒå«æ˜Ÿå¯ç”¨äºæ–°æŠ€æœ¯çš„å®éªŒåº”ç”¨ï¼›åº”ç”¨å«æ˜Ÿå¯ç”¨äºæ—¥å¸¸å‹˜æµ‹è¡Œä¸ºã€‚ ä¸­å›½ç›®å‰çš„åŒ—æ–—å¯¼èˆªç³»ç»Ÿä¹Ÿè®©æˆ‘ä»¬ä¸å†å—åˆ¶äºGPSã€‚ æ­¼-10ã€‚ é¦–å…ˆå¯¹äºä¸­å›½æ¥è¯´ï¼Œå®ƒæ˜¯æˆ‘å›½å›½é˜²ç°ä»£åŒ–å»ºè®¾çš„ä¸€ä¸ªé‡Œç¨‹ç¢‘ï¼Œæ„å‘³ç€ä¸­å›½æˆä¸ºäº†ä¸–ç•Œä¸Šç¬¬äº”ä¸ªå…·å¤‡ç‹¬ç«‹ç ”åˆ¶å››ä»£æœºèƒ½åŠ›çš„å›½å®¶ã€‚ å…¶æ¬¡ï¼Œæ­¼-10æ‰€é‡‡ç”¨çš„æ•°å­—ç”µä¼ é£æ§ç³»ç»Ÿä¼˜è‰¯çš„æ°”åŠ¨å¤–å½¢ï¼Œä¹Ÿæ— ä¸æ˜¯21ä¸–çºªäººç±»ç§‘æŠ€çš„ç»“æ™¶ã€‚ å¯¹äºä¸­å›½æ¥è¯´ï¼Œæ­¼-10çš„å‡ºç°ä¹Ÿæé«˜äº†æˆ‘å›½çš„åˆ¶ç©ºèƒ½åŠ›ï¼Œå¢å¼ºäº†æˆ‘ä»¬çš„æ°‘æ—ä¿¡å¿ƒã€‚","permalink":"https://mondaycha.github.io/2020/03/09/312-1/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab0 å®éªŒæŠ¥å‘Š","date":"2020/03/06","text":"OS Lab0å®éªŒæŠ¥å‘Šä¸€ã€å®éªŒæ€è€ƒé¢˜æ€è€ƒé¢˜0.1é€šè¿‡ä½ çš„ä½¿ç”¨ç»éªŒï¼Œç®€å•åˆ†æ CLI Shellï¼ŒGUI Shell åœ¨ä½ ä½¿ç”¨è¿‡ç¨‹ä¸­çš„å„è‡ªä¼˜åŠ£ï¼ˆ100 å­—ä»¥å†…ï¼‰ CLI Shellï¼š ä¼˜ç‚¹ï¼šæ“ä½œç¬¦åˆè®¡ç®—æœºå·¥ä½œé€»è¾‘ï¼Œæœ‰åˆ©äºæˆ‘ä»¬ç†è§£è®¡ç®—æœºçš„å·¥ä½œæ–¹å¼ï¼›å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ¯”GUIæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šä¸ç›´è§‚ï¼Œä¸Šæ‰‹æœ‰ä¸€å®šé—¨æ§› GUI Shellï¼š ä¼˜ç‚¹ï¼šæ˜“ç”¨ï¼Œæ›´åŠ ç›´è§‚ï¼Œæ‰€è§å³æ‰€å¾— ç¼ºç‚¹ï¼šæ¶ˆè€—èµ„æºå¤§ï¼Œæ•ˆç‡ä½ æ€è€ƒé¢˜0.2ä½¿ç”¨ä½ çŸ¥é“çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬é‡å®šå‘ï¼‰åˆ›å»ºä¸‹å›¾å†…å®¹çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å‘½åä¸ºtestï¼‰ï¼Œå°†åˆ›å»ºè¯¥æ–‡ä»¶çš„å‘½ä»¤åºåˆ—ä¿å­˜åœ¨commandæ–‡ä»¶ä¸­ï¼Œå¹¶å°†testæ–‡ä»¶ä½œä¸ºæ‰¹å¤„ç†æ–‡ä»¶è¿è¡Œï¼Œå°†è¿è¡Œç»“æœè¾“å‡ºè‡³resultæ–‡ä»¶ä¸­ã€‚ç»™å‡ºcommandæ–‡ä»¶å’Œresultæ–‡ä»¶çš„å†…å®¹ï¼Œå¹¶å¯¹æœ€åçš„ç»“æœè¿›è¡Œè§£é‡Šè¯´æ˜ï¼ˆå¯ä»¥ä»testæ–‡ä»¶çš„å†…å®¹å…¥æ‰‹ï¼‰ å…·ä½“å®ç°çš„è¿‡ç¨‹ä¸­æ€è€ƒä¸‹åˆ—é—®é¢˜ï¼šecho echo Shell Start ä¸ echo 'echo Shell Start'æ•ˆæœæ˜¯å¦æœ‰åŒºåˆ«ï¼›echo echo \\$c>file1 ä¸ echo 'echo \\$c>file1' æ•ˆæœæ˜¯å¦æœ‰åŒºåˆ«ï¼Ÿ commandæ–‡ä»¶ï¼š touch testecho 'echo Shell Start...' > testecho 'echo set a = 1' >> testecho 'a=1' >> testecho 'echo set b = 2' >> testecho 'b=2' >> testecho 'echo set c = a+b' >> testecho 'c=$[$a+$b]' >> testecho 'echo c = $c' >> testecho 'echo save c to ./file1' >> testecho 'echo $c>file1' >> testecho 'echo save b to ./file2' >> testecho 'echo $b>file2' >> testecho 'echo save a to ./file3' >> testecho 'echo $a>file3' >> testecho 'echo save file1 file2 file3 to file4' >> testecho 'cat file1>file4' >> testecho 'cat file2>>file4' >> testecho 'cat file3>>file4' >> testecho 'echo save file4 to ./result' >> testecho 'cat file4>>result' >> test resultæ–‡ä»¶ï¼š 321 æ•ˆæœæ˜¯å¦æœ‰åŒºåˆ«ï¼š echo echo Shell Start ä¸ echo 'echo Shell Start'æ•ˆæœæ²¡æœ‰åŒºåˆ«ï¼Œå‡åœ¨Shellä¸­æ‰“å°echo Shell Startå†…å®¹ã€‚ $ echo echo Shell Startecho Shell Start$ echo 'echo Shell Start'echo Shell Start echo echo \\$c>file1 ä¸ echo 'echo \\$c>file1' æ•ˆæœæœ‰åŒºåˆ«ï¼šå‰è€…å°†echo $cé‡å®šå‘è‡³file1ï¼Œåè€…åœ¨Shellä¸­æ‰“å°echo \\$c>file1å†…å®¹ã€‚ $ cat file13$ echo echo \\$c>file1$ cat file1echo $c$ echo 'echo \\$c>file1'echo \\$c>file1 æ€è€ƒé¢˜0.3ä»”ç»†çœ‹çœ‹è¿™å¼ å›¾ï¼Œæ€è€ƒä¸€ä¸‹ç®­å¤´ä¸­çš„ add the file ã€stage the file å’Œcommit åˆ†åˆ«å¯¹åº”çš„æ˜¯ Git é‡Œçš„å“ªäº›å‘½ä»¤å‘¢ï¼Ÿ git add // add the filegit add // stage the filegit commit // commit æ€è€ƒé¢˜0.4æ·±å¤œï¼Œå°æ˜åœ¨åšæ“ä½œç³»ç»Ÿå®éªŒã€‚å›°æ„ä¸€é˜µé˜µè¢­æ¥ï¼Œå°æ˜ç¡å€’åœ¨äº†é”®ç›˜ä¸Šã€‚ç­‰åˆ°å°æ˜æ—©ä¸Šé†’æ¥çš„æ—¶å€™ï¼Œä»–æƒŠæåœ°å‘ç°ï¼Œä»–æŠŠä¸€ä¸ªé‡è¦çš„ä»£ç æ–‡ä»¶printf.cåˆ é™¤æ‰äº†ã€‚è‹¦æ¼çš„å°æ˜å‘ä½ æ±‚åŠ©ï¼Œä½ è¯¥æ€æ ·å¸®ä»–æŠŠä»£ç æ–‡ä»¶æ¢å¤å‘¢ï¼Ÿ æ­£åœ¨å°æ˜è‹¦æ¼çš„æ—¶å€™ï¼Œå°çº¢ä¸»åŠ¨è¯·ç¼¨å¸®å°æ˜è§£å†³é—®é¢˜ã€‚å°çº¢å¾ˆçˆ½å¿«åœ°åœ¨é”®ç›˜ä¸Šæ•²ä¸‹äº†git rm printf.cï¼Œè¿™ä¸‹äº‹æƒ…æ›´å¤æ‚äº†ï¼Œç°åœ¨ä½ åˆè¯¥å¦‚ä½•å¤„ç†æ‰èƒ½å¼¥è¡¥å°çº¢çš„è¿‡é”™å‘¢ï¼Ÿ å¤„ç†å®Œä»£ç æ–‡ä»¶ï¼Œä½ æ­£æ‰“ç®—å»æ‰¾å°æ˜è¯´ä»–çš„æ–‡ä»¶å·²ç»æ¢å¤äº†ï¼Œä½†çªç„¶å‘ç°å°æ˜çš„ä»“åº“é‡Œæœ‰ä¸€ä¸ªå«Tucao.txtï¼Œä½ å¥½å¥‡åœ°æ‰“å¼€ä¸€çœ‹ï¼Œå‘ç°æ˜¯åæ§½æ“ä½œç³»ç»Ÿå®éªŒçš„ï¼Œä¸”è¯¥æ–‡ä»¶å·²ç»è¢«æ·»åŠ åˆ°æš‚å­˜åŒºäº†ï¼Œé¢å¯¹è¿™æ ·çš„æƒ…å†µï¼Œä½ è¯¥å¦‚ä½•è®¾ç½®æ‰èƒ½ä½¿Tucao.txtåœ¨ä¸ä»å·¥ä½œåŒºåˆ é™¤çš„æƒ…å†µä¸‹ä¸ä¼šè¢«git commitæŒ‡ä»¤æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Ÿ (1)å¸®å°æ˜æŠŠä»£ç æ–‡ä»¶æ¢å¤ï¼š git checkout -- printf.c (2)å¼¥è¡¥å°çº¢çš„è¿‡é”™ï¼š git reset HEAD printf.cgit checkout -- printf.c (3)åˆ é™¤æš‚å­˜åŒºæ–‡ä»¶ï¼š git rm --cached Tucao.txt æ€è€ƒé¢˜0.5æ€è€ƒä¸‹é¢å››ä¸ªæè¿°ï¼Œä½ è§‰å¾—å“ªäº›æ­£ç¡®ï¼Œå“ªäº›é”™è¯¯ï¼Œè¯·ç»™å‡ºä½ å‚è€ƒçš„èµ„æ–™æˆ–å®éªŒè¯æ®ã€‚ å…‹éš†æ—¶æ‰€æœ‰åˆ†æ”¯å‡è¢«å…‹éš†ï¼Œä½†åªæœ‰HEADæŒ‡å‘çš„åˆ†æ”¯è¢«æ£€å‡ºã€‚ é”™è¯¯ã€‚git clone å‘½ä»¤é»˜è®¤å…‹éš†masteråˆ†æ”¯ã€‚ å¦‚æœè¦å…‹éš†å­åˆ†æ”¯å¯ä»¥ä½¿ç”¨git clone -b å‘½ä»¤ã€‚ å…‹éš†å‡ºçš„å·¥ä½œåŒºä¸­æ‰§è¡Œ git logã€git statusã€git checkoutã€git commitç­‰æ“ä½œä¸ä¼šå»è®¿é—®è¿œç¨‹ç‰ˆæœ¬åº“ã€‚ æ­£ç¡®ã€‚å…‹éš†å‡ºçš„å·¥ä½œåŒºæ‰§è¡Œä»¥ä¸Šæ“ä½œå‡æ˜¯å¯¹æœ¬åœ°ç‰ˆæœ¬åº“æ“ä½œï¼Œéœ€è¦ç”¨git pushå‘½ä»¤è®¿é—®ä¿®æ”¹è¿œç¨‹ç‰ˆæœ¬åº“ã€‚ å…‹éš†æ—¶åªæœ‰è¿œç¨‹ç‰ˆæœ¬åº“HEADæŒ‡å‘çš„åˆ†æ”¯è¢«å…‹éš†ã€‚ æ­£ç¡®ã€‚è¯æ®åŒ(1)ã€‚ å…‹éš†åå·¥ä½œåŒºçš„é»˜è®¤åˆ†æ”¯å¤„äºmasteråˆ†æ”¯ã€‚ æ­£ç¡®ã€‚è¯æ®åŒ(1)ã€‚ äºŒã€å®éªŒéš¾ç‚¹å›¾ç¤ºä¸ä¼ å›¾äº†â€¦â€¦ ä¸‰ã€ä½“ä¼šä¸æ„Ÿæƒ³éš¾åº¦è¯„ä»·ï¼šâ˜…â˜…â˜†â˜†â˜† èŠ±è´¹æ—¶é—´ï¼šå¹³å°æ—¶é—´3hï¼ŒæŸ¥é˜…èµ„æ–™ç­‰5hå·¦å³ ä½“ä¼šå’Œæ„Ÿæƒ³ï¼š Lab0è¦æ±‚æˆ‘ä»¬äº†è§£å®éªŒç¯å¢ƒï¼Œç†Ÿæ‚‰Linux æ“ä½œç³»ç»Ÿï¼ˆUbuntuï¼‰ï¼Œäº†è§£æ§åˆ¶ç»ˆç«¯ï¼ŒæŒæ¡ä¸€äº›å¸¸ç”¨å·¥å…·å¹¶èƒ½å¤Ÿè„±ç¦»å¯è§†åŒ–ç•Œé¢è¿›è¡Œå·¥ä½œã€‚ è™½ç„¶â€œæœ¬ç« èŠ‚éš¾åº¦éå¸¸ä½â€ï¼Œä½†åœ¨è¿›è¡Œå®éªŒæ—¶æˆ‘è¿˜æ˜¯é‡åˆ°äº†ä¸å°‘é˜»åŠ›â€”â€”å¯¹å‘½ä»¤è¡Œç•Œé¢ä¸ç†Ÿæ‚‰ã€ç¼–å†™Shellè„šæœ¬æ—¶ä¸æ¸…æ¥šæ­¥éª¤çš„å†…æ¶µã€åœ¨ä½¿ç”¨Vimæ—¶å¿ä¸ä½â€œCtrl+Sâ€å´é˜»æ–­è¾“å…¥â€¦â€¦è¦å­¦ä¹ ä¸ç†Ÿæ‚‰çš„è¿˜æœ‰å¾ˆå¤šã€‚","permalink":"https://mondaycha.github.io/2020/03/06/304-1/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"Javaæ±‚è§£ä¸€ç±»ç‰¹å®šè¡¨è¾¾å¼çš„åŒ–ç®€æ€è·¯æ¢è®¨","date":"2020/03/05","text":"å¦‚ä½•è·å–æ›´å¤šHomework2æ€§èƒ½åˆ†ï¼Ÿä¸ºäº†è·å¾—æ›´å¤šçš„æ€§èƒ½åˆ†ï¼Œä¸ªäººç›®å‰æƒ³åˆ°äº†ä»¥ä¸‹æ³¨æ„ç‚¹ï¼š Homework2ä¸Homework1è¿˜æ˜¯æœ‰ä¸å°‘ç›¸ä¼¼ä¹‹å¤„çš„ï¼Œå› æ­¤åœ¨ä¸Šæ¬¡ä½œä¸šä¸­çš„è¿™äº›æ€§èƒ½æå‡ç‚¹ï¼Œæ­¤æ¬¡ä¾ç„¶æœ‰æ•ˆâ€”â€” è¡¨è¾¾å¼ä¹‹é—´ä¸å«ç©ºæ ¼ å¦‚æœå­˜åœ¨æ­£é¡¹ï¼Œåˆ™è¡¨è¾¾å¼ä»¥æ­£é¡¹ä¸ºé¦–é¡¹ï¼ˆä¸”çœç•¥ï¼‰ åˆå¹¶åŒç±»é¡¹ å‡½æ•°æŒ‡æ•°éƒ¨åˆ†ä¸º0æ—¶ä¸è¾“å‡º éå¸¸æ•°é¡¹ï¼šç³»æ•°ä¸º1æ—¶ä¸è¾“å‡ºï¼Œç³»æ•°ä¸º-1æ—¶ä»…ä¿ç•™è´Ÿå· æŒ‡æ•°ä¸º1æ—¶ä¸è¾“å‡º 0é¡¹ä¸è¾“å‡º è€Œä¹Ÿæœ‰ä¸€äº›æ­¤æ¬¡ä½œä¸šä¸­æ–°å‡ºç°çš„æŠ¢åˆ†ç‚¹ï¼š x**2ä»¥x*xå½¢å¼è¾“å‡º $sin^2(x)+cos^2(x)=1$ $sin^2(x)-cos^2(x)=1-2cos^2(x)$ å…¶ä¸­ä¸‰è§’å‡½æ•°çš„åŒ–ç®€è¾ƒä¸ºå¤æ‚ã€‚ å‰è€…ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå¯¹äºå½¢å¦‚$$ax^isin^j(x)cos^k(x)$$çš„é¡¹ï¼Œèƒ½å¤Ÿä»¥æ­¤è§„åˆ™åŒ–ç®€çš„åªæœ‰ä¸¤ç§å½¢å¼â€”â€”$$ax^isin^{j+2}(x)cos^{k-2}(x)$$ $$ax^isin^{j-2}(x)*cos^{k+2}(x)$$ åŒ–ç®€åä¸¤é¡¹åˆå¹¶ä¸ºâ€”â€”$$2ax^isin^{j-2}(x)cos^{k-2}(x)$$å› æ­¤æˆ‘ä»¬å¯ä»¥éå†å®¹å™¨å¹¶æ£€æŸ¥é‚»é¡¹æ˜¯å¦å­˜åœ¨ï¼Œä»è€ŒåŒ–ç®€ï¼›è€Œåè€…ï¼Œåœ¨j=2|k=2æ—¶æ˜¯è‚¯å®šå¯ä»¥æå‡æ€§èƒ½åˆ†çš„ï¼Œæ–¹æ³•ä¸$sin^2(x)+cos^2(x)=1$çš„ç±»ä¼¼ã€‚ å½“ç„¶ï¼Œä¸ªäººè§‰å¾—é™¤éé’ˆå¯¹åä¸¤ç‚¹æ„é€ æ•°æ®ï¼Œå…¶å‡ºç°çš„æœºç‡å¹¶ä¸å¤§ï¼Œæ˜¯å¦è¦ä¸ºäº†æ€§èƒ½åˆ†ç‰ºç‰²æ€§èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ ä¹Ÿæ±‚æœ‰æƒ³æ³•çš„å¤§ä½¬äº¤æµä¸‹æ›´å¥½çš„æ–¹æ³•ä¸éšè—çš„å†…å·ç‚¹(ï½ï¿£â–½ï¿£)ï½ ä¸ºäº†è·å¾—æ›´å¤šçš„æ€§èƒ½åˆ†ï¼Œä¸ªäººç›®å‰æƒ³åˆ°äº†ä»¥ä¸‹æ³¨æ„ç‚¹ï¼š Homework2ä¸Homework1è¿˜æ˜¯æœ‰ä¸å°‘ç›¸ä¼¼ä¹‹å¤„çš„ï¼Œå› æ­¤åœ¨ä¸Šæ¬¡ä½œä¸šä¸­çš„è¿™äº›æ€§èƒ½æå‡ç‚¹ï¼Œæ­¤æ¬¡ä¾ç„¶æœ‰æ•ˆâ€”â€” è¡¨è¾¾å¼ä¹‹é—´ä¸å«ç©ºæ ¼ å¦‚æœå­˜åœ¨æ­£é¡¹ï¼Œåˆ™è¡¨è¾¾å¼ä»¥æ­£é¡¹ä¸ºé¦–é¡¹ï¼ˆä¸”çœç•¥ï¼‰ åˆå¹¶åŒç±»é¡¹ å‡½æ•°æŒ‡æ•°éƒ¨åˆ†ä¸º0æ—¶ä¸è¾“å‡º éå¸¸æ•°é¡¹ï¼šç³»æ•°ä¸º1æ—¶ä¸è¾“å‡ºï¼Œç³»æ•°ä¸º-1æ—¶ä»…ä¿ç•™è´Ÿå· æŒ‡æ•°ä¸º1æ—¶ä¸è¾“å‡º 0é¡¹ä¸è¾“å‡º è€Œä¹Ÿæœ‰ä¸€äº›æ­¤æ¬¡ä½œä¸šä¸­æ–°å‡ºç°çš„æŠ¢åˆ†ç‚¹ï¼š x**2ä»¥x*xå½¢å¼è¾“å‡º $sin^2(x)+cos^2(x)=1$ $sin^2(x)-cos^2(x)=1-2 cos^2(x)$ å…¶ä¸­ä¸‰è§’å‡½æ•°çš„åŒ–ç®€è¾ƒä¸ºå¤æ‚ã€‚ å‰è€…ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå¯¹äºå½¢å¦‚$a*x^i*sin^j(x)*cos^k(x) $çš„é¡¹ï¼Œèƒ½å¤Ÿä»¥æ­¤è§„åˆ™åŒ–ç®€çš„åªæœ‰ä¸¤ç§å½¢å¼â€”â€” $$a*x^i*sin^{j+2}(x)*cos^{k-2}(x)$$ $$a*x^i*sin^{j-2}(x)*cos^{k+2}(x)$$ åŒ–ç®€åä¸¤é¡¹åˆå¹¶ä¸ºâ€”â€”$2*a*x^i*sin^{j-2}(x)*cos^{k-2}(x)$ å› æ­¤æˆ‘ä»¬å¯ä»¥éå†å®¹å™¨å¹¶æ£€æŸ¥é‚»é¡¹æ˜¯å¦å­˜åœ¨ï¼Œä»è€ŒåŒ–ç®€ï¼›è€Œåè€…ï¼Œåœ¨j=2|k=2æ—¶æ˜¯è‚¯å®šå¯ä»¥æå‡æ€§èƒ½åˆ†çš„ï¼Œæ–¹æ³•ä¸$sin^2(x)+cos^2(x)=1$çš„ç±»ä¼¼ã€‚ å½“ç„¶ï¼Œä¸ªäººè§‰å¾—é™¤éé’ˆå¯¹åä¸¤ç‚¹æ„é€ æ•°æ®ï¼Œå…¶å‡ºç°çš„æœºç‡å¹¶ä¸å¤§ï¼Œæ˜¯å¦è¦ä¸ºäº†æ€§èƒ½åˆ†ç‰ºç‰²æ€§èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ ä¹Ÿæ±‚æœ‰æƒ³æ³•çš„å¤§ä½¬äº¤æµä¸‹æ›´å¥½çš„æ–¹æ³•ä¸éšè—çš„å†…å·ç‚¹(ï½ï¿£â–½ï¿£)ï½ æ—¢ç„¶æ— æ³•è´ªå¿ƒï¼Œåªå¥½æœç´¢ã€‚ dfsï¼Œæ¯æ¬¡æ‰¾åˆ°å¯åˆå¹¶çš„ä¸¤ä¸ªé¡¹å»åˆå¹¶ï¼Œç„¶åå›æº¯ï¼Œä¸æ–­è®°å½•æœ€çŸ­ç­”æ¡ˆï¼Œå…¶ä¸­ï¼Œä¸¤ä¸ªé¡¹åˆå¹¶çš„æ¬¡æ•°(å³åˆå¹¶ä¹‹åçš„ç³»æ•°)è¦æ»¡è¶³è‡³å°‘è¦ç”¨å®Œå…¶ä¸­ä¸€ä¸ªé¡¹ã€‚ æ”¹å®Œdfså‘ç°è¦Tï¼ˆçˆ†æ ˆï¼‰ï¼Œå°±æŠŠæ¯æ¬¡dfså‰çš„ç­”æ¡ˆæ‰”è¿›setåˆ¤é‡ï¼Œå³è®°å¿†åŒ–ã€‚ åˆå¹¶çš„è¯ä¸€å¼€å§‹åªè€ƒè™‘äº†sin(x)2+cos(x)2=1ç„¶åç”¨1âˆ’sin(x)2=cos(x)2ä»¥æ‹†åˆ†å¸¸æ•°é¡¹ å’Œä¸å«sin(x)sin(x)æˆ–cos(x)cos(x)çš„é¡¹æ¥ä½“ç°ã€‚åæ¥å‘ç°é€Ÿåº¦å¾ˆå¿«ä½†æ•ˆæœä¸å¥½ã€‚ åœ¨é˜Ÿå‹ä¸æ€»å¯¹æˆ‘çš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘æŠŠ1âˆ’sin(x)2=cos(x)2æ”¾è¿›äº†dfsï¼Œæˆä¸ºåˆå¹¶ä¸¤ä¸ªé¡¹çš„æ–°é€‰æ‹©ã€‚ å…³äºæç«¯æ•°æ®çˆ†æ ˆï¼Œå¡ä½dfsæ¬¡æ•°å’Œç¨‹åºè¿è¡Œæ—¶é—´å³å¯ã€‚æœ€ç»ˆæ€§èƒ½åˆ†æ»¡åˆ†ã€‚ æ­£å¸¸éšæœºæ•°æ®æˆ–é¡¹æ•°ä¸å¤šçš„æ•°æ®å¯ä»¥éšä¾¿è·‘å®Œï¼Œè¯„è®ºåŒºé‡Œé¢çš„æ•°æ®åº”è¯¥éƒ½èƒ½æœå®Œã€‚ æ¬¢è¿å¤§ä½¬ä»¬æ‰¹è¯„æŒ‡æ­£ï¼Œæœ¬æ•°å­¦å¼±é¸¡ï¼Œç åŠ›é€‰æ‰‹åªèƒ½æƒ³åˆ°è¿™ç§æš´åŠ›åšæ³•ï¼Œå†™äº†å¿«10kçš„ä¼˜åŒ–ç±»ï¼Œç´¯æ­»ã€‚","permalink":"https://mondaycha.github.io/2020/03/05/305-1/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"é¢å‘è¿‡ç¨‹çš„è®¾è®¡ï¼Œå’Œé¢å‘å¯¹è±¡çš„è®¾è®¡å¼‚åŒç‚¹åˆ°åº•åœ¨å“ªï¼Ÿ","date":"2020/03/01","text":"æŠ›ç –å¼•ç‰ ä¸åŒç‚¹ï¼š é¢å‘è¿‡ç¨‹çš„è®¾è®¡ä»¥å‡½æ•°ä¸ºæ ¸å¿ƒï¼Œæ¥è¿‘é—®é¢˜å¤„ç†è¿‡ç¨‹ï¼›é¢å‘å¯¹è±¡çš„è®¾è®¡ä»¥ç±»ä¸ºæ ¸å¿ƒï¼Œå°†ä¸åŒç±»çš„å±æ€§åŒºåˆ†å¼€æ¥ï¼ˆæ¯”å¦‚studentsçš„å­¦åˆ†å±æ€§ä¸courseçš„å­¦åˆ†å±æ€§ï¼‰ï¼Œç¬¦åˆäººç±»è®¤çŸ¥è§„å¾‹ã€‚ é¢å‘å¯¹è±¡çš„è®¾è®¡æœ‰ç»§æ‰¿ã€å¤šæ€çš„ç‰¹æ€§ï¼Œä½è€¦åˆé«˜å†…èšï¼Œä¾¿äºæ·»åŠ éœ€æ±‚ï¼Œåœ¨å¤„ç†å¤§å‹é¡¹ç›®æ—¶ä¹Ÿæœ‰ç€æ›´å¥½çš„å¯è¯»æ€§ã€‚ ç›¸åŒç‚¹ï¼š åœ¨è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†ç®€åŒ–å¤æ‚åº¦ï¼Œé¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡éƒ½å­˜åœ¨å°è£…æ€§ã€‚ éƒ½æ˜¯ç”¨æ¥è§£å†³é—®é¢˜çš„ç¨‹åºæ€æƒ³","permalink":"https://mondaycha.github.io/2020/03/01/302-2/","photos":[]},{"tags":[{"name":"OS","slug":"OS","permalink":"https://mondaycha.github.io/tags/OS/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"æ“ä½œç³»ç»Ÿ OS Lab0","date":"2020/03/01","text":"ç»ƒä¹ 0.1åœ¨ bash ä¸­åˆ†åˆ«è¾“å…¥ echo â€œHello Ubuntuâ€bash â€“versionls ä¸‰æ¡å‘½ä»¤ï¼Œç®€å•æ€è€ƒå…¶å›æ˜¾ç»“æœ æ€è€ƒ0.1é€šè¿‡ä½ çš„ä½¿ç”¨ç»éªŒï¼Œç®€å•åˆ†æ CLI Shellï¼ŒGUI Shell åœ¨ä½ ä½¿ç”¨è¿‡ç¨‹ä¸­çš„å„è‡ªä¼˜åŠ£ï¼ˆ100 å­—ä»¥å†…ï¼‰ ç»ƒä¹  0.2æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤,å¹¶æŸ¥çœ‹ç»“æœ echo firstecho second > output.txtecho third > output.txtecho forth > > output.txt ctagsï¼Œå¾ˆå¥½ç”¨çš„å°å·¥å…· (è‹¥å®éªŒç¯å¢ƒä¸­treeå‘½ä»¤æ— æ•ˆï¼Œè¾“å…¥sudo apt-get install treeå‘½ä»¤å®‰è£…ï¼Œåé¢locateã€tmuxç­‰åŒç†) ç»ƒä¹ 0.3åœ¨/home/17xxxxxx_2019_jac/learnGitï¼ˆå·²initï¼‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºREADME.txtçš„æ–‡ä»¶ã€‚è¿™æ—¶ä½¿ç”¨ git status > Untracked.txt ã€‚ åœ¨ README.txt æ–‡ä»¶ä¸­éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼Œç„¶åä½¿ç”¨åˆšåˆšå­¦åˆ°çš„ add å‘½ä»¤ï¼Œå†ä½¿ç”¨ git status > Stage.txt ã€‚ ä¹‹åä½¿ç”¨ä¸Šé¢å­¦åˆ°çš„ Git æäº¤æœ‰å…³çš„çŸ¥è¯†æŠŠ README.txt æäº¤ï¼Œå¹¶åœ¨æäº¤è¯´æ˜é‡Œå†™å…¥è‡ªå·±çš„å­¦å·ã€‚ ä½¿ç”¨ cat Untracked.txt å’Œ cat Stage.txtï¼Œå¯¹æ¯”ä¸€ä¸‹ä¸¤æ¬¡çš„ç»“æœï¼Œä½“ä¼šä¸€ä¸‹README.txt ä¸¤æ¬¡æ‰€å¤„ä½ç½®çš„ä¸åŒã€‚ ä¿®æ”¹ README.txt æ–‡ä»¶ï¼Œå†ä½¿ç”¨ git status > Modified.txt ã€‚ ä½¿ç”¨ cat Modified.txt ï¼Œè§‚å¯Ÿå®ƒå’Œç¬¬ä¸€æ¬¡ add ä¹‹å‰çš„ status ä¸€æ ·å—ï¼Œæ€è€ƒä¸€ ä¸‹ä¸ºä»€ä¹ˆï¼Ÿ æ€è€ƒé¢˜ 0.2ä½¿ç”¨ä½ çŸ¥é“çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬é‡å®šå‘ï¼‰åˆ›å»ºä¸‹å›¾å†…å®¹çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å‘½åä¸ºtestï¼‰ï¼Œå°†åˆ›å»ºè¯¥æ–‡ä»¶çš„å‘½ä»¤åºåˆ—ä¿å­˜åœ¨commandæ–‡ä»¶ä¸­ï¼Œå¹¶å°†testæ–‡ä»¶ä½œä¸ºæ‰¹å¤„ç†æ–‡ä»¶è¿è¡Œï¼Œå°†è¿è¡Œç»“æœè¾“å‡ºè‡³resultæ–‡ä»¶ä¸­ã€‚ç»™å‡ºcommandæ–‡ä»¶å’Œresultæ–‡ä»¶çš„å†…å®¹ï¼Œå¹¶å¯¹æœ€åçš„ç»“æœè¿›è¡Œè§£é‡Šè¯´æ˜ï¼ˆå¯ä»¥ä»testæ–‡ä»¶çš„å†…å®¹å…¥æ‰‹ï¼‰ å…·ä½“å®ç°çš„è¿‡ç¨‹ä¸­æ€è€ƒä¸‹åˆ—é—®é¢˜ï¼šecho echo Shell Start ä¸ echo â€˜echo Shell Startâ€™æ•ˆæœæ˜¯å¦æœ‰åŒºåˆ« echo echo $c>file1 ä¸ echo â€˜echo $c>file1â€™ æ•ˆæœæ˜¯å¦æœ‰åŒºåˆ« æ€è€ƒé¢˜ 0.3ä»”ç»†çœ‹çœ‹è¿™å¼ å›¾ï¼Œæ€è€ƒä¸€ä¸‹ç®­å¤´ä¸­çš„ add the file ã€stage the file å’Œcommit åˆ†åˆ«å¯¹åº”çš„æ˜¯ Git é‡Œçš„å“ªäº›å‘½ä»¤å‘¢ï¼Ÿ æ€è€ƒé¢˜0.4æ·±å¤œï¼Œå°æ˜åœ¨åšæ“ä½œç³»ç»Ÿå®éªŒã€‚å›°æ„ä¸€é˜µé˜µè¢­æ¥ï¼Œå°æ˜ç¡å€’åœ¨äº†é”®ç›˜ä¸Šã€‚ç­‰åˆ°å°æ˜æ—©ä¸Šé†’æ¥çš„æ—¶å€™ï¼Œä»–æƒŠæåœ°å‘ç°ï¼Œä»–æŠŠä¸€ä¸ªé‡è¦çš„ä»£ç æ–‡ä»¶printf.cåˆ é™¤æ‰äº†ã€‚è‹¦æ¼çš„å°æ˜å‘ä½ æ±‚åŠ©ï¼Œä½ è¯¥æ€æ ·å¸®ä»–æŠŠä»£ç æ–‡ä»¶æ¢å¤å‘¢ï¼Ÿ æ­£åœ¨å°æ˜è‹¦æ¼çš„æ—¶å€™ï¼Œå°çº¢ä¸»åŠ¨è¯·ç¼¨å¸®å°æ˜è§£å†³é—®é¢˜ã€‚å°çº¢å¾ˆçˆ½å¿«åœ°åœ¨é”®ç›˜ä¸Šæ•²ä¸‹äº†git rm printf.cï¼Œè¿™ä¸‹äº‹æƒ…æ›´å¤æ‚äº†ï¼Œç°åœ¨ä½ åˆè¯¥å¦‚ä½•å¤„ç†æ‰èƒ½å¼¥è¡¥å°çº¢çš„è¿‡é”™å‘¢ï¼Ÿ å¤„ç†å®Œä»£ç æ–‡ä»¶ï¼Œä½ æ­£æ‰“ç®—å»æ‰¾å°æ˜è¯´ä»–çš„æ–‡ä»¶å·²ç»æ¢å¤äº†ï¼Œä½†çªç„¶å‘ç°å°æ˜çš„ä»“åº“é‡Œæœ‰ä¸€ä¸ªå«Tucao.txtï¼Œä½ å¥½å¥‡åœ°æ‰“å¼€ä¸€çœ‹ï¼Œå‘ç°æ˜¯åæ§½æ“ä½œç³»ç»Ÿå®éªŒçš„ï¼Œä¸”è¯¥æ–‡ä»¶å·²ç»è¢«æ·»åŠ åˆ°æš‚å­˜åŒºäº†ï¼Œé¢å¯¹è¿™æ ·çš„æƒ…å†µï¼Œä½ è¯¥å¦‚ä½•è®¾ç½®æ‰èƒ½ä½¿Tucao.txtåœ¨ä¸ä»å·¥ä½œåŒºåˆ é™¤çš„æƒ…å†µä¸‹ä¸ä¼šè¢«git commitæŒ‡ä»¤æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Ÿ ç»ƒä¹ 0.4æ‰¾åˆ°æˆ‘ä»¬åœ¨/home/17xxxxxx_2019_jac/ä¸‹åˆšåˆšåˆ›å»ºçš„README.txtï¼Œæ²¡æœ‰çš„è¯å°±æ–°å»ºä¸€ä¸ªã€‚ åœ¨æ–‡ä»¶é‡ŒåŠ å…¥Testing 1ï¼Œaddï¼Œcommitï¼Œæäº¤è¯´æ˜å†™ 1ã€‚ æ¨¡ä»¿ä¸Šè¿°åšæ³•ï¼ŒæŠŠ1åˆ†åˆ«æ”¹ä¸º 2 å’Œ 3ï¼Œå†æäº¤ä¸¤æ¬¡ã€‚ ä½¿ç”¨ git logå‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹æäº¤æ—¥å¿—ï¼Œçœ‹æ˜¯å¦å·²ç»æœ‰ä¸‰æ¬¡æäº¤äº†ï¼Ÿè®°ä¸‹æäº¤è¯´æ˜ä¸º 3 çš„å“ˆå¸Œå€¼1ã€‚ å¼€åŠ¨æ—¶å…‰æœºï¼ä½¿ç”¨ git reset â€“hard HEAD^ ï¼Œç°åœ¨å†ä½¿ç”¨git logï¼Œçœ‹çœ‹ä»€ä¹ˆæ²¡äº†ï¼Ÿ æ‰¾åˆ°æäº¤è¯´æ˜ä¸º1çš„å“ˆå¸Œå€¼ï¼Œä½¿ç”¨ git reset â€“hard ï¼Œå†ä½¿ç”¨git logï¼Œçœ‹çœ‹ä»€ä¹ˆæ²¡äº†ï¼Ÿ ç°åœ¨æˆ‘ä»¬å·²ç»å›åˆ°è¿‡å»äº†ï¼Œä¸ºäº†å†æ¬¡å›åˆ°æœªæ¥ï¼Œä½¿ç”¨ git reset â€“hard ï¼Œå†ä½¿ç”¨git logï¼Œæˆ‘èƒ¡æ±‰ä¸‰åˆå›æ¥äº†ï¼ æ€è€ƒé¢˜0.5æ€è€ƒä¸‹é¢å››ä¸ªæè¿°ï¼Œä½ è§‰å¾—å“ªäº›æ­£ç¡®ï¼Œå“ªäº›é”™è¯¯ï¼Œè¯·ç»™å‡ºä½ å‚è€ƒçš„èµ„æ–™æˆ–å®éªŒè¯æ®ã€‚ å…‹éš†æ—¶æ‰€æœ‰åˆ†æ”¯å‡è¢«å…‹éš†ï¼Œä½†åªæœ‰HEADæŒ‡å‘çš„åˆ†æ”¯è¢«æ£€å‡ºã€‚ å…‹éš†å‡ºçš„å·¥ä½œåŒºä¸­æ‰§è¡Œ git logã€git statusã€git checkoutã€git commitç­‰æ“ä½œä¸ä¼šå»è®¿é—®è¿œç¨‹ç‰ˆæœ¬åº“ã€‚ å…‹éš†æ—¶åªæœ‰è¿œç¨‹ç‰ˆæœ¬åº“HEADæŒ‡å‘çš„åˆ†æ”¯è¢«å…‹éš†ã€‚ å…‹éš†åå·¥ä½œåŒºçš„é»˜è®¤åˆ†æ”¯å¤„äºmasteråˆ†æ”¯ã€‚ ç»ƒä¹ 0.5ä»”ç»†å›é¡¾ä¸€ä¸‹ä¸Šé¢è¿™äº›æŒ‡ä»¤ï¼Œç„¶åå®Œæˆä¸‹é¢çš„ä»»åŠ¡ åœ¨ /home/17xxxxxx_2019_jac/17xxxxxx-labä¸‹æ–°å»ºåˆ†æ”¯ï¼Œåå­—ä¸ºTest åˆ‡æ¢åˆ°Teståˆ†æ”¯ï¼Œæ·»åŠ ä¸€ä»½readme.txtï¼Œå†…å®¹å†™å…¥è‡ªå·±çš„å­¦å· å°†æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“ï¼Œç„¶åå»ºç«‹ç›¸åº”çš„è¿œç¨‹åˆ†æ”¯ã€‚","permalink":"https://mondaycha.github.io/2020/03/01/302-1/","photos":[]},{"tags":[{"name":"é©¬å…‹æ€ä¸»ä¹‰","slug":"é©¬å…‹æ€ä¸»ä¹‰","permalink":"https://mondaycha.github.io/tags/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"å¯¹é©¬å…‹æ€ä¸»ä¹‰çš„ç†è§£","date":"2020/02/23","text":"åœ¨å‚åŠ æœ¬å­¦æœŸé©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†æ¦‚è®ºè¯¾ç¨‹ä¹‹å‰ï¼Œæˆ‘å¯¹äºé©¬å…‹æ€ä¸»ä¹‰çš„ç†è§£ä¸»è¦æ˜¯è¿™æ ·çš„ï¼š â‘  é©¬å…‹æ€ä¸»ä¹‰ä¸æ˜¯â€œé©¬å…‹æ€çš„ä¸»ä¹‰â€ã€‚â€œé©¬å…‹æ€ä¸»ä¹‰â€æ˜¯ç”±é©¬å…‹æ€ã€æ©æ ¼æ–¯åˆ›ç«‹ï¼Œä»¥åŠå¹¿ä¹‰ä¸Šç”±åç»­ç¤¾ä¼šä¸»ä¹‰çš„è·µè¡Œè€…ä»¬ä¸€åŒå‘å±•ä¸å®Œå–„çš„ç†è®ºä½“ç³»ã€‚å› æ­¤ï¼Œå¹¶éæ‰€æœ‰é©¬å…‹æ€æœ¬äººçš„å­¦è¯´éƒ½æ˜¯é©¬å…‹æ€ä¸»ä¹‰ã€‚ â‘¡ é©¬å…‹æ€ä¸»ä¹‰åŒ…å«è¾©è¯å”¯ç‰©ä¸»ä¹‰è®¤çŸ¥ä¸ç§‘å­¦ç¤¾ä¼šä¸»ä¹‰ç†è®ºã€‚å…¶ä¸­å”¯ç‰©ä¸»ä¹‰å“²å­¦è§‚æ˜¯ä¸å½“æ—¶ç§‘å­¦å‘ç°ç›¸ç»“åˆçš„æˆæœï¼Œæ„å‘³ç€äººç±»å¯¹äºè‡ªç„¶çš„è®¤çŸ¥è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„é˜¶æ®µï¼›ç§‘å­¦ç¤¾ä¼šä¸»ä¹‰ç†è®ºåˆ™æˆä¸ºäº†å·¥äººé˜¶çº§æå«è‡ªèº«æƒç›Šçš„æœ‰åŠ›æ­¦å™¨ï¼Œå¼•å¯¼ç€ä¿„å›½åæœˆé©å‘½ä»¥åŠä¸­å›½å…±äº§å…šçš„å‘å±•ã€‚ â‘¢ é©¬å…‹æ€ä¸»ä¹‰å¯¹äºäººç±»çš„æ„ä¹‰éå¸¸é‡å¤§ã€‚å®ƒæœ‰ç€å¯¹äºèµ„æœ¬ä¸»ä¹‰å¼Šç«¯åˆ‡ä¸­è‚¯ç¶®çš„å‰–æï¼Œä¹Ÿè®©ç¤¾ä¼šä¸»ä¹‰ä»â€œç©ºæƒ³â€å˜ä¸ºâ€œç°å®â€ã€‚åœ¨é©¬å…‹æ€ä¸»ä¹‰çš„æŒ‡å¯¼ä¸‹ï¼Œèµ„æœ¬ä¸»ä¹‰ä¸ç¤¾ä¼šä¸»ä¹‰éƒ½ä¸æ–­å®Œå–„ä¸å‘å±•ï¼Œäººç±»æ–‡æ˜ä¹Ÿåœ¨å…¶å½±å“ä¸‹å‘å‰è¿ˆè¿›ã€‚ â‘£ é©¬å…‹æ€ä¸»ä¹‰å…·æœ‰è“¬å‹ƒçš„ç”Ÿå‘½åŠ›ã€‚é©¬å…‹æ€ä¸»ä¹‰ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œæ˜¯ç»“åˆå…·ä½“å›½æƒ…ï¼Œåœ¨è¾©è¯ä¸­ä¸æ–­å‘å±•çš„ã€‚å› æ­¤ï¼Œé©¬å…‹æ€ä¸»ä¹‰çš„ç”Ÿå‘½åŠ›å°†é•¿æœŸä¼´éšäººç±»æ–‡æ˜ï¼Œåœ¨èºæ—‹å¼çš„ä¸Šå‡ä¸­ä¸äººç±»å…±åŒè¿›æ­¥ã€‚ ä»¥ä¸Šå°±æ˜¯æˆ‘å¯¹é©¬å…‹æ€ä¸»ä¹‰çš„ç²—æµ…ç†è§£ï¼Œå¸Œæœ›åœ¨ä¸Šå®Œæœ¬è¯¾ç¨‹ä¹‹åèƒ½å°†æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚","permalink":"https://mondaycha.github.io/2020/02/23/226-1/","photos":[]},{"tags":[{"name":"å½±è¯„","slug":"å½±è¯„","permalink":"https://mondaycha.github.io/tags/%E5%BD%B1%E8%AF%84/"}],"categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://mondaycha.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"title":"ã€Šä¸€å ‚å¥½è¯¾ã€‹è§‚åæ„Ÿ","date":"2020/02/23","text":"ã€Šä¸€å ‚å¥½è¯¾ã€‹è§‚åæ„Ÿä»Šå¤©20:30ï¼Œæˆ‘è§‚çœ‹äº†ç”±æˆšå‘è½«é™¢å£«ä¸»è®²ï¼Œåº·è¾‰æ‹…ä»»ç­ä¸»ä»»çš„ç»¼è‰ºèŠ‚ç›®ã€Šä¸€å ‚å¥½è¯¾ã€‹ã€‚åœ¨è¯¾ä¸Šï¼Œæˆšå‘è½«é™¢å£«è®²è¿°äº†è‡ªå·±çš„äº²èº«ç»å†ï¼Œè®²è¿°äº†ä»Šå¹´å°†è¦æ¢ç´¢ç«æ˜Ÿçš„è§„åˆ’ï¼Œè®²è¿°äº†ä¸­å›½ä½œä¸ºèˆªå¤©å¤§å›½é¢ä¸´çš„æœºé‡ä¸æŒ‘æˆ˜ã€‚æœŸé—´æµéœ²å‡ºçš„åŒ—èˆªäººçš„èˆªå¤©ç²¾ç¥ä»¤æˆ‘æ·±æ·±åœ°è¢«è§¦åŠ¨äº†ã€‚ è€Œè¯¾é—´çš„èˆªå¤©å‘˜åŠ©æ•™ä¸å°æœ‹å‹å®‡èˆªå‘˜çš„äº’åŠ¨ä¹Ÿå¾ˆæœ‰è¶£ï¼Œèˆªå¤©å‘˜ä¹è§‚ç¿çƒ‚çš„å›ç­”ï¼Œä¹Ÿæ˜¯ä»–ä»¬åšå®ˆä½¿å‘½å‹‡å¾€ç›´å‰çš„çœŸå®å†™ç…§ã€‚ å‡ åäº¿å¹´å‰çš„ä¸€æ¬¡æ„å¤–å­•è‚²å‡ºç”Ÿå‘½çš„å¥‡è¿¹ï¼Œç›¸ä¿¡æœªæ¥äººç±»ä¹Ÿå°†è·¨å‡ºé“¶æ²³ä¹‹æ‘‡ç¯®ï¼Œé¨æ¸¸æ˜Ÿæµ·ï¼","permalink":"https://mondaycha.github.io/2020/02/23/223-1/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"OOé¢„ä¹ ç¬¬ä¸‰å¼¹","date":"2020/02/13","text":"OOé¢„ä¹ ç¬¬ä¸‰å¼¹ä»Šå¤©ç»ˆäºåšå®Œäº†Pre1çš„Task6ï¼Œå€ŸåŠ©TreeSetç±»ã€‚ OOç¬¬ä¸‰å¼¹ä¹Ÿå‡ºäº†ï¼Œä¸IO/æ­£åˆ™è¡¨è¾¾å¼ç­‰æœ‰å…³ï¼Œæ˜å¤©ç»§ç»­åŠ æ²¹ã€‚","permalink":"https://mondaycha.github.io/2020/02/13/213-1/","photos":[]},{"tags":[{"name":"OO","slug":"OO","permalink":"https://mondaycha.github.io/tags/OO/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"ä¸ºåœ£æ¯æˆ˜äº‰çš„å¼€å§‹çŒ®ä¸Šç¤¼ç‚®","date":"2020/02/10","text":"BUAA-OOä»æ˜¨å¤©å¼€å§‹ï¼ŒBUAA 2020å¹´æ˜¥å­£çš„é¢å‘å¯¹è±¡è¯¾ç¨‹å°±ç®—æ˜¯æ‹‰å¼€å¸·å¹•äº†ã€‚ 2æœˆ9æ—¥ä¸º Github å’Œ Gitlab é…ç½®ä¸åŒçš„ SSH å‚è€ƒèµ„æ–™ï¼š https://segmentfault.com/a/1190000009572470?_ea=1985120 2æœˆ10æ—¥ä¸º Github é…ç½®å•ç‹¬çš„ Git ç”¨æˆ·åä¸é‚®ç®± å‚è€ƒèµ„æ–™ï¼š https://www.cnblogs.com/itbsl/p/10469523.html","permalink":"https://mondaycha.github.io/2020/02/10/210-1/","photos":[]},{"tags":[{"name":"Git","slug":"Git","permalink":"https://mondaycha.github.io/tags/Git/"},{"name":"å»–é›ªå³°","slug":"å»–é›ªå³°","permalink":"https://mondaycha.github.io/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"Git-Day3","date":"2020/02/09","text":"å·¥ä½œåŒºå’Œæš‚å­˜åŒº å·¥ä½œåŒºï¼šåœ¨ç”µè„‘ä¸‹çš„å·¥ä½œç›®å½• ç‰ˆæœ¬åº“ï¼šå·¥ä½œåŒºä¸‹çš„éšè—ç›®å½•.git æš‚å­˜åŒºï¼šstage(index) å¼•è¯„è®ºåŒº @ä¹åªèœ—ç‰›Leo çš„ä¾‹å­ï¼š æ„Ÿè§‰å¤§å®¶æŠŠç®€å•é—®é¢˜å¤æ‚åŒ–äº†ï¼Œçœ‹ç€å¤´æ™•ï¼Œ Gitç®¡ç†çš„æ–‡ä»¶åˆ†ä¸ºï¼šå·¥ä½œåŒºï¼Œç‰ˆæœ¬åº“ï¼Œç‰ˆæœ¬åº“åˆåˆ†ä¸ºæš‚å­˜åŒºstageå’Œæš‚å­˜åŒºåˆ†æ”¯master(ä»“åº“) å·¥ä½œåŒº>>>>æš‚å­˜åŒº>>>>ä»“åº“ git addæŠŠæ–‡ä»¶ä»å·¥ä½œåŒº>>>>æš‚å­˜åŒºï¼Œgit commitæŠŠæ–‡ä»¶ä»æš‚å­˜åŒº>>>>ä»“åº“ï¼Œ git diffæŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºå·®å¼‚ï¼Œ git diff â€“cachedæŸ¥çœ‹æš‚å­˜åŒºå’Œä»“åº“å·®å¼‚ï¼Œ git diff HEAD æŸ¥çœ‹å·¥ä½œåŒºå’Œä»“åº“çš„å·®å¼‚ï¼Œ git addçš„åå‘å‘½ä»¤git checkoutï¼Œæ’¤é”€å·¥ä½œåŒºä¿®æ”¹ï¼Œå³æŠŠæš‚å­˜åŒºæœ€æ–°ç‰ˆæœ¬è½¬ç§»åˆ°å·¥ä½œåŒºï¼Œ git commitçš„åå‘å‘½ä»¤git reset HEADï¼Œå°±æ˜¯æŠŠä»“åº“æœ€æ–°ç‰ˆæœ¬è½¬ç§»åˆ°æš‚å­˜åŒºã€‚ ç®¡ç†ä¿®æ”¹å¦‚æœä¸ä½¿ç”¨git addæ·»åŠ åˆ°æš‚å­˜åŒºï¼Œé‚£ä¹ˆå°±ä¸ä¼šæ·»åŠ åˆ°commitä¸­ã€‚ æ’¤é”€ä¿®æ”¹åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤git checkout -- fileã€‚ åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤git reset HEADï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚ åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒç‰ˆæœ¬å›é€€ä¸€èŠ‚ï¼Œä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“ã€‚ åˆ é™¤æ–‡ä»¶ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤æ–‡ä»¶git rm å¹¶ä¸”ä½¿ç”¨git commitè¿›è¡Œæäº¤æ“ä½œ $ git rm test.txtrm 'test.txt'$ git commit -m \"remove test.txt\"[master d46f35e] remove test.txt 1 file changed, 1 deletion(-) delete mode 100644 test.txt git checkoutæ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚ è¿œç¨‹ä»“åº“sshå¯†é’¥çš„é…ç½®åœ¨ç ”ç©¶HEXOçš„æ—¶å€™åšè¿‡äº†ï¼Œæ„ŸåŠ¨ï¼ æ·»åŠ è¿œç¨‹åº“origin: Gitè¿œç¨‹åº“çš„åå­— $ git push -u origin master åªè¦æœ¬åœ°ä½œäº†æäº¤ï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤ï¼š $ git push origin master æŠŠæœ¬åœ°masteråˆ†æ”¯çš„æœ€æ–°ä¿®æ”¹æ¨é€è‡³GitHubï¼Œç°åœ¨ï¼Œä½ å°±æ‹¥æœ‰äº†çœŸæ­£çš„åˆ†å¸ƒå¼ç‰ˆæœ¬åº“ï¼ è¦å…³è”ä¸€ä¸ªè¿œç¨‹åº“ï¼Œä½¿ç”¨å‘½ä»¤git remote add origin git@server-name:path/repo-name.gitï¼› å…³è”åï¼Œä½¿ç”¨å‘½ä»¤git push -u origin masterç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼› æ­¤åï¼Œæ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤git push origin masteræ¨é€æœ€æ–°ä¿®æ”¹ï¼› ä»è¿œç¨‹åº“å…‹éš† è¦å…‹éš†ä¸€ä¸ªä»“åº“ï¼Œé¦–å…ˆå¿…é¡»çŸ¥é“ä»“åº“çš„åœ°å€ï¼Œç„¶åä½¿ç”¨git cloneå‘½ä»¤å…‹éš†ã€‚ Gitæ”¯æŒå¤šç§åè®®ï¼ŒåŒ…æ‹¬httpsï¼Œä½†é€šè¿‡sshæ”¯æŒçš„åŸç”Ÿgitåè®®é€Ÿåº¦æœ€å¿«ã€‚ æˆ‘åœ¨å­¦ä¹ Hexoçš„æ—¶å€™ç”¨çš„æ˜¯httpsåè®®ï¼Œè€Œé‡‡ç”¨gitåè®®çš„å‚è€ƒæ ·ä¾‹å¦‚ä¸‹â€”â€” $ git clone git@github.com:michaelliao/gitskills.gitCloning into 'gitskills'...remote: Counting objects: 3, done.remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 3Receiving objects: 100% (3/3), done.","permalink":"https://mondaycha.github.io/2020/02/09/209-2/","photos":[]},{"tags":[{"name":"ACG","slug":"ACG","permalink":"https://mondaycha.github.io/tags/ACG/"},{"name":"è½»å°è¯´","slug":"è½»å°è¯´","permalink":"https://mondaycha.github.io/tags/%E8%BD%BB%E5%B0%8F%E8%AF%B4/"}],"categories":[{"name":"èµ„æº","slug":"èµ„æº","permalink":"https://mondaycha.github.io/categories/%E8%B5%84%E6%BA%90/"}],"title":"ã€ePubèµ„æºã€æœ‰æ—¶é—´è°ˆæ‹çˆ±ä¸å¦‚å»æŠ½å¡ï¼02","date":"2020/02/09","text":"å“‡ï¼Œè¿™æ¬¡ç»ˆäºå‡†å¤‡å¥½äº†â€œç²¾æ’ç‰ˆâ€çš„ç¬¬äºŒå†Œã€‚ ä¸‹è½½æ¸ é“ï¼š é“¾æ¥ï¼šhttps://pan.baidu.com/s/1oBC-fIF3JKi1swqB23l8agæå–ç ï¼š2333 å˜¿å˜¿ï¼Œå†²é¸­ï¼ï¼ï¼","permalink":"https://mondaycha.github.io/2020/02/09/209-1/","photos":["https://pic.downk.cc/item/5e3f5e1d2fb38b8c3c3ecf23.jpg"]},{"tags":[{"name":"Git","slug":"Git","permalink":"https://mondaycha.github.io/tags/Git/"},{"name":"å»–é›ªå³°","slug":"å»–é›ªå³°","permalink":"https://mondaycha.github.io/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"Git-Day2","date":"2020/02/07","text":"ä»ä¸€æ¬¡å°è¯•è¯´èµ·ä»Šå¤©è¯•ç€æŠŠè‡ªå·±çš„ç¥­ç¥–ä»£ç æäº¤åˆ° Github ä¸Šï¼Œæ€»ç»“ä¸€ä¸‹æ“ä½œï¼š è¿›å…¥æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå³é”®â€œGit Bash Hereâ€ è¾“å…¥git initï¼Œå®Œæˆåˆå§‹åŒ– è¾“å…¥git add .ï¼Œå°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ è¾“å…¥git commit -m \"xxxx\"ï¼Œæäº¤ä¿®æ”¹ é¦–æ¬¡æäº¤è¦git pull ä¸€ä¸‹ï¼Œgit pull origin master å°†ä»£ç æäº¤åˆ°GitHubä¸Šï¼Œgit push -f origin master è¿™é‡Œï¼Œå…³äºç¬¬å…­æ­¥ï¼Œæœ‰ä¸¤ç§åŠæ³•ï¼š git push -u origin mastergit push -f origin master åè€…æ˜¯å¼ºåˆ¶ä¸Šä¼ è¦†ç›–è¿œç¨‹æ–‡ä»¶ã€‚ æœ€åæ€»ç®—æ˜¯æäº¤æˆåŠŸäº†ï¼Œé™„ä¸Šä»“åº“åœ°å€â€”â€” https://github.com/MondayCha/BUAA-CO-2019","permalink":"https://mondaycha.github.io/2020/02/07/207-2/","photos":[]},{"tags":[{"name":"Git","slug":"Git","permalink":"https://mondaycha.github.io/tags/Git/"},{"name":"å»–é›ªå³°","slug":"å»–é›ªå³°","permalink":"https://mondaycha.github.io/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/"}],"categories":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://mondaycha.github.io/categories/%E5%AD%A6%E4%B9%A0/"}],"title":"Git-Day1","date":"2020/02/06","text":"åˆ›å»ºç‰ˆæœ¬åº“é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„åœ°æ–¹ï¼Œåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼š $ mkdir learngit$ cd learngit$ pwd åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“ï¼Œä½¿ç”¨git initå‘½ä»¤ã€‚ æ·»åŠ æ–‡ä»¶åˆ°Gitä»“åº“ï¼Œåˆ†ä¸¤æ­¥ï¼š ä½¿ç”¨å‘½ä»¤git addï¼Œæ³¨æ„ï¼Œå¯åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ å¤šä¸ªæ–‡ä»¶ï¼› ä½¿ç”¨å‘½ä»¤git commit -mï¼Œå®Œæˆã€‚ æ—¶å…‰æœºç©¿æ¢­è¦éšæ—¶æŒæ¡å·¥ä½œåŒºçš„çŠ¶æ€ï¼Œä½¿ç”¨git statuså‘½ä»¤ã€‚ å¦‚æœgit statuså‘Šè¯‰ä½ æœ‰æ–‡ä»¶è¢«ä¿®æ”¹è¿‡ï¼Œç”¨git diffå¯ä»¥æŸ¥çœ‹ä¿®æ”¹å†…å®¹ã€‚","permalink":"https://mondaycha.github.io/2020/02/06/206-1/","photos":[]},{"tags":[{"name":"ACG","slug":"ACG","permalink":"https://mondaycha.github.io/tags/ACG/"},{"name":"è½»å°è¯´","slug":"è½»å°è¯´","permalink":"https://mondaycha.github.io/tags/%E8%BD%BB%E5%B0%8F%E8%AF%B4/"}],"categories":[{"name":"èµ„æº","slug":"èµ„æº","permalink":"https://mondaycha.github.io/categories/%E8%B5%84%E6%BA%90/"}],"title":"ã€ePubèµ„æºã€æœ‰æ—¶é—´è°ˆæ‹çˆ±ä¸å¦‚å»æŠ½å¡ï¼01","date":"2020/02/03","text":"æœ€è¿‘æœ‰ç‚¹æ²‰è¿·æ°ªé‡‘æ‰‹æ¸¸ï¼Œæ‰€ä»¥è‡ªå·±å­¦ä¹ äº†ä¸€ç‚¹Sigilçš„çš®æ¯›ï¼Œåˆ¶ä½œäº†è¿™ä¸ªå……æ»¡è®½åˆºæ„å‘³çš„è½»å°è¯´çš„ePubæ–‡ä»¶ã€‚ é“¾æ¥ï¼šhttps://pan.baidu.com/s/1zQX7l1PDzjMx3rv4U-c34wæå–ç ï¼š2333 æ„Ÿæƒ³çš„è¯â€¦â€¦ä¸çŸ¥é“æˆ‘çš„èˆçŒ«èƒ½ä¸èƒ½æ»¡å®å•ŠQAQ åˆšåˆšåˆæ­ªæ± å­äº†â€¦â€¦","permalink":"https://mondaycha.github.io/2020/02/03/203-1/","photos":[]},{"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://mondaycha.github.io/tags/%E9%9A%8F%E7%AC%94/"}],"categories":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"https://mondaycha.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"title":"ç¬¬ä¸€ç¯‡æ–‡ç« ï¼","date":"2020/02/02","text":"ç¬¬ä¸€ç¯‡æ–‡ç« ï¼å‰å‰ååé…ç½®äº†ä¸€å¤©ç»ˆäºæ­å»ºå¥½äº†ï¼Œæ¥ä¸‹æ¥ä¹ŸåŠ æ²¹å§ï¼","permalink":"https://mondaycha.github.io/2020/02/02/202-1/","photos":[]},{"tags":[],"categories":[],"title":"Hello World","date":"2020/02/01","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post$ hexo new \"My New Post\" More info: Writing Run server$ hexo server More info: Server Generate static files$ hexo generate More info: Generating Deploy to remote sites$ hexo deploy More info: Deployment","permalink":"https://mondaycha.github.io/2020/02/01/201-1/","photos":[]}]}